var fm=Object.defineProperty;var cu=t=>{throw TypeError(t)};var pm=(t,e,s)=>e in t?fm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var be=(t,e,s)=>pm(t,typeof e!="symbol"?e+"":e,s),Na=(t,e,s)=>e.has(t)||cu("Cannot "+s);var w=(t,e,s)=>(Na(t,e,"read from private field"),s?s.call(t):e.get(t)),ae=(t,e,s)=>e.has(t)?cu("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),te=(t,e,s,n)=>(Na(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s),ve=(t,e,s)=>(Na(t,e,"access private method"),s);var yo=(t,e,s,n)=>({set _(i){te(t,e,i,s)},get _(){return w(t,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function fc(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const Be={},yi=[],_s=()=>{},gm=()=>!1,_a=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),pc=t=>t.startsWith("onUpdate:"),ct=Object.assign,gc=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},mm=Object.prototype.hasOwnProperty,De=(t,e)=>mm.call(t,e),oe=Array.isArray,bi=t=>ro(t)==="[object Map]",Qi=t=>ro(t)==="[object Set]",uu=t=>ro(t)==="[object Date]",fe=t=>typeof t=="function",Xe=t=>typeof t=="string",ns=t=>typeof t=="symbol",Ne=t=>t!==null&&typeof t=="object",df=t=>(Ne(t)||fe(t))&&fe(t.then)&&fe(t.catch),hf=Object.prototype.toString,ro=t=>hf.call(t),ym=t=>ro(t).slice(8,-1),ff=t=>ro(t)==="[object Object]",mc=t=>Xe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,_r=fc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xa=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},bm=/-(\w)/g,Qt=xa(t=>t.replace(bm,(e,s)=>s?s.toUpperCase():"")),vm=/\B([A-Z])/g,yn=xa(t=>t.replace(vm,"-$1").toLowerCase()),wa=xa(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ua=xa(t=>t?`on${wa(t)}`:""),hn=(t,e)=>!Object.is(t,e),Ho=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},pf=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},Zo=t=>{const e=parseFloat(t);return isNaN(e)?t:e},_m=t=>{const e=Xe(t)?Number(t):NaN;return isNaN(e)?t:e};let du;const ka=()=>du||(du=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vi(t){if(oe(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],i=Xe(n)?Sm(n):vi(n);if(i)for(const r in i)e[r]=i[r]}return e}else if(Xe(t)||Ne(t))return t}const xm=/;(?![^(]*\))/g,wm=/:([^]+)/,km=/\/\*[^]*?\*\//g;function Sm(t){const e={};return t.replace(km,"").split(xm).forEach(s=>{if(s){const n=s.split(wm);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function et(t){let e="";if(Xe(t))e=t;else if(oe(t))for(let s=0;s<t.length;s++){const n=et(t[s]);n&&(e+=n+" ")}else if(Ne(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Cm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Om=fc(Cm);function gf(t){return!!t||t===""}function Tm(t,e){if(t.length!==e.length)return!1;let s=!0;for(let n=0;s&&n<t.length;n++)s=oo(t[n],e[n]);return s}function oo(t,e){if(t===e)return!0;let s=uu(t),n=uu(e);if(s||n)return s&&n?t.getTime()===e.getTime():!1;if(s=ns(t),n=ns(e),s||n)return t===e;if(s=oe(t),n=oe(e),s||n)return s&&n?Tm(t,e):!1;if(s=Ne(t),n=Ne(e),s||n){if(!s||!n)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!oo(t[o],e[o]))return!1}}return String(t)===String(e)}function yc(t,e){return t.findIndex(s=>oo(s,e))}const mf=t=>!!(t&&t.__v_isRef===!0),q=t=>Xe(t)?t:t==null?"":oe(t)||Ne(t)&&(t.toString===hf||!fe(t.toString))?mf(t)?q(t.value):JSON.stringify(t,yf,2):String(t),yf=(t,e)=>mf(e)?yf(t,e.value):bi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,i],r)=>(s[Va(n,r)+" =>"]=i,s),{})}:Qi(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Va(s))}:ns(e)?Va(e):Ne(e)&&!oe(e)&&!ff(e)?String(e):e,Va=(t,e="")=>{var s;return ns(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let kt;class Pm{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=kt,!e&&kt&&(this.index=(kt.scopes||(kt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=kt;try{return kt=this,e()}finally{kt=s}}}on(){kt=this}off(){kt=this.parent}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Em(){return kt}function bf(t,e=!1){kt&&kt.cleanups.push(t)}let He;const Ha=new WeakSet;class vf{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,kt&&kt.active&&kt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ha.has(this)&&(Ha.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,hu(this),wf(this);const e=He,s=ss;He=this,ss=!0;try{return this.fn()}finally{kf(this),He=e,ss=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)_c(e);this.deps=this.depsTail=void 0,hu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ha.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){bl(this)&&this.run()}get dirty(){return bl(this)}}let _f=0,xr,wr;function xf(t,e=!1){if(t.flags|=8,e){t.next=wr,wr=t;return}t.next=xr,xr=t}function bc(){_f++}function vc(){if(--_f>0)return;if(wr){let e=wr;for(wr=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;xr;){let e=xr;for(xr=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function wf(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function kf(t){let e,s=t.depsTail,n=s;for(;n;){const i=n.prevDep;n.version===-1?(n===s&&(s=i),_c(n),Mm(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}t.deps=e,t.depsTail=s}function bl(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Sf(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Sf(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ir))return;t.globalVersion=Ir;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!bl(t)){t.flags&=-3;return}const s=He,n=ss;He=t,ss=!0;try{wf(t);const i=t.fn(t._value);(e.version===0||hn(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{He=s,ss=n,kf(t),t.flags&=-3}}function _c(t,e=!1){const{dep:s,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)_c(r,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Mm(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let ss=!0;const Cf=[];function bn(){Cf.push(ss),ss=!1}function vn(){const t=Cf.pop();ss=t===void 0?!0:t}function hu(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=He;He=void 0;try{e()}finally{He=s}}}let Ir=0;class Am{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class xc{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!He||!ss||He===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==He)s=this.activeLink=new Am(He,this),He.deps?(s.prevDep=He.depsTail,He.depsTail.nextDep=s,He.depsTail=s):He.deps=He.depsTail=s,Of(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=He.depsTail,s.nextDep=void 0,He.depsTail.nextDep=s,He.depsTail=s,He.deps===s&&(He.deps=n)}return s}trigger(e){this.version++,Ir++,this.notify(e)}notify(e){bc();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{vc()}}}function Of(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)Of(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const ea=new WeakMap,Wn=Symbol(""),vl=Symbol(""),Fr=Symbol("");function gt(t,e,s){if(ss&&He){let n=ea.get(t);n||ea.set(t,n=new Map);let i=n.get(s);i||(n.set(s,i=new xc),i.map=n,i.key=s),i.track()}}function Ds(t,e,s,n,i,r){const o=ea.get(t);if(!o){Ir++;return}const a=l=>{l&&l.trigger()};if(bc(),e==="clear")o.forEach(a);else{const l=oe(t),c=l&&mc(s);if(l&&s==="length"){const u=Number(n);o.forEach((d,h)=>{(h==="length"||h===Fr||!ns(h)&&h>=u)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),c&&a(o.get(Fr)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Wn)),bi(t)&&a(o.get(vl)));break;case"delete":l||(a(o.get(Wn)),bi(t)&&a(o.get(vl)));break;case"set":bi(t)&&a(o.get(Wn));break}}vc()}function Rm(t,e){const s=ea.get(t);return s&&s.get(e)}function ni(t){const e=Te(t);return e===t?e:(gt(e,"iterate",Fr),Wt(t)?e:e.map(mt))}function Sa(t){return gt(t=Te(t),"iterate",Fr),t}const $m={__proto__:null,[Symbol.iterator](){return za(this,Symbol.iterator,mt)},concat(...t){return ni(this).concat(...t.map(e=>oe(e)?ni(e):e))},entries(){return za(this,"entries",t=>(t[1]=mt(t[1]),t))},every(t,e){return ws(this,"every",t,e,void 0,arguments)},filter(t,e){return ws(this,"filter",t,e,s=>s.map(mt),arguments)},find(t,e){return ws(this,"find",t,e,mt,arguments)},findIndex(t,e){return ws(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ws(this,"findLast",t,e,mt,arguments)},findLastIndex(t,e){return ws(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ws(this,"forEach",t,e,void 0,arguments)},includes(...t){return qa(this,"includes",t)},indexOf(...t){return qa(this,"indexOf",t)},join(t){return ni(this).join(t)},lastIndexOf(...t){return qa(this,"lastIndexOf",t)},map(t,e){return ws(this,"map",t,e,void 0,arguments)},pop(){return Zi(this,"pop")},push(...t){return Zi(this,"push",t)},reduce(t,...e){return fu(this,"reduce",t,e)},reduceRight(t,...e){return fu(this,"reduceRight",t,e)},shift(){return Zi(this,"shift")},some(t,e){return ws(this,"some",t,e,void 0,arguments)},splice(...t){return Zi(this,"splice",t)},toReversed(){return ni(this).toReversed()},toSorted(t){return ni(this).toSorted(t)},toSpliced(...t){return ni(this).toSpliced(...t)},unshift(...t){return Zi(this,"unshift",t)},values(){return za(this,"values",mt)}};function za(t,e,s){const n=Sa(t),i=n[e]();return n!==t&&!Wt(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=s(r.value)),r}),i}const Dm=Array.prototype;function ws(t,e,s,n,i,r){const o=Sa(t),a=o!==t&&!Wt(t),l=o[e];if(l!==Dm[e]){const d=l.apply(t,r);return a?mt(d):d}let c=s;o!==t&&(a?c=function(d,h){return s.call(this,mt(d),h,t)}:s.length>2&&(c=function(d,h){return s.call(this,d,h,t)}));const u=l.call(o,c,n);return a&&i?i(u):u}function fu(t,e,s,n){const i=Sa(t);let r=s;return i!==t&&(Wt(t)?s.length>3&&(r=function(o,a,l){return s.call(this,o,a,l,t)}):r=function(o,a,l){return s.call(this,o,mt(a),l,t)}),i[e](r,...n)}function qa(t,e,s){const n=Te(t);gt(n,"iterate",Fr);const i=n[e](...s);return(i===-1||i===!1)&&ao(s[0])?(s[0]=Te(s[0]),n[e](...s)):i}function Zi(t,e,s=[]){bn(),bc();const n=Te(t)[e].apply(t,s);return vc(),vn(),n}const Lm=fc("__proto__,__v_isRef,__isVue"),Tf=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ns));function Im(t){ns(t)||(t=String(t));const e=Te(this);return gt(e,"has",t),e.hasOwnProperty(t)}class Pf{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(i?r?Wm:Rf:r?Af:Mf).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=oe(e);if(!i){let l;if(o&&(l=$m[s]))return l;if(s==="hasOwnProperty")return Im}const a=Reflect.get(e,s,st(e)?e:n);return(ns(s)?Tf.has(s):Lm(s))||(i||gt(e,"get",s),r)?a:st(a)?o&&mc(s)?a:a.value:Ne(a)?i?$f(a):Ca(a):a}}class Ef extends Pf{constructor(e=!1){super(!1,e)}set(e,s,n,i){let r=e[s];if(!this._isShallow){const l=Gn(r);if(!Wt(n)&&!Gn(n)&&(r=Te(r),n=Te(n)),!oe(e)&&st(r)&&!st(n))return l?!1:(r.value=n,!0)}const o=oe(e)&&mc(s)?Number(s)<e.length:De(e,s),a=Reflect.set(e,s,n,st(e)?e:i);return e===Te(i)&&(o?hn(n,r)&&Ds(e,"set",s,n):Ds(e,"add",s,n)),a}deleteProperty(e,s){const n=De(e,s);e[s];const i=Reflect.deleteProperty(e,s);return i&&n&&Ds(e,"delete",s,void 0),i}has(e,s){const n=Reflect.has(e,s);return(!ns(s)||!Tf.has(s))&&gt(e,"has",s),n}ownKeys(e){return gt(e,"iterate",oe(e)?"length":Wn),Reflect.ownKeys(e)}}class Fm extends Pf{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const jm=new Ef,Bm=new Fm,Nm=new Ef(!0);const _l=t=>t,bo=t=>Reflect.getPrototypeOf(t);function Um(t,e,s){return function(...n){const i=this.__v_raw,r=Te(i),o=bi(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...n),u=s?_l:e?xl:mt;return!e&&gt(r,"iterate",l?vl:Wn),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function vo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Vm(t,e){const s={get(i){const r=this.__v_raw,o=Te(r),a=Te(i);t||(hn(i,a)&&gt(o,"get",i),gt(o,"get",a));const{has:l}=bo(o),c=e?_l:t?xl:mt;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&gt(Te(i),"iterate",Wn),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=Te(r),a=Te(i);return t||(hn(i,a)&&gt(o,"has",i),gt(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=Te(a),c=e?_l:t?xl:mt;return!t&&gt(l,"iterate",Wn),a.forEach((u,d)=>i.call(r,c(u),c(d),o))}};return ct(s,t?{add:vo("add"),set:vo("set"),delete:vo("delete"),clear:vo("clear")}:{add(i){!e&&!Wt(i)&&!Gn(i)&&(i=Te(i));const r=Te(this);return bo(r).has.call(r,i)||(r.add(i),Ds(r,"add",i,i)),this},set(i,r){!e&&!Wt(r)&&!Gn(r)&&(r=Te(r));const o=Te(this),{has:a,get:l}=bo(o);let c=a.call(o,i);c||(i=Te(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?hn(r,u)&&Ds(o,"set",i,r):Ds(o,"add",i,r),this},delete(i){const r=Te(this),{has:o,get:a}=bo(r);let l=o.call(r,i);l||(i=Te(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&Ds(r,"delete",i,void 0),c},clear(){const i=Te(this),r=i.size!==0,o=i.clear();return r&&Ds(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=Um(i,t,e)}),s}function wc(t,e){const s=Vm(t,e);return(n,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(De(s,i)&&i in n?s:n,i,r)}const Hm={get:wc(!1,!1)},zm={get:wc(!1,!0)},qm={get:wc(!0,!1)};const Mf=new WeakMap,Af=new WeakMap,Rf=new WeakMap,Wm=new WeakMap;function Km(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Qm(t){return t.__v_skip||!Object.isExtensible(t)?0:Km(ym(t))}function Ca(t){return Gn(t)?t:kc(t,!1,jm,Hm,Mf)}function Oa(t){return kc(t,!1,Nm,zm,Af)}function $f(t){return kc(t,!0,Bm,qm,Rf)}function kc(t,e,s,n,i){if(!Ne(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=Qm(t);if(o===0)return t;const a=new Proxy(t,o===2?n:s);return i.set(t,a),a}function _i(t){return Gn(t)?_i(t.__v_raw):!!(t&&t.__v_isReactive)}function Gn(t){return!!(t&&t.__v_isReadonly)}function Wt(t){return!!(t&&t.__v_isShallow)}function ao(t){return t?!!t.__v_raw:!1}function Te(t){const e=t&&t.__v_raw;return e?Te(e):t}function Gm(t){return!De(t,"__v_skip")&&Object.isExtensible(t)&&pf(t,"__v_skip",!0),t}const mt=t=>Ne(t)?Ca(t):t,xl=t=>Ne(t)?$f(t):t;function st(t){return t?t.__v_isRef===!0:!1}function G(t){return Df(t,!1)}function Sc(t){return Df(t,!0)}function Df(t,e){return st(t)?t:new Ym(t,e)}class Ym{constructor(e,s){this.dep=new xc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:Te(e),this._value=s?e:mt(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||Wt(e)||Gn(e);e=n?e:Te(e),hn(e,s)&&(this._rawValue=e,this._value=n?e:mt(e),this.dep.trigger())}}function Y(t){return st(t)?t.value:t}const Jm={get:(t,e,s)=>e==="__v_raw"?t:Y(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const i=t[e];return st(i)&&!st(s)?(i.value=s,!0):Reflect.set(t,e,s,n)}};function Lf(t){return _i(t)?t:new Proxy(t,Jm)}function If(t){const e=oe(t)?new Array(t.length):{};for(const s in t)e[s]=Zm(t,s);return e}class Xm{constructor(e,s,n){this._object=e,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Rm(Te(this._object),this._key)}}function Zm(t,e,s){const n=t[e];return st(n)?n:new Xm(t,e,s)}class ey{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new xc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ir-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&He!==this)return xf(this,!0),!0}get value(){const e=this.dep.track();return Sf(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function ty(t,e,s=!1){let n,i;return fe(t)?n=t:(n=t.get,i=t.set),new ey(n,i,s)}const _o={},ta=new WeakMap;let Mn;function sy(t,e=!1,s=Mn){if(s){let n=ta.get(s);n||ta.set(s,n=[]),n.push(t)}}function ny(t,e,s=Be){const{immediate:n,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=s,c=S=>i?S:Wt(S)||i===!1||i===0?Ls(S,1):Ls(S);let u,d,h,f,y=!1,p=!1;if(st(t)?(d=()=>t.value,y=Wt(t)):_i(t)?(d=()=>c(t),y=!0):oe(t)?(p=!0,y=t.some(S=>_i(S)||Wt(S)),d=()=>t.map(S=>{if(st(S))return S.value;if(_i(S))return c(S);if(fe(S))return l?l(S,2):S()})):fe(t)?e?d=l?()=>l(t,2):t:d=()=>{if(h){bn();try{h()}finally{vn()}}const S=Mn;Mn=u;try{return l?l(t,3,[f]):t(f)}finally{Mn=S}}:d=_s,e&&i){const S=d,C=i===!0?1/0:i;d=()=>Ls(S(),C)}const g=Em(),b=()=>{u.stop(),g&&g.active&&gc(g.effects,u)};if(r&&e){const S=e;e=(...C)=>{S(...C),b()}}let x=p?new Array(t.length).fill(_o):_o;const k=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(e){const C=u.run();if(i||y||(p?C.some((j,D)=>hn(j,x[D])):hn(C,x))){h&&h();const j=Mn;Mn=u;try{const D=[C,x===_o?void 0:p&&x[0]===_o?[]:x,f];l?l(e,3,D):e(...D),x=C}finally{Mn=j}}}else u.run()};return a&&a(k),u=new vf(d),u.scheduler=o?()=>o(k,!1):k,f=S=>sy(S,!1,u),h=u.onStop=()=>{const S=ta.get(u);if(S){if(l)l(S,4);else for(const C of S)C();ta.delete(u)}},e?n?k(!0):x=u.run():o?o(k.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function Ls(t,e=1/0,s){if(e<=0||!Ne(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,st(t))Ls(t.value,e,s);else if(oe(t))for(let n=0;n<t.length;n++)Ls(t[n],e,s);else if(Qi(t)||bi(t))t.forEach(n=>{Ls(n,e,s)});else if(ff(t)){for(const n in t)Ls(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Ls(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function lo(t,e,s,n){try{return n?t(...n):t()}catch(i){Ta(i,e,s)}}function is(t,e,s,n){if(fe(t)){const i=lo(t,e,s,n);return i&&df(i)&&i.catch(r=>{Ta(r,e,s)}),i}if(oe(t)){const i=[];for(let r=0;r<t.length;r++)i.push(is(t[r],e,s,n));return i}}function Ta(t,e,s,n=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Be;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(r){bn(),lo(r,null,10,[t,l,c]),vn();return}}iy(t,s,i,n,o)}function iy(t,e,s,n=!0,i=!1){if(i)throw t;console.error(t)}const St=[];let ps=-1;const xi=[];let Ks=null,pi=0;const Ff=Promise.resolve();let sa=null;function co(t){const e=sa||Ff;return t?e.then(this?t.bind(this):t):e}function ry(t){let e=ps+1,s=St.length;for(;e<s;){const n=e+s>>>1,i=St[n],r=jr(i);r<t||r===t&&i.flags&2?e=n+1:s=n}return e}function Cc(t){if(!(t.flags&1)){const e=jr(t),s=St[St.length-1];!s||!(t.flags&2)&&e>=jr(s)?St.push(t):St.splice(ry(e),0,t),t.flags|=1,jf()}}function jf(){sa||(sa=Ff.then(Nf))}function oy(t){oe(t)?xi.push(...t):Ks&&t.id===-1?Ks.splice(pi+1,0,t):t.flags&1||(xi.push(t),t.flags|=1),jf()}function pu(t,e,s=ps+1){for(;s<St.length;s++){const n=St[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;St.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Bf(t){if(xi.length){const e=[...new Set(xi)].sort((s,n)=>jr(s)-jr(n));if(xi.length=0,Ks){Ks.push(...e);return}for(Ks=e,pi=0;pi<Ks.length;pi++){const s=Ks[pi];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ks=null,pi=0}}const jr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Nf(t){try{for(ps=0;ps<St.length;ps++){const e=St[ps];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),lo(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ps<St.length;ps++){const e=St[ps];e&&(e.flags&=-2)}ps=-1,St.length=0,Bf(),sa=null,(St.length||xi.length)&&Nf()}}let tt=null,Uf=null;function na(t){const e=tt;return tt=t,Uf=t&&t.type.__scopeId||null,e}function Se(t,e=tt,s){if(!e||t._n)return t;const n=(...i)=>{n._d&&Cu(-1);const r=na(e);let o;try{o=t(...i)}finally{na(r),n._d&&Cu(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function xe(t,e){if(tt===null)return t;const s=Ra(tt),n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,a,l=Be]=e[i];r&&(fe(r)&&(r={mounted:r,updated:r}),r.deep&&Ls(o),n.push({dir:r,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function wn(t,e,s,n){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[n];l&&(bn(),is(l,s,8,[t.el,a,t,e]),vn())}}const ay=Symbol("_vte"),Vf=t=>t.__isTeleport,Qs=Symbol("_leaveCb"),xo=Symbol("_enterCb");function ly(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Oc(()=>{t.isMounted=!0}),Yf(()=>{t.isUnmounting=!0}),t}const Bt=[Function,Array],Hf={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Bt,onEnter:Bt,onAfterEnter:Bt,onEnterCancelled:Bt,onBeforeLeave:Bt,onLeave:Bt,onAfterLeave:Bt,onLeaveCancelled:Bt,onBeforeAppear:Bt,onAppear:Bt,onAfterAppear:Bt,onAppearCancelled:Bt},zf=t=>{const e=t.subTree;return e.component?zf(e.component):e},cy={name:"BaseTransition",props:Hf,setup(t,{slots:e}){const s=ab(),n=ly();return()=>{const i=e.default&&Kf(e.default(),!0);if(!i||!i.length)return;const r=qf(i),o=Te(t),{mode:a}=o;if(n.isLeaving)return Wa(r);const l=gu(r);if(!l)return Wa(r);let c=wl(l,o,n,s,d=>c=d);l.type!==Ct&&Br(l,c);let u=s.subTree&&gu(s.subTree);if(u&&u.type!==Ct&&!Dn(l,u)&&zf(s).type!==Ct){let d=wl(u,o,n,s);if(Br(u,d),a==="out-in"&&l.type!==Ct)return n.isLeaving=!0,d.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete d.afterLeave,u=void 0},Wa(r);a==="in-out"&&l.type!==Ct?d.delayLeave=(h,f,y)=>{const p=Wf(n,u);p[String(u.key)]=u,h[Qs]=()=>{f(),h[Qs]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{y(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function qf(t){let e=t[0];if(t.length>1){for(const s of t)if(s.type!==Ct){e=s;break}}return e}const uy=cy;function Wf(t,e){const{leavingVNodes:s}=t;let n=s.get(e.type);return n||(n=Object.create(null),s.set(e.type,n)),n}function wl(t,e,s,n,i){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:h,onLeave:f,onAfterLeave:y,onLeaveCancelled:p,onBeforeAppear:g,onAppear:b,onAfterAppear:x,onAppearCancelled:k}=e,S=String(t.key),C=Wf(s,t),j=(P,B)=>{P&&is(P,n,9,B)},D=(P,B)=>{const R=B[1];j(P,B),oe(P)?P.every(T=>T.length<=1)&&R():P.length<=1&&R()},$={mode:o,persisted:a,beforeEnter(P){let B=l;if(!s.isMounted)if(r)B=g||l;else return;P[Qs]&&P[Qs](!0);const R=C[S];R&&Dn(t,R)&&R.el[Qs]&&R.el[Qs](),j(B,[P])},enter(P){let B=c,R=u,T=d;if(!s.isMounted)if(r)B=b||c,R=x||u,T=k||d;else return;let J=!1;const ne=P[xo]=pe=>{J||(J=!0,pe?j(T,[P]):j(R,[P]),$.delayedLeave&&$.delayedLeave(),P[xo]=void 0)};B?D(B,[P,ne]):ne()},leave(P,B){const R=String(t.key);if(P[xo]&&P[xo](!0),s.isUnmounting)return B();j(h,[P]);let T=!1;const J=P[Qs]=ne=>{T||(T=!0,B(),ne?j(p,[P]):j(y,[P]),P[Qs]=void 0,C[R]===t&&delete C[R])};C[R]=t,f?D(f,[P,J]):J()},clone(P){const B=wl(P,e,s,n,i);return i&&i(B),B}};return $}function Wa(t){if(Pa(t))return t=pn(t),t.children=null,t}function gu(t){if(!Pa(t))return Vf(t.type)&&t.children?qf(t.children):t;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&fe(s.default))return s.default()}}function Br(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Br(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Kf(t,e=!1,s){let n=[],i=0;for(let r=0;r<t.length;r++){let o=t[r];const a=s==null?o.key:String(s)+String(o.key!=null?o.key:r);o.type===ke?(o.patchFlag&128&&i++,n=n.concat(Kf(o.children,e,a))):(e||o.type!==Ct)&&n.push(a!=null?pn(o,{key:a}):o)}if(i>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Ze(t,e){return fe(t)?ct({name:t.name},e,{setup:t}):t}function Qf(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function ia(t,e,s,n,i=!1){if(oe(t)){t.forEach((y,p)=>ia(y,e&&(oe(e)?e[p]:e),s,n,i));return}if(wi(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&ia(t,e,s,n.component.subTree);return}const r=n.shapeFlag&4?Ra(n.component):n.el,o=i?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Be?a.refs={}:a.refs,d=a.setupState,h=Te(d),f=d===Be?()=>!1:y=>De(h,y);if(c!=null&&c!==l&&(Xe(c)?(u[c]=null,f(c)&&(d[c]=null)):st(c)&&(c.value=null)),fe(l))lo(l,a,12,[o,u]);else{const y=Xe(l),p=st(l);if(y||p){const g=()=>{if(t.f){const b=y?f(l)?d[l]:u[l]:l.value;i?oe(b)&&gc(b,r):oe(b)?b.includes(r)||b.push(r):y?(u[l]=[r],f(l)&&(d[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else y?(u[l]=o,f(l)&&(d[l]=o)):p&&(l.value=o,t.k&&(u[t.k]=o))};o?(g.id=-1,It(g,s)):g()}}}ka().requestIdleCallback;ka().cancelIdleCallback;const wi=t=>!!t.type.__asyncLoader,Pa=t=>t.type.__isKeepAlive;function dy(t,e){Gf(t,"a",e)}function hy(t,e){Gf(t,"da",e)}function Gf(t,e,s=ot){const n=t.__wdc||(t.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Ea(e,n,s),s){let i=s.parent;for(;i&&i.parent;)Pa(i.parent.vnode)&&fy(n,e,s,i),i=i.parent}}function fy(t,e,s,n){const i=Ea(e,t,n,!0);Tc(()=>{gc(n[e],i)},s)}function Ea(t,e,s=ot,n=!1){if(s){const i=s[t]||(s[t]=[]),r=e.__weh||(e.__weh=(...o)=>{bn();const a=uo(s),l=is(e,s,t,o);return a(),vn(),l});return n?i.unshift(r):i.push(r),r}}const js=t=>(e,s=ot)=>{(!Vr||t==="sp")&&Ea(t,(...n)=>e(...n),s)},py=js("bm"),Oc=js("m"),gy=js("bu"),my=js("u"),Yf=js("bum"),Tc=js("um"),yy=js("sp"),by=js("rtg"),vy=js("rtc");function _y(t,e=ot){Ea("ec",t,e)}const xy="components";function _n(t,e){return ky(xy,t,!0,e)||t}const wy=Symbol.for("v-ndc");function ky(t,e,s=!0,n=!1){const i=tt||ot;if(i){const r=i.type;{const a=hb(r,!1);if(a&&(a===e||a===Qt(e)||a===wa(Qt(e))))return r}const o=mu(i[t]||r[t],e)||mu(i.appContext[t],e);return!o&&n?r:o}}function mu(t,e){return t&&(t[e]||t[Qt(e)]||t[wa(Qt(e))])}function ht(t,e,s,n){let i;const r=s,o=oe(t);if(o||Xe(t)){const a=o&&_i(t);let l=!1;a&&(l=!Wt(t),t=Sa(t)),i=new Array(t.length);for(let c=0,u=t.length;c<u;c++)i[c]=e(l?mt(t[c]):t[c],c,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,r)}else if(Ne(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(t[u],u,l,r)}}else i=[];return i}function vt(t,e,s={},n,i){if(tt.ce||tt.parent&&wi(tt.parent)&&tt.parent.ce)return e!=="default"&&(s.name=e),E(),Ht(ke,null,[re("slot",s,n&&n())],64);let r=t[e];r&&r._c&&(r._d=!1),E();const o=r&&Jf(r(s)),a=s.key||o&&o.key,l=Ht(ke,{key:(a&&!ns(a)?a:`_${e}`)+(!o&&n?"_fb":"")},o||(n?n():[]),o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function Jf(t){return t.some(e=>Ur(e)?!(e.type===Ct||e.type===ke&&!Jf(e.children)):!0)?t:null}const kl=t=>t?yp(t)?Ra(t):kl(t.parent):null,kr=ct(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>kl(t.parent),$root:t=>kl(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Zf(t),$forceUpdate:t=>t.f||(t.f=()=>{Cc(t.update)}),$nextTick:t=>t.n||(t.n=co.bind(t.proxy)),$watch:t=>Wy.bind(t)}),Ka=(t,e)=>t!==Be&&!t.__isScriptSetup&&De(t,e),Sy={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:i,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return n[e];case 2:return i[e];case 4:return s[e];case 3:return r[e]}else{if(Ka(n,e))return o[e]=1,n[e];if(i!==Be&&De(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&De(c,e))return o[e]=3,r[e];if(s!==Be&&De(s,e))return o[e]=4,s[e];Sl&&(o[e]=0)}}const u=kr[e];let d,h;if(u)return e==="$attrs"&&gt(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(s!==Be&&De(s,e))return o[e]=4,s[e];if(h=l.config.globalProperties,De(h,e))return h[e]},set({_:t},e,s){const{data:n,setupState:i,ctx:r}=t;return Ka(i,e)?(i[e]=s,!0):n!==Be&&De(n,e)?(n[e]=s,!0):De(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:i,propsOptions:r}},o){let a;return!!s[o]||t!==Be&&De(t,o)||Ka(e,o)||(a=r[0])&&De(a,o)||De(n,o)||De(kr,o)||De(i.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:De(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function yu(t){return oe(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Sl=!0;function Cy(t){const e=Zf(t),s=t.proxy,n=t.ctx;Sl=!1,e.beforeCreate&&bu(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:y,activated:p,deactivated:g,beforeDestroy:b,beforeUnmount:x,destroyed:k,unmounted:S,render:C,renderTracked:j,renderTriggered:D,errorCaptured:$,serverPrefetch:P,expose:B,inheritAttrs:R,components:T,directives:J,filters:ne}=e;if(c&&Oy(c,n,null),o)for(const N in o){const se=o[N];fe(se)&&(n[N]=se.bind(s))}if(i){const N=i.call(s,s);Ne(N)&&(t.data=Ca(N))}if(Sl=!0,r)for(const N in r){const se=r[N],V=fe(se)?se.bind(s,s):fe(se.get)?se.get.bind(s,s):_s,X=!fe(se)&&fe(se.set)?se.set.bind(s):_s,me=ye({get:V,set:X});Object.defineProperty(n,N,{enumerable:!0,configurable:!0,get:()=>me.value,set:de=>me.value=de})}if(a)for(const N in a)Xf(a[N],n,s,N);if(l){const N=fe(l)?l.call(s):l;Reflect.ownKeys(N).forEach(se=>{zo(se,N[se])})}u&&bu(u,t,"c");function W(N,se){oe(se)?se.forEach(V=>N(V.bind(s))):se&&N(se.bind(s))}if(W(py,d),W(Oc,h),W(gy,f),W(my,y),W(dy,p),W(hy,g),W(_y,$),W(vy,j),W(by,D),W(Yf,x),W(Tc,S),W(yy,P),oe(B))if(B.length){const N=t.exposed||(t.exposed={});B.forEach(se=>{Object.defineProperty(N,se,{get:()=>s[se],set:V=>s[se]=V})})}else t.exposed||(t.exposed={});C&&t.render===_s&&(t.render=C),R!=null&&(t.inheritAttrs=R),T&&(t.components=T),J&&(t.directives=J),P&&Qf(t)}function Oy(t,e,s=_s){oe(t)&&(t=Cl(t));for(const n in t){const i=t[n];let r;Ne(i)?"default"in i?r=Kt(i.from||n,i.default,!0):r=Kt(i.from||n):r=Kt(i),st(r)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[n]=r}}function bu(t,e,s){is(oe(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function Xf(t,e,s,n){let i=n.includes(".")?hp(s,n):()=>s[n];if(Xe(t)){const r=e[t];fe(r)&&Ye(i,r)}else if(fe(t))Ye(i,t.bind(s));else if(Ne(t))if(oe(t))t.forEach(r=>Xf(r,e,s,n));else{const r=fe(t.handler)?t.handler.bind(s):e[t.handler];fe(r)&&Ye(i,r,t)}}function Zf(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!s&&!n?l=e:(l={},i.length&&i.forEach(c=>ra(l,c,o,!0)),ra(l,e,o)),Ne(e)&&r.set(e,l),l}function ra(t,e,s,n=!1){const{mixins:i,extends:r}=e;r&&ra(t,r,s,!0),i&&i.forEach(o=>ra(t,o,s,!0));for(const o in e)if(!(n&&o==="expose")){const a=Ty[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Ty={data:vu,props:_u,emits:_u,methods:dr,computed:dr,beforeCreate:_t,created:_t,beforeMount:_t,mounted:_t,beforeUpdate:_t,updated:_t,beforeDestroy:_t,beforeUnmount:_t,destroyed:_t,unmounted:_t,activated:_t,deactivated:_t,errorCaptured:_t,serverPrefetch:_t,components:dr,directives:dr,watch:Ey,provide:vu,inject:Py};function vu(t,e){return e?t?function(){return ct(fe(t)?t.call(this,this):t,fe(e)?e.call(this,this):e)}:e:t}function Py(t,e){return dr(Cl(t),Cl(e))}function Cl(t){if(oe(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function _t(t,e){return t?[...new Set([].concat(t,e))]:e}function dr(t,e){return t?ct(Object.create(null),t,e):e}function _u(t,e){return t?oe(t)&&oe(e)?[...new Set([...t,...e])]:ct(Object.create(null),yu(t),yu(e??{})):e}function Ey(t,e){if(!t)return e;if(!e)return t;const s=ct(Object.create(null),t);for(const n in e)s[n]=_t(t[n],e[n]);return s}function ep(){return{app:null,config:{isNativeTag:gm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let My=0;function Ay(t,e){return function(n,i=null){fe(n)||(n=ct({},n)),i!=null&&!Ne(i)&&(i=null);const r=ep(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:My++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:vp,get config(){return r.config},set config(u){},use(u,...d){return o.has(u)||(u&&fe(u.install)?(o.add(u),u.install(c,...d)):fe(u)&&(o.add(u),u(c,...d))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,d){return d?(r.components[u]=d,c):r.components[u]},directive(u,d){return d?(r.directives[u]=d,c):r.directives[u]},mount(u,d,h){if(!l){const f=c._ceVNode||re(n,i);return f.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),t(f,u,h),l=!0,c._container=u,u.__vue_app__=c,Ra(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(is(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return r.provides[u]=d,c},runWithContext(u){const d=Kn;Kn=c;try{return u()}finally{Kn=d}}};return c}}let Kn=null;function zo(t,e){if(ot){let s=ot.provides;const n=ot.parent&&ot.parent.provides;n===s&&(s=ot.provides=Object.create(n)),s[t]=e}}function Kt(t,e,s=!1){const n=ot||tt;if(n||Kn){const i=Kn?Kn._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return s&&fe(e)?e.call(n&&n.proxy):e}}function Ry(){return!!(ot||tt||Kn)}const tp={},sp=()=>Object.create(tp),np=t=>Object.getPrototypeOf(t)===tp;function $y(t,e,s,n=!1){const i={},r=sp();t.propsDefaults=Object.create(null),ip(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);s?t.props=n?i:Oa(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function Dy(t,e,s,n){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=Te(i),[l]=t.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Ma(t.emitsOptions,h))continue;const f=e[h];if(l)if(De(r,h))f!==r[h]&&(r[h]=f,c=!0);else{const y=Qt(h);i[y]=Ol(l,a,y,f,t,!1)}else f!==r[h]&&(r[h]=f,c=!0)}}}else{ip(t,e,i,r)&&(c=!0);let u;for(const d in a)(!e||!De(e,d)&&((u=yn(d))===d||!De(e,u)))&&(l?s&&(s[d]!==void 0||s[u]!==void 0)&&(i[d]=Ol(l,a,d,void 0,t,!0)):delete i[d]);if(r!==a)for(const d in r)(!e||!De(e,d))&&(delete r[d],c=!0)}c&&Ds(t.attrs,"set","")}function ip(t,e,s,n){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(_r(l))continue;const c=e[l];let u;i&&De(i,u=Qt(l))?!r||!r.includes(u)?s[u]=c:(a||(a={}))[u]=c:Ma(t.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(r){const l=Te(s),c=a||Be;for(let u=0;u<r.length;u++){const d=r[u];s[d]=Ol(i,l,d,c[d],t,!De(c,d))}}return o}function Ol(t,e,s,n,i,r){const o=t[s];if(o!=null){const a=De(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&fe(l)){const{propsDefaults:c}=i;if(s in c)n=c[s];else{const u=uo(i);n=c[s]=l.call(null,e),u()}}else n=l;i.ce&&i.ce._setProp(s,n)}o[0]&&(r&&!a?n=!1:o[1]&&(n===""||n===yn(s))&&(n=!0))}return n}const Ly=new WeakMap;function rp(t,e,s=!1){const n=s?Ly:e.propsCache,i=n.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!fe(t)){const u=d=>{l=!0;const[h,f]=rp(d,e,!0);ct(o,h),f&&a.push(...f)};!s&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return Ne(t)&&n.set(t,yi),yi;if(oe(r))for(let u=0;u<r.length;u++){const d=Qt(r[u]);xu(d)&&(o[d]=Be)}else if(r)for(const u in r){const d=Qt(u);if(xu(d)){const h=r[u],f=o[d]=oe(h)||fe(h)?{type:h}:ct({},h),y=f.type;let p=!1,g=!0;if(oe(y))for(let b=0;b<y.length;++b){const x=y[b],k=fe(x)&&x.name;if(k==="Boolean"){p=!0;break}else k==="String"&&(g=!1)}else p=fe(y)&&y.name==="Boolean";f[0]=p,f[1]=g,(p||De(f,"default"))&&a.push(d)}}const c=[o,a];return Ne(t)&&n.set(t,c),c}function xu(t){return t[0]!=="$"&&!_r(t)}const op=t=>t[0]==="_"||t==="$stable",Pc=t=>oe(t)?t.map(vs):[vs(t)],Iy=(t,e,s)=>{if(e._n)return e;const n=Se((...i)=>Pc(e(...i)),s);return n._c=!1,n},ap=(t,e,s)=>{const n=t._ctx;for(const i in t){if(op(i))continue;const r=t[i];if(fe(r))e[i]=Iy(i,r,n);else if(r!=null){const o=Pc(r);e[i]=()=>o}}},lp=(t,e)=>{const s=Pc(e);t.slots.default=()=>s},cp=(t,e,s)=>{for(const n in e)(s||n!=="_")&&(t[n]=e[n])},Fy=(t,e,s)=>{const n=t.slots=sp();if(t.vnode.shapeFlag&32){const i=e._;i?(cp(n,e,s),s&&pf(n,"_",i,!0)):ap(e,n)}else e&&lp(t,e)},jy=(t,e,s)=>{const{vnode:n,slots:i}=t;let r=!0,o=Be;if(n.shapeFlag&32){const a=e._;a?s&&a===1?r=!1:cp(i,e,s):(r=!e.$stable,ap(e,i)),o=e}else e&&(lp(t,e),o={default:1});if(r)for(const a in i)!op(a)&&o[a]==null&&delete i[a]},It=Zy;function By(t){return Ny(t)}function Ny(t,e){const s=ka();s.__VUE__=!0;const{insert:n,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=_s,insertStaticContent:y}=t,p=(v,_,O,A=null,F=null,I=null,Q=void 0,z=null,H=!!_.dynamicChildren)=>{if(v===_)return;v&&!Dn(v,_)&&(A=L(v),de(v,F,I,!0),v=null),_.patchFlag===-2&&(H=!1,_.dynamicChildren=null);const{type:U,ref:ce,shapeFlag:Z}=_;switch(U){case Aa:g(v,_,O,A);break;case Ct:b(v,_,O,A);break;case qo:v==null&&x(_,O,A,Q);break;case ke:T(v,_,O,A,F,I,Q,z,H);break;default:Z&1?C(v,_,O,A,F,I,Q,z,H):Z&6?J(v,_,O,A,F,I,Q,z,H):(Z&64||Z&128)&&U.process(v,_,O,A,F,I,Q,z,H,ie)}ce!=null&&F&&ia(ce,v&&v.ref,I,_||v,!_)},g=(v,_,O,A)=>{if(v==null)n(_.el=a(_.children),O,A);else{const F=_.el=v.el;_.children!==v.children&&c(F,_.children)}},b=(v,_,O,A)=>{v==null?n(_.el=l(_.children||""),O,A):_.el=v.el},x=(v,_,O,A)=>{[v.el,v.anchor]=y(v.children,_,O,A,v.el,v.anchor)},k=({el:v,anchor:_},O,A)=>{let F;for(;v&&v!==_;)F=h(v),n(v,O,A),v=F;n(_,O,A)},S=({el:v,anchor:_})=>{let O;for(;v&&v!==_;)O=h(v),i(v),v=O;i(_)},C=(v,_,O,A,F,I,Q,z,H)=>{_.type==="svg"?Q="svg":_.type==="math"&&(Q="mathml"),v==null?j(_,O,A,F,I,Q,z,H):P(v,_,F,I,Q,z,H)},j=(v,_,O,A,F,I,Q,z)=>{let H,U;const{props:ce,shapeFlag:Z,transition:le,dirs:he}=v;if(H=v.el=o(v.type,I,ce&&ce.is,ce),Z&8?u(H,v.children):Z&16&&$(v.children,H,null,A,F,Qa(v,I),Q,z),he&&wn(v,null,A,"created"),D(H,v,v.scopeId,Q,A),ce){for(const Ue in ce)Ue!=="value"&&!_r(Ue)&&r(H,Ue,null,ce[Ue],I,A);"value"in ce&&r(H,"value",null,ce.value,I),(U=ce.onVnodeBeforeMount)&&cs(U,A,v)}he&&wn(v,null,A,"beforeMount");const Pe=Uy(F,le);Pe&&le.beforeEnter(H),n(H,_,O),((U=ce&&ce.onVnodeMounted)||Pe||he)&&It(()=>{U&&cs(U,A,v),Pe&&le.enter(H),he&&wn(v,null,A,"mounted")},F)},D=(v,_,O,A,F)=>{if(O&&f(v,O),A)for(let I=0;I<A.length;I++)f(v,A[I]);if(F){let I=F.subTree;if(_===I||pp(I.type)&&(I.ssContent===_||I.ssFallback===_)){const Q=F.vnode;D(v,Q,Q.scopeId,Q.slotScopeIds,F.parent)}}},$=(v,_,O,A,F,I,Q,z,H=0)=>{for(let U=H;U<v.length;U++){const ce=v[U]=z?Gs(v[U]):vs(v[U]);p(null,ce,_,O,A,F,I,Q,z)}},P=(v,_,O,A,F,I,Q)=>{const z=_.el=v.el;let{patchFlag:H,dynamicChildren:U,dirs:ce}=_;H|=v.patchFlag&16;const Z=v.props||Be,le=_.props||Be;let he;if(O&&kn(O,!1),(he=le.onVnodeBeforeUpdate)&&cs(he,O,_,v),ce&&wn(_,v,O,"beforeUpdate"),O&&kn(O,!0),(Z.innerHTML&&le.innerHTML==null||Z.textContent&&le.textContent==null)&&u(z,""),U?B(v.dynamicChildren,U,z,O,A,Qa(_,F),I):Q||se(v,_,z,null,O,A,Qa(_,F),I,!1),H>0){if(H&16)R(z,Z,le,O,F);else if(H&2&&Z.class!==le.class&&r(z,"class",null,le.class,F),H&4&&r(z,"style",Z.style,le.style,F),H&8){const Pe=_.dynamicProps;for(let Ue=0;Ue<Pe.length;Ue++){const Fe=Pe[Ue],Dt=Z[Fe],Tt=le[Fe];(Tt!==Dt||Fe==="value")&&r(z,Fe,Dt,Tt,F,O)}}H&1&&v.children!==_.children&&u(z,_.children)}else!Q&&U==null&&R(z,Z,le,O,F);((he=le.onVnodeUpdated)||ce)&&It(()=>{he&&cs(he,O,_,v),ce&&wn(_,v,O,"updated")},A)},B=(v,_,O,A,F,I,Q)=>{for(let z=0;z<_.length;z++){const H=v[z],U=_[z],ce=H.el&&(H.type===ke||!Dn(H,U)||H.shapeFlag&70)?d(H.el):O;p(H,U,ce,null,A,F,I,Q,!0)}},R=(v,_,O,A,F)=>{if(_!==O){if(_!==Be)for(const I in _)!_r(I)&&!(I in O)&&r(v,I,_[I],null,F,A);for(const I in O){if(_r(I))continue;const Q=O[I],z=_[I];Q!==z&&I!=="value"&&r(v,I,z,Q,F,A)}"value"in O&&r(v,"value",_.value,O.value,F)}},T=(v,_,O,A,F,I,Q,z,H)=>{const U=_.el=v?v.el:a(""),ce=_.anchor=v?v.anchor:a("");let{patchFlag:Z,dynamicChildren:le,slotScopeIds:he}=_;he&&(z=z?z.concat(he):he),v==null?(n(U,O,A),n(ce,O,A),$(_.children||[],O,ce,F,I,Q,z,H)):Z>0&&Z&64&&le&&v.dynamicChildren?(B(v.dynamicChildren,le,O,F,I,Q,z),(_.key!=null||F&&_===F.subTree)&&up(v,_,!0)):se(v,_,O,ce,F,I,Q,z,H)},J=(v,_,O,A,F,I,Q,z,H)=>{_.slotScopeIds=z,v==null?_.shapeFlag&512?F.ctx.activate(_,O,A,Q,H):ne(_,O,A,F,I,Q,H):pe(v,_,H)},ne=(v,_,O,A,F,I,Q)=>{const z=v.component=ob(v,A,F);if(Pa(v)&&(z.ctx.renderer=ie),lb(z,!1,Q),z.asyncDep){if(F&&F.registerDep(z,W,Q),!v.el){const H=z.subTree=re(Ct);b(null,H,_,O)}}else W(z,v,_,O,F,I,Q)},pe=(v,_,O)=>{const A=_.component=v.component;if(Jy(v,_,O))if(A.asyncDep&&!A.asyncResolved){N(A,_,O);return}else A.next=_,A.update();else _.el=v.el,A.vnode=_},W=(v,_,O,A,F,I,Q)=>{const z=()=>{if(v.isMounted){let{next:Z,bu:le,u:he,parent:Pe,vnode:Ue}=v;{const as=dp(v);if(as){Z&&(Z.el=Ue.el,N(v,Z,Q)),as.asyncDep.then(()=>{v.isUnmounted||z()});return}}let Fe=Z,Dt;kn(v,!1),Z?(Z.el=Ue.el,N(v,Z,Q)):Z=Ue,le&&Ho(le),(Dt=Z.props&&Z.props.onVnodeBeforeUpdate)&&cs(Dt,Pe,Z,Ue),kn(v,!0);const Tt=ku(v),os=v.subTree;v.subTree=Tt,p(os,Tt,d(os.el),L(os),v,F,I),Z.el=Tt.el,Fe===null&&Xy(v,Tt.el),he&&It(he,F),(Dt=Z.props&&Z.props.onVnodeUpdated)&&It(()=>cs(Dt,Pe,Z,Ue),F)}else{let Z;const{el:le,props:he}=_,{bm:Pe,m:Ue,parent:Fe,root:Dt,type:Tt}=v,os=wi(_);kn(v,!1),Pe&&Ho(Pe),!os&&(Z=he&&he.onVnodeBeforeMount)&&cs(Z,Fe,_),kn(v,!0);{Dt.ce&&Dt.ce._injectChildStyle(Tt);const as=v.subTree=ku(v);p(null,as,O,A,v,F,I),_.el=as.el}if(Ue&&It(Ue,F),!os&&(Z=he&&he.onVnodeMounted)){const as=_;It(()=>cs(Z,Fe,as),F)}(_.shapeFlag&256||Fe&&wi(Fe.vnode)&&Fe.vnode.shapeFlag&256)&&v.a&&It(v.a,F),v.isMounted=!0,_=O=A=null}};v.scope.on();const H=v.effect=new vf(z);v.scope.off();const U=v.update=H.run.bind(H),ce=v.job=H.runIfDirty.bind(H);ce.i=v,ce.id=v.uid,H.scheduler=()=>Cc(ce),kn(v,!0),U()},N=(v,_,O)=>{_.component=v;const A=v.vnode.props;v.vnode=_,v.next=null,Dy(v,_.props,A,O),jy(v,_.children,O),bn(),pu(v),vn()},se=(v,_,O,A,F,I,Q,z,H=!1)=>{const U=v&&v.children,ce=v?v.shapeFlag:0,Z=_.children,{patchFlag:le,shapeFlag:he}=_;if(le>0){if(le&128){X(U,Z,O,A,F,I,Q,z,H);return}else if(le&256){V(U,Z,O,A,F,I,Q,z,H);return}}he&8?(ce&16&&qe(U,F,I),Z!==U&&u(O,Z)):ce&16?he&16?X(U,Z,O,A,F,I,Q,z,H):qe(U,F,I,!0):(ce&8&&u(O,""),he&16&&$(Z,O,A,F,I,Q,z,H))},V=(v,_,O,A,F,I,Q,z,H)=>{v=v||yi,_=_||yi;const U=v.length,ce=_.length,Z=Math.min(U,ce);let le;for(le=0;le<Z;le++){const he=_[le]=H?Gs(_[le]):vs(_[le]);p(v[le],he,O,null,F,I,Q,z,H)}U>ce?qe(v,F,I,!0,!1,Z):$(_,O,A,F,I,Q,z,H,Z)},X=(v,_,O,A,F,I,Q,z,H)=>{let U=0;const ce=_.length;let Z=v.length-1,le=ce-1;for(;U<=Z&&U<=le;){const he=v[U],Pe=_[U]=H?Gs(_[U]):vs(_[U]);if(Dn(he,Pe))p(he,Pe,O,null,F,I,Q,z,H);else break;U++}for(;U<=Z&&U<=le;){const he=v[Z],Pe=_[le]=H?Gs(_[le]):vs(_[le]);if(Dn(he,Pe))p(he,Pe,O,null,F,I,Q,z,H);else break;Z--,le--}if(U>Z){if(U<=le){const he=le+1,Pe=he<ce?_[he].el:A;for(;U<=le;)p(null,_[U]=H?Gs(_[U]):vs(_[U]),O,Pe,F,I,Q,z,H),U++}}else if(U>le)for(;U<=Z;)de(v[U],F,I,!0),U++;else{const he=U,Pe=U,Ue=new Map;for(U=Pe;U<=le;U++){const Lt=_[U]=H?Gs(_[U]):vs(_[U]);Lt.key!=null&&Ue.set(Lt.key,U)}let Fe,Dt=0;const Tt=le-Pe+1;let os=!1,as=0;const Xi=new Array(Tt);for(U=0;U<Tt;U++)Xi[U]=0;for(U=he;U<=Z;U++){const Lt=v[U];if(Dt>=Tt){de(Lt,F,I,!0);continue}let ls;if(Lt.key!=null)ls=Ue.get(Lt.key);else for(Fe=Pe;Fe<=le;Fe++)if(Xi[Fe-Pe]===0&&Dn(Lt,_[Fe])){ls=Fe;break}ls===void 0?de(Lt,F,I,!0):(Xi[ls-Pe]=U+1,ls>=as?as=ls:os=!0,p(Lt,_[ls],O,null,F,I,Q,z,H),Dt++)}const au=os?Vy(Xi):yi;for(Fe=au.length-1,U=Tt-1;U>=0;U--){const Lt=Pe+U,ls=_[Lt],lu=Lt+1<ce?_[Lt+1].el:A;Xi[U]===0?p(null,ls,O,lu,F,I,Q,z,H):os&&(Fe<0||U!==au[Fe]?me(ls,O,lu,2):Fe--)}}},me=(v,_,O,A,F=null)=>{const{el:I,type:Q,transition:z,children:H,shapeFlag:U}=v;if(U&6){me(v.component.subTree,_,O,A);return}if(U&128){v.suspense.move(_,O,A);return}if(U&64){Q.move(v,_,O,ie);return}if(Q===ke){n(I,_,O);for(let Z=0;Z<H.length;Z++)me(H[Z],_,O,A);n(v.anchor,_,O);return}if(Q===qo){k(v,_,O);return}if(A!==2&&U&1&&z)if(A===0)z.beforeEnter(I),n(I,_,O),It(()=>z.enter(I),F);else{const{leave:Z,delayLeave:le,afterLeave:he}=z,Pe=()=>n(I,_,O),Ue=()=>{Z(I,()=>{Pe(),he&&he()})};le?le(I,Pe,Ue):Ue()}else n(I,_,O)},de=(v,_,O,A=!1,F=!1)=>{const{type:I,props:Q,ref:z,children:H,dynamicChildren:U,shapeFlag:ce,patchFlag:Z,dirs:le,cacheIndex:he}=v;if(Z===-2&&(F=!1),z!=null&&ia(z,null,O,v,!0),he!=null&&(_.renderCache[he]=void 0),ce&256){_.ctx.deactivate(v);return}const Pe=ce&1&&le,Ue=!wi(v);let Fe;if(Ue&&(Fe=Q&&Q.onVnodeBeforeUnmount)&&cs(Fe,_,v),ce&6)bt(v.component,O,A);else{if(ce&128){v.suspense.unmount(O,A);return}Pe&&wn(v,null,_,"beforeUnmount"),ce&64?v.type.remove(v,_,O,ie,A):U&&!U.hasOnce&&(I!==ke||Z>0&&Z&64)?qe(U,_,O,!1,!0):(I===ke&&Z&384||!F&&ce&16)&&qe(H,_,O),A&&Qe(v)}(Ue&&(Fe=Q&&Q.onVnodeUnmounted)||Pe)&&It(()=>{Fe&&cs(Fe,_,v),Pe&&wn(v,null,_,"unmounted")},O)},Qe=v=>{const{type:_,el:O,anchor:A,transition:F}=v;if(_===ke){nt(O,A);return}if(_===qo){S(v);return}const I=()=>{i(O),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(v.shapeFlag&1&&F&&!F.persisted){const{leave:Q,delayLeave:z}=F,H=()=>Q(O,I);z?z(v.el,I,H):H()}else I()},nt=(v,_)=>{let O;for(;v!==_;)O=h(v),i(v),v=O;i(_)},bt=(v,_,O)=>{const{bum:A,scope:F,job:I,subTree:Q,um:z,m:H,a:U}=v;wu(H),wu(U),A&&Ho(A),F.stop(),I&&(I.flags|=8,de(Q,v,_,O)),z&&It(z,_),It(()=>{v.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},qe=(v,_,O,A=!1,F=!1,I=0)=>{for(let Q=I;Q<v.length;Q++)de(v[Q],_,O,A,F)},L=v=>{if(v.shapeFlag&6)return L(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const _=h(v.anchor||v.el),O=_&&_[ay];return O?h(O):_};let ee=!1;const K=(v,_,O)=>{v==null?_._vnode&&de(_._vnode,null,null,!0):p(_._vnode||null,v,_,null,null,null,O),_._vnode=v,ee||(ee=!0,pu(),Bf(),ee=!1)},ie={p,um:de,m:me,r:Qe,mt:ne,mc:$,pc:se,pbc:B,n:L,o:t};return{render:K,hydrate:void 0,createApp:Ay(K)}}function Qa({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function kn({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Uy(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function up(t,e,s=!1){const n=t.children,i=e.children;if(oe(n)&&oe(i))for(let r=0;r<n.length;r++){const o=n[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Gs(i[r]),a.el=o.el),!s&&a.patchFlag!==-2&&up(o,a)),a.type===Aa&&(a.el=o.el)}}function Vy(t){const e=t.slice(),s=[0];let n,i,r,o,a;const l=t.length;for(n=0;n<l;n++){const c=t[n];if(c!==0){if(i=s[s.length-1],t[i]<c){e[n]=i,s.push(n);continue}for(r=0,o=s.length-1;r<o;)a=r+o>>1,t[s[a]]<c?r=a+1:o=a;c<t[s[r]]&&(r>0&&(e[n]=s[r-1]),s[r]=n)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=e[o];return s}function dp(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:dp(e)}function wu(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Hy=Symbol.for("v-scx"),zy=()=>Kt(Hy);function qy(t,e){return Ec(t,null,e)}function Ye(t,e,s){return Ec(t,e,s)}function Ec(t,e,s=Be){const{immediate:n,deep:i,flush:r,once:o}=s,a=ct({},s),l=e&&n||!e&&r!=="post";let c;if(Vr){if(r==="sync"){const f=zy();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=_s,f.resume=_s,f.pause=_s,f}}const u=ot;a.call=(f,y,p)=>is(f,u,y,p);let d=!1;r==="post"?a.scheduler=f=>{It(f,u&&u.suspense)}:r!=="sync"&&(d=!0,a.scheduler=(f,y)=>{y?f():Cc(f)}),a.augmentJob=f=>{e&&(f.flags|=4),d&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=ny(t,e,a);return Vr&&(c?c.push(h):l&&h()),h}function Wy(t,e,s){const n=this.proxy,i=Xe(t)?t.includes(".")?hp(n,t):()=>n[t]:t.bind(n,n);let r;fe(e)?r=e:(r=e.handler,s=e);const o=uo(this),a=Ec(i,r.bind(n),s);return o(),a}function hp(t,e){const s=e.split(".");return()=>{let n=t;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}const Ky=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Qt(e)}Modifiers`]||t[`${yn(e)}Modifiers`];function Qy(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||Be;let i=s;const r=e.startsWith("update:"),o=r&&Ky(n,e.slice(7));o&&(o.trim&&(i=s.map(u=>Xe(u)?u.trim():u)),o.number&&(i=s.map(Zo)));let a,l=n[a=Ua(e)]||n[a=Ua(Qt(e))];!l&&r&&(l=n[a=Ua(yn(e))]),l&&is(l,t,6,i);const c=n[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,is(c,t,6,i)}}function fp(t,e,s=!1){const n=e.emitsCache,i=n.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!fe(t)){const l=c=>{const u=fp(c,e,!0);u&&(a=!0,ct(o,u))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Ne(t)&&n.set(t,null),null):(oe(r)?r.forEach(l=>o[l]=null):ct(o,r),Ne(t)&&n.set(t,o),o)}function Ma(t,e){return!t||!_a(e)?!1:(e=e.slice(2).replace(/Once$/,""),De(t,e[0].toLowerCase()+e.slice(1))||De(t,yn(e))||De(t,e))}function ku(t){const{type:e,vnode:s,proxy:n,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:h,setupState:f,ctx:y,inheritAttrs:p}=t,g=na(t);let b,x;try{if(s.shapeFlag&4){const S=i||n,C=S;b=vs(c.call(C,S,u,d,f,h,y)),x=a}else{const S=e;b=vs(S.length>1?S(d,{attrs:a,slots:o,emit:l}):S(d,null)),x=e.props?a:Gy(a)}}catch(S){Sr.length=0,Ta(S,t,1),b=re(Ct)}let k=b;if(x&&p!==!1){const S=Object.keys(x),{shapeFlag:C}=k;S.length&&C&7&&(r&&S.some(pc)&&(x=Yy(x,r)),k=pn(k,x,!1,!0))}return s.dirs&&(k=pn(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(s.dirs):s.dirs),s.transition&&Br(k,s.transition),b=k,na(g),b}const Gy=t=>{let e;for(const s in t)(s==="class"||s==="style"||_a(s))&&((e||(e={}))[s]=t[s]);return e},Yy=(t,e)=>{const s={};for(const n in t)(!pc(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function Jy(t,e,s){const{props:n,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Su(n,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(o[h]!==n[h]&&!Ma(c,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?Su(n,o,c):!0:!!o;return!1}function Su(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const r=n[i];if(e[r]!==t[r]&&!Ma(s,r))return!0}return!1}function Xy({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const pp=t=>t.__isSuspense;function Zy(t,e){e&&e.pendingBranch?oe(t)?e.effects.push(...t):e.effects.push(t):oy(t)}const ke=Symbol.for("v-fgt"),Aa=Symbol.for("v-txt"),Ct=Symbol.for("v-cmt"),qo=Symbol.for("v-stc"),Sr=[];let jt=null;function E(t=!1){Sr.push(jt=t?null:[])}function eb(){Sr.pop(),jt=Sr[Sr.length-1]||null}let Nr=1;function Cu(t,e=!1){Nr+=t,t<0&&jt&&e&&(jt.hasOnce=!0)}function gp(t){return t.dynamicChildren=Nr>0?jt||yi:null,eb(),Nr>0&&jt&&jt.push(t),t}function M(t,e,s,n,i,r){return gp(m(t,e,s,n,i,r,!0))}function Ht(t,e,s,n,i){return gp(re(t,e,s,n,i,!0))}function Ur(t){return t?t.__v_isVNode===!0:!1}function Dn(t,e){return t.type===e.type&&t.key===e.key}const mp=({key:t})=>t??null,Wo=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Xe(t)||st(t)||fe(t)?{i:tt,r:t,k:e,f:!!s}:t:null);function m(t,e=null,s=null,n=0,i=null,r=t===ke?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&mp(e),ref:e&&Wo(e),scopeId:Uf,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:tt};return a?(Ac(l,s),r&128&&t.normalize(l)):s&&(l.shapeFlag|=Xe(s)?8:16),Nr>0&&!o&&jt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&jt.push(l),l}const re=tb;function tb(t,e=null,s=null,n=0,i=null,r=!1){if((!t||t===wy)&&(t=Ct),Ur(t)){const a=pn(t,e,!0);return s&&Ac(a,s),Nr>0&&!r&&jt&&(a.shapeFlag&6?jt[jt.indexOf(t)]=a:jt.push(a)),a.patchFlag=-2,a}if(fb(t)&&(t=t.__vccOpts),e){e=sb(e);let{class:a,style:l}=e;a&&!Xe(a)&&(e.class=et(a)),Ne(l)&&(ao(l)&&!oe(l)&&(l=ct({},l)),e.style=vi(l))}const o=Xe(t)?1:pp(t)?128:Vf(t)?64:Ne(t)?4:fe(t)?2:0;return m(t,e,s,n,i,o,r,!0)}function sb(t){return t?ao(t)||np(t)?ct({},t):t:null}function pn(t,e,s=!1,n=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?nb(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&mp(c),ref:e&&e.ref?s&&r?oe(r)?r.concat(Wo(e)):[r,Wo(e)]:Wo(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ke?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&pn(t.ssContent),ssFallback:t.ssFallback&&pn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&Br(u,l.clone(u)),u}function ue(t=" ",e=0){return re(Aa,null,t,e)}function Mc(t,e){const s=re(qo,null,t);return s.staticCount=e,s}function ge(t="",e=!1){return e?(E(),Ht(Ct,null,t)):re(Ct,null,t)}function vs(t){return t==null||typeof t=="boolean"?re(Ct):oe(t)?re(ke,null,t.slice()):Ur(t)?Gs(t):re(Aa,null,String(t))}function Gs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:pn(t)}function Ac(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(oe(e))s=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),Ac(t,i()),i._c&&(i._d=!0));return}else{s=32;const i=e._;!i&&!np(e)?e._ctx=tt:i===3&&tt&&(tt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else fe(e)?(e={default:e,_ctx:tt},s=32):(e=String(e),n&64?(s=16,e=[ue(e)]):s=8);t.children=e,t.shapeFlag|=s}function nb(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=et([e.class,n.class]));else if(i==="style")e.style=vi([e.style,n.style]);else if(_a(i)){const r=e[i],o=n[i];o&&r!==o&&!(oe(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=n[i])}return e}function cs(t,e,s,n=null){is(t,e,7,[s,n])}const ib=ep();let rb=0;function ob(t,e,s){const n=t.type,i=(e?e.appContext:t.appContext)||ib,r={uid:rb++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Pm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:rp(n,i),emitsOptions:fp(n,i),emit:null,emitted:null,propsDefaults:Be,inheritAttrs:n.inheritAttrs,ctx:Be,data:Be,props:Be,attrs:Be,slots:Be,refs:Be,setupState:Be,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Qy.bind(null,r),t.ce&&t.ce(r),r}let ot=null;const ab=()=>ot||tt;let oa,Tl;{const t=ka(),e=(s,n)=>{let i;return(i=t[s])||(i=t[s]=[]),i.push(n),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};oa=e("__VUE_INSTANCE_SETTERS__",s=>ot=s),Tl=e("__VUE_SSR_SETTERS__",s=>Vr=s)}const uo=t=>{const e=ot;return oa(t),t.scope.on(),()=>{t.scope.off(),oa(e)}},Ou=()=>{ot&&ot.scope.off(),oa(null)};function yp(t){return t.vnode.shapeFlag&4}let Vr=!1;function lb(t,e=!1,s=!1){e&&Tl(e);const{props:n,children:i}=t.vnode,r=yp(t);$y(t,n,r,e),Fy(t,i,s);const o=r?cb(t,e):void 0;return e&&Tl(!1),o}function cb(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Sy);const{setup:n}=s;if(n){bn();const i=t.setupContext=n.length>1?db(t):null,r=uo(t),o=lo(n,t,0,[t.props,i]),a=df(o);if(vn(),r(),(a||t.sp)&&!wi(t)&&Qf(t),a){if(o.then(Ou,Ou),e)return o.then(l=>{Tu(t,l)}).catch(l=>{Ta(l,t,0)});t.asyncDep=o}else Tu(t,o)}else bp(t)}function Tu(t,e,s){fe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ne(e)&&(t.setupState=Lf(e)),bp(t)}function bp(t,e,s){const n=t.type;t.render||(t.render=n.render||_s);{const i=uo(t);bn();try{Cy(t)}finally{vn(),i()}}}const ub={get(t,e){return gt(t,"get",""),t[e]}};function db(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,ub),slots:t.slots,emit:t.emit,expose:e}}function Ra(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Lf(Gm(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in kr)return kr[s](t)},has(e,s){return s in e||s in kr}})):t.proxy}function hb(t,e=!0){return fe(t)?t.displayName||t.name:t.name||e&&t.__name}function fb(t){return fe(t)&&"__vccOpts"in t}const ye=(t,e)=>ty(t,e,Vr);function Bi(t,e,s){const n=arguments.length;return n===2?Ne(e)&&!oe(e)?Ur(e)?re(t,null,[e]):re(t,e):re(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Ur(s)&&(s=[s]),re(t,e,s))}const vp="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pl;const Pu=typeof window<"u"&&window.trustedTypes;if(Pu)try{Pl=Pu.createPolicy("vue",{createHTML:t=>t})}catch{}const _p=Pl?t=>Pl.createHTML(t):t=>t,pb="http://www.w3.org/2000/svg",gb="http://www.w3.org/1998/Math/MathML",Es=typeof document<"u"?document:null,Eu=Es&&Es.createElement("template"),mb={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const i=e==="svg"?Es.createElementNS(pb,t):e==="mathml"?Es.createElementNS(gb,t):s?Es.createElement(t,{is:s}):Es.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>Es.createTextNode(t),createComment:t=>Es.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Es.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,i,r){const o=s?s.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),s),!(i===r||!(i=i.nextSibling)););else{Eu.innerHTML=_p(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=Eu.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Ns="transition",er="animation",Hr=Symbol("_vtc"),xp={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},yb=ct({},Hf,xp),bb=t=>(t.displayName="Transition",t.props=yb,t),Cr=bb((t,{slots:e})=>Bi(uy,vb(t),e)),Sn=(t,e=[])=>{oe(t)?t.forEach(s=>s(...e)):t&&t(...e)},Mu=t=>t?oe(t)?t.some(e=>e.length>1):t.length>1:!1;function vb(t){const e={};for(const T in t)T in xp||(e[T]=t[T]);if(t.css===!1)return e;const{name:s="v",type:n,duration:i,enterFromClass:r=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${s}-leave-from`,leaveActiveClass:h=`${s}-leave-active`,leaveToClass:f=`${s}-leave-to`}=t,y=_b(i),p=y&&y[0],g=y&&y[1],{onBeforeEnter:b,onEnter:x,onEnterCancelled:k,onLeave:S,onLeaveCancelled:C,onBeforeAppear:j=b,onAppear:D=x,onAppearCancelled:$=k}=e,P=(T,J,ne,pe)=>{T._enterCancelled=pe,Cn(T,J?u:a),Cn(T,J?c:o),ne&&ne()},B=(T,J)=>{T._isLeaving=!1,Cn(T,d),Cn(T,f),Cn(T,h),J&&J()},R=T=>(J,ne)=>{const pe=T?D:x,W=()=>P(J,T,ne);Sn(pe,[J,W]),Au(()=>{Cn(J,T?l:r),ks(J,T?u:a),Mu(pe)||Ru(J,n,p,W)})};return ct(e,{onBeforeEnter(T){Sn(b,[T]),ks(T,r),ks(T,o)},onBeforeAppear(T){Sn(j,[T]),ks(T,l),ks(T,c)},onEnter:R(!1),onAppear:R(!0),onLeave(T,J){T._isLeaving=!0;const ne=()=>B(T,J);ks(T,d),T._enterCancelled?(ks(T,h),Lu()):(Lu(),ks(T,h)),Au(()=>{T._isLeaving&&(Cn(T,d),ks(T,f),Mu(S)||Ru(T,n,g,ne))}),Sn(S,[T,ne])},onEnterCancelled(T){P(T,!1,void 0,!0),Sn(k,[T])},onAppearCancelled(T){P(T,!0,void 0,!0),Sn($,[T])},onLeaveCancelled(T){B(T),Sn(C,[T])}})}function _b(t){if(t==null)return null;if(Ne(t))return[Ga(t.enter),Ga(t.leave)];{const e=Ga(t);return[e,e]}}function Ga(t){return _m(t)}function ks(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[Hr]||(t[Hr]=new Set)).add(e)}function Cn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const s=t[Hr];s&&(s.delete(e),s.size||(t[Hr]=void 0))}function Au(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let xb=0;function Ru(t,e,s,n){const i=t._endId=++xb,r=()=>{i===t._endId&&n()};if(s!=null)return setTimeout(r,s);const{type:o,timeout:a,propCount:l}=wb(t,e);if(!o)return n();const c=o+"end";let u=0;const d=()=>{t.removeEventListener(c,h),r()},h=f=>{f.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,h)}function wb(t,e){const s=window.getComputedStyle(t),n=y=>(s[y]||"").split(", "),i=n(`${Ns}Delay`),r=n(`${Ns}Duration`),o=$u(i,r),a=n(`${er}Delay`),l=n(`${er}Duration`),c=$u(a,l);let u=null,d=0,h=0;e===Ns?o>0&&(u=Ns,d=o,h=r.length):e===er?c>0&&(u=er,d=c,h=l.length):(d=Math.max(o,c),u=d>0?o>c?Ns:er:null,h=u?u===Ns?r.length:l.length:0);const f=u===Ns&&/\b(transform|all)(,|$)/.test(n(`${Ns}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:f}}function $u(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,n)=>Du(s)+Du(t[n])))}function Du(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Lu(){return document.body.offsetHeight}function kb(t,e,s){const n=t[Hr];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const aa=Symbol("_vod"),wp=Symbol("_vsh"),tr={beforeMount(t,{value:e},{transition:s}){t[aa]=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):sr(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:n}){!e!=!s&&(n?e?(n.beforeEnter(t),sr(t,!0),n.enter(t)):n.leave(t,()=>{sr(t,!1)}):sr(t,e))},beforeUnmount(t,{value:e}){sr(t,e)}};function sr(t,e){t.style.display=e?t[aa]:"none",t[wp]=!e}const Sb=Symbol(""),Cb=/(^|;)\s*display\s*:/;function Ob(t,e,s){const n=t.style,i=Xe(s);let r=!1;if(s&&!i){if(e)if(Xe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Ko(n,a,"")}else for(const o in e)s[o]==null&&Ko(n,o,"");for(const o in s)o==="display"&&(r=!0),Ko(n,o,s[o])}else if(i){if(e!==s){const o=n[Sb];o&&(s+=";"+o),n.cssText=s,r=Cb.test(s)}}else e&&t.removeAttribute("style");aa in t&&(t[aa]=r?n.display:"",t[wp]&&(n.display="none"))}const Iu=/\s*!important$/;function Ko(t,e,s){if(oe(s))s.forEach(n=>Ko(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=Tb(t,e);Iu.test(s)?t.setProperty(yn(n),s.replace(Iu,""),"important"):t[n]=s}}const Fu=["Webkit","Moz","ms"],Ya={};function Tb(t,e){const s=Ya[e];if(s)return s;let n=Qt(e);if(n!=="filter"&&n in t)return Ya[e]=n;n=wa(n);for(let i=0;i<Fu.length;i++){const r=Fu[i]+n;if(r in t)return Ya[e]=r}return e}const ju="http://www.w3.org/1999/xlink";function Bu(t,e,s,n,i,r=Om(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(ju,e.slice(6,e.length)):t.setAttributeNS(ju,e,s):s==null||r&&!gf(s)?t.removeAttribute(e):t.setAttribute(e,r?"":ns(s)?String(s):s)}function Nu(t,e,s,n,i){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?_p(s):s);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=gf(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(i||e)}function Xs(t,e,s,n){t.addEventListener(e,s,n)}function Pb(t,e,s,n){t.removeEventListener(e,s,n)}const Uu=Symbol("_vei");function Eb(t,e,s,n,i=null){const r=t[Uu]||(t[Uu]={}),o=r[e];if(n&&o)o.value=n;else{const[a,l]=Mb(e);if(n){const c=r[e]=$b(n,i);Xs(t,a,c,l)}else o&&(Pb(t,a,o,l),r[e]=void 0)}}const Vu=/(?:Once|Passive|Capture)$/;function Mb(t){let e;if(Vu.test(t)){e={};let n;for(;n=t.match(Vu);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):yn(t.slice(2)),e]}let Ja=0;const Ab=Promise.resolve(),Rb=()=>Ja||(Ab.then(()=>Ja=0),Ja=Date.now());function $b(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;is(Db(n,s.value),e,5,[n])};return s.value=t,s.attached=Rb(),s}function Db(t,e){if(oe(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const Hu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Lb=(t,e,s,n,i,r)=>{const o=i==="svg";e==="class"?kb(t,n,o):e==="style"?Ob(t,s,n):_a(e)?pc(e)||Eb(t,e,s,n,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ib(t,e,n,o))?(Nu(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Bu(t,e,n,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Xe(n))?Nu(t,Qt(e),n,r,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Bu(t,e,n,o))};function Ib(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&Hu(e)&&fe(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Hu(e)&&Xe(s)?!1:e in t}const Ni=t=>{const e=t.props["onUpdate:modelValue"]||!1;return oe(e)?s=>Ho(e,s):e};function Fb(t){t.target.composing=!0}function zu(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Is=Symbol("_assign"),Ke={created(t,{modifiers:{lazy:e,trim:s,number:n}},i){t[Is]=Ni(i);const r=n||i.props&&i.props.type==="number";Xs(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),r&&(a=Zo(a)),t[Is](a)}),s&&Xs(t,"change",()=>{t.value=t.value.trim()}),e||(Xs(t,"compositionstart",Fb),Xs(t,"compositionend",zu),Xs(t,"change",zu))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:n,trim:i,number:r}},o){if(t[Is]=Ni(o),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?Zo(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===s||i&&t.value.trim()===l)||(t.value=l))}},qu={deep:!0,created(t,e,s){t[Is]=Ni(s),Xs(t,"change",()=>{const n=t._modelValue,i=zr(t),r=t.checked,o=t[Is];if(oe(n)){const a=yc(n,i),l=a!==-1;if(r&&!l)o(n.concat(i));else if(!r&&l){const c=[...n];c.splice(a,1),o(c)}}else if(Qi(n)){const a=new Set(n);r?a.add(i):a.delete(i),o(a)}else o(kp(t,r))})},mounted:Wu,beforeUpdate(t,e,s){t[Is]=Ni(s),Wu(t,e,s)}};function Wu(t,{value:e,oldValue:s},n){t._modelValue=e;let i;if(oe(e))i=yc(e,n.props.value)>-1;else if(Qi(e))i=e.has(n.props.value);else{if(e===s)return;i=oo(e,kp(t,!0))}t.checked!==i&&(t.checked=i)}const gn={deep:!0,created(t,{value:e,modifiers:{number:s}},n){const i=Qi(e);Xs(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?Zo(zr(o)):zr(o));t[Is](t.multiple?i?new Set(r):r:r[0]),t._assigning=!0,co(()=>{t._assigning=!1})}),t[Is]=Ni(n)},mounted(t,{value:e}){Ku(t,e)},beforeUpdate(t,e,s){t[Is]=Ni(s)},updated(t,{value:e}){t._assigning||Ku(t,e)}};function Ku(t,e){const s=t.multiple,n=oe(e);if(!(s&&!n&&!Qi(e))){for(let i=0,r=t.options.length;i<r;i++){const o=t.options[i],a=zr(o);if(s)if(n){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=yc(e,a)>-1}else o.selected=e.has(a);else if(oo(zr(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function zr(t){return"_value"in t?t._value:t.value}function kp(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const jb=["ctrl","shift","alt","meta"],Bb={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>jb.some(s=>t[`${s}Key`]&&!e.includes(s))},Ae=(t,e)=>{const s=t._withMods||(t._withMods={}),n=e.join(".");return s[n]||(s[n]=(i,...r)=>{for(let o=0;o<e.length;o++){const a=Bb[e[o]];if(a&&a(i,e))return}return t(i,...r)})},Nb={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},us=(t,e)=>{const s=t._withKeys||(t._withKeys={}),n=e.join(".");return s[n]||(s[n]=i=>{if(!("key"in i))return;const r=yn(i.key);if(e.some(o=>o===r||Nb[o]===r))return t(i)})},Ub=ct({patchProp:Lb},mb);let Qu;function Vb(){return Qu||(Qu=By(Ub))}const Hb=(...t)=>{const e=Vb().createApp(...t),{mount:s}=e;return e.mount=n=>{const i=qb(n);if(!i)return;const r=e._component;!fe(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=s(i,!1,zb(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function zb(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function qb(t){return Xe(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const gi=typeof document<"u";function Sp(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Wb(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Sp(t.default)}const $e=Object.assign;function Xa(t,e){const s={};for(const n in e){const i=e[n];s[n]=rs(i)?i.map(t):t(i)}return s}const Or=()=>{},rs=Array.isArray,Cp=/#/g,Kb=/&/g,Qb=/\//g,Gb=/=/g,Yb=/\?/g,Op=/\+/g,Jb=/%5B/g,Xb=/%5D/g,Tp=/%5E/g,Zb=/%60/g,Pp=/%7B/g,e0=/%7C/g,Ep=/%7D/g,t0=/%20/g;function Rc(t){return encodeURI(""+t).replace(e0,"|").replace(Jb,"[").replace(Xb,"]")}function s0(t){return Rc(t).replace(Pp,"{").replace(Ep,"}").replace(Tp,"^")}function El(t){return Rc(t).replace(Op,"%2B").replace(t0,"+").replace(Cp,"%23").replace(Kb,"%26").replace(Zb,"`").replace(Pp,"{").replace(Ep,"}").replace(Tp,"^")}function n0(t){return El(t).replace(Gb,"%3D")}function i0(t){return Rc(t).replace(Cp,"%23").replace(Yb,"%3F")}function r0(t){return t==null?"":i0(t).replace(Qb,"%2F")}function qr(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const o0=/\/$/,a0=t=>t.replace(o0,"");function Za(t,e,s="/"){let n,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),i=t(r)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=d0(n??e,s),{fullPath:n+(r&&"?")+r+o,path:n,query:i,hash:qr(o)}}function l0(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function Gu(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function c0(t,e,s){const n=e.matched.length-1,i=s.matched.length-1;return n>-1&&n===i&&Ui(e.matched[n],s.matched[i])&&Mp(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function Ui(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Mp(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!u0(t[s],e[s]))return!1;return!0}function u0(t,e){return rs(t)?Yu(t,e):rs(e)?Yu(e,t):t===e}function Yu(t,e){return rs(e)?t.length===e.length&&t.every((s,n)=>s===e[n]):t.length===1&&t[0]===e}function d0(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),n=t.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let r=s.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")r>1&&r--;else break;return s.slice(0,r).join("/")+"/"+n.slice(o).join("/")}const Us={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Wr;(function(t){t.pop="pop",t.push="push"})(Wr||(Wr={}));var Tr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Tr||(Tr={}));function h0(t){if(!t)if(gi){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),a0(t)}const f0=/^[^#]+#/;function p0(t,e){return t.replace(f0,"#")+e}function g0(t,e){const s=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-s.left-(e.left||0),top:n.top-s.top-(e.top||0)}}const $a=()=>({left:window.scrollX,top:window.scrollY});function m0(t){let e;if("el"in t){const s=t.el,n=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;e=g0(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Ju(t,e){return(history.state?history.state.position-e:-1)+t}const Ml=new Map;function y0(t,e){Ml.set(t,e)}function b0(t){const e=Ml.get(t);return Ml.delete(t),e}let v0=()=>location.protocol+"//"+location.host;function Ap(t,e){const{pathname:s,search:n,hash:i}=e,r=t.indexOf("#");if(r>-1){let a=i.includes(t.slice(r))?t.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Gu(l,"")}return Gu(s,t)+n+i}function _0(t,e,s,n){let i=[],r=[],o=null;const a=({state:h})=>{const f=Ap(t,location),y=s.value,p=e.value;let g=0;if(h){if(s.value=f,e.value=h,o&&o===y){o=null;return}g=p?h.position-p.position:0}else n(f);i.forEach(b=>{b(s.value,y,{delta:g,type:Wr.pop,direction:g?g>0?Tr.forward:Tr.back:Tr.unknown})})};function l(){o=s.value}function c(h){i.push(h);const f=()=>{const y=i.indexOf(h);y>-1&&i.splice(y,1)};return r.push(f),f}function u(){const{history:h}=window;h.state&&h.replaceState($e({},h.state,{scroll:$a()}),"")}function d(){for(const h of r)h();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function Xu(t,e,s,n=!1,i=!1){return{back:t,current:e,forward:s,replaced:n,position:window.history.length,scroll:i?$a():null}}function x0(t){const{history:e,location:s}=window,n={value:Ap(t,s)},i={value:e.state};i.value||r(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const d=t.indexOf("#"),h=d>-1?(s.host&&document.querySelector("base")?t:t.slice(d))+l:v0()+t+l;try{e[u?"replaceState":"pushState"](c,"",h),i.value=c}catch(f){console.error(f),s[u?"replace":"assign"](h)}}function o(l,c){const u=$e({},e.state,Xu(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),n.value=l}function a(l,c){const u=$e({},i.value,e.state,{forward:l,scroll:$a()});r(u.current,u,!0);const d=$e({},Xu(n.value,l,null),{position:u.position+1},c);r(l,d,!1),n.value=l}return{location:n,state:i,push:a,replace:o}}function w0(t){t=h0(t);const e=x0(t),s=_0(t,e.state,e.location,e.replace);function n(r,o=!0){o||s.pauseListeners(),history.go(r)}const i=$e({location:"",base:t,go:n,createHref:p0.bind(null,t)},e,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function k0(t){return typeof t=="string"||t&&typeof t=="object"}function Rp(t){return typeof t=="string"||typeof t=="symbol"}const $p=Symbol("");var Zu;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Zu||(Zu={}));function Vi(t,e){return $e(new Error,{type:t,[$p]:!0},e)}function Ss(t,e){return t instanceof Error&&$p in t&&(e==null||!!(t.type&e))}const ed="[^/]+?",S0={sensitive:!1,strict:!1,start:!0,end:!0},C0=/[.+*?^${}()[\]/\\]/g;function O0(t,e){const s=$e({},S0,e),n=[];let i=s.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];s.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const h=c[d];let f=40+(s.sensitive?.25:0);if(h.type===0)d||(i+="/"),i+=h.value.replace(C0,"\\$&"),f+=40;else if(h.type===1){const{value:y,repeatable:p,optional:g,regexp:b}=h;r.push({name:y,repeatable:p,optional:g});const x=b||ed;if(x!==ed){f+=10;try{new RegExp(`(${x})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${y}" (${x}): `+S.message)}}let k=p?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;d||(k=g&&c.length<2?`(?:/${k})`:"/"+k),g&&(k+="?"),i+=k,f+=20,g&&(f+=-8),p&&(f+=-20),x===".*"&&(f+=-50)}u.push(f)}n.push(u)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}s.strict||(i+="/?"),s.end?i+="$":s.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,s.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let h=1;h<u.length;h++){const f=u[h]||"",y=r[h-1];d[y.name]=f&&y.repeatable?f.split("/"):f}return d}function l(c){let u="",d=!1;for(const h of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of h)if(f.type===0)u+=f.value;else if(f.type===1){const{value:y,repeatable:p,optional:g}=f,b=y in c?c[y]:"";if(rs(b)&&!p)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const x=rs(b)?b.join("/"):b;if(!x)if(g)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${y}"`);u+=x}}return u||"/"}return{re:o,score:n,keys:r,parse:a,stringify:l}}function T0(t,e){let s=0;for(;s<t.length&&s<e.length;){const n=e[s]-t[s];if(n)return n;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Dp(t,e){let s=0;const n=t.score,i=e.score;for(;s<n.length&&s<i.length;){const r=T0(n[s],i[s]);if(r)return r;s++}if(Math.abs(i.length-n.length)===1){if(td(n))return 1;if(td(i))return-1}return i.length-n.length}function td(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const P0={type:0,value:""},E0=/[a-zA-Z0-9_]/;function M0(t){if(!t)return[[]];if(t==="/")return[[P0]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${s})/"${c}": ${f}`)}let s=0,n=s;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function d(){c&&(s===0?r.push({type:0,value:c}):s===1||s===2||s===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),s=1):h();break;case 4:h(),s=n;break;case 1:l==="("?s=2:E0.test(l)?h():(d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=3:u+=l;break;case 3:d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}function A0(t,e,s){const n=O0(M0(t.path),s),i=$e(n,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function R0(t,e){const s=[],n=new Map;e=rd({strict:!1,end:!0,sensitive:!1},e);function i(d){return n.get(d)}function r(d,h,f){const y=!f,p=nd(d);p.aliasOf=f&&f.record;const g=rd(e,d),b=[p];if("alias"in d){const S=typeof d.alias=="string"?[d.alias]:d.alias;for(const C of S)b.push(nd($e({},p,{components:f?f.record.components:p.components,path:C,aliasOf:f?f.record:p})))}let x,k;for(const S of b){const{path:C}=S;if(h&&C[0]!=="/"){const j=h.record.path,D=j[j.length-1]==="/"?"":"/";S.path=h.record.path+(C&&D+C)}if(x=A0(S,h,g),f?f.alias.push(x):(k=k||x,k!==x&&k.alias.push(x),y&&d.name&&!id(x)&&o(d.name)),Lp(x)&&l(x),p.children){const j=p.children;for(let D=0;D<j.length;D++)r(j[D],x,f&&f.children[D])}f=f||x}return k?()=>{o(k)}:Or}function o(d){if(Rp(d)){const h=n.get(d);h&&(n.delete(d),s.splice(s.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=s.indexOf(d);h>-1&&(s.splice(h,1),d.record.name&&n.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return s}function l(d){const h=L0(d,s);s.splice(h,0,d),d.record.name&&!id(d)&&n.set(d.record.name,d)}function c(d,h){let f,y={},p,g;if("name"in d&&d.name){if(f=n.get(d.name),!f)throw Vi(1,{location:d});g=f.record.name,y=$e(sd(h.params,f.keys.filter(k=>!k.optional).concat(f.parent?f.parent.keys.filter(k=>k.optional):[]).map(k=>k.name)),d.params&&sd(d.params,f.keys.map(k=>k.name))),p=f.stringify(y)}else if(d.path!=null)p=d.path,f=s.find(k=>k.re.test(p)),f&&(y=f.parse(p),g=f.record.name);else{if(f=h.name?n.get(h.name):s.find(k=>k.re.test(h.path)),!f)throw Vi(1,{location:d,currentLocation:h});g=f.record.name,y=$e({},h.params,d.params),p=f.stringify(y)}const b=[];let x=f;for(;x;)b.unshift(x.record),x=x.parent;return{name:g,path:p,params:y,matched:b,meta:D0(b)}}t.forEach(d=>r(d));function u(){s.length=0,n.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function sd(t,e){const s={};for(const n of e)n in t&&(s[n]=t[n]);return s}function nd(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:$0(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function $0(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const n in t.components)e[n]=typeof s=="object"?s[n]:s;return e}function id(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function D0(t){return t.reduce((e,s)=>$e(e,s.meta),{})}function rd(t,e){const s={};for(const n in t)s[n]=n in e?e[n]:t[n];return s}function L0(t,e){let s=0,n=e.length;for(;s!==n;){const r=s+n>>1;Dp(t,e[r])<0?n=r:s=r+1}const i=I0(t);return i&&(n=e.lastIndexOf(i,n-1)),n}function I0(t){let e=t;for(;e=e.parent;)if(Lp(e)&&Dp(t,e)===0)return e}function Lp({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function F0(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<n.length;++i){const r=n[i].replace(Op," "),o=r.indexOf("="),a=qr(o<0?r:r.slice(0,o)),l=o<0?null:qr(r.slice(o+1));if(a in e){let c=e[a];rs(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function od(t){let e="";for(let s in t){const n=t[s];if(s=n0(s),n==null){n!==void 0&&(e+=(e.length?"&":"")+s);continue}(rs(n)?n.map(r=>r&&El(r)):[n&&El(n)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+s,r!=null&&(e+="="+r))})}return e}function j0(t){const e={};for(const s in t){const n=t[s];n!==void 0&&(e[s]=rs(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const B0=Symbol(""),ad=Symbol(""),Da=Symbol(""),$c=Symbol(""),Al=Symbol("");function nr(){let t=[];function e(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function Ys(t,e,s,n,i,r=o=>o()){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=h=>{h===!1?l(Vi(4,{from:s,to:e})):h instanceof Error?l(h):k0(h)?l(Vi(2,{from:e,to:h})):(o&&n.enterCallbacks[i]===o&&typeof h=="function"&&o.push(h),a())},u=r(()=>t.call(n&&n.instances[i],e,s,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(h=>l(h))})}function el(t,e,s,n,i=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Sp(l)){const u=(l.__vccOpts||l)[e];u&&r.push(Ys(u,s,n,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=Wb(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const f=(d.__vccOpts||d)[e];return f&&Ys(f,s,n,o,a,i)()}))}}return r}function ld(t){const e=Kt(Da),s=Kt($c),n=ye(()=>{const l=Y(t.to);return e.resolve(l)}),i=ye(()=>{const{matched:l}=n.value,{length:c}=l,u=l[c-1],d=s.matched;if(!u||!d.length)return-1;const h=d.findIndex(Ui.bind(null,u));if(h>-1)return h;const f=cd(l[c-2]);return c>1&&cd(u)===f&&d[d.length-1].path!==f?d.findIndex(Ui.bind(null,l[c-2])):h}),r=ye(()=>i.value>-1&&H0(s.params,n.value.params)),o=ye(()=>i.value>-1&&i.value===s.matched.length-1&&Mp(s.params,n.value.params));function a(l={}){if(V0(l)){const c=e[Y(t.replace)?"replace":"push"](Y(t.to)).catch(Or);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:ye(()=>n.value.href),isActive:r,isExactActive:o,navigate:a}}function N0(t){return t.length===1?t[0]:t}const U0=Ze({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ld,setup(t,{slots:e}){const s=Ca(ld(t)),{options:n}=Kt(Da),i=ye(()=>({[ud(t.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[ud(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const r=e.default&&N0(e.default(s));return t.custom?r:Bi("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},r)}}}),hr=U0;function V0(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function H0(t,e){for(const s in e){const n=e[s],i=t[s];if(typeof n=="string"){if(n!==i)return!1}else if(!rs(i)||i.length!==n.length||n.some((r,o)=>r!==i[o]))return!1}return!0}function cd(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ud=(t,e,s)=>t??e??s,z0=Ze({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const n=Kt(Al),i=ye(()=>t.route||n.value),r=Kt(ad,0),o=ye(()=>{let c=Y(r);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=ye(()=>i.value.matched[o.value]);zo(ad,ye(()=>o.value+1)),zo(B0,a),zo(Al,i);const l=G();return Ye(()=>[l.value,a.value,t.name],([c,u,d],[h,f,y])=>{u&&(u.instances[d]=c,f&&f!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Ui(u,f)||!h)&&(u.enterCallbacks[d]||[]).forEach(p=>p(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=a.value,h=d&&d.components[u];if(!h)return dd(s.default,{Component:h,route:c});const f=d.props[u],y=f?f===!0?c.params:typeof f=="function"?f(c):f:null,g=Bi(h,$e({},y,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return dd(s.default,{Component:g,route:c})||g}}});function dd(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const q0=z0;function W0(t){const e=R0(t.routes,t),s=t.parseQuery||F0,n=t.stringifyQuery||od,i=t.history,r=nr(),o=nr(),a=nr(),l=Sc(Us);let c=Us;gi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Xa.bind(null,L=>""+L),d=Xa.bind(null,r0),h=Xa.bind(null,qr);function f(L,ee){let K,ie;return Rp(L)?(K=e.getRecordMatcher(L),ie=ee):ie=L,e.addRoute(ie,K)}function y(L){const ee=e.getRecordMatcher(L);ee&&e.removeRoute(ee)}function p(){return e.getRoutes().map(L=>L.record)}function g(L){return!!e.getRecordMatcher(L)}function b(L,ee){if(ee=$e({},ee||l.value),typeof L=="string"){const O=Za(s,L,ee.path),A=e.resolve({path:O.path},ee),F=i.createHref(O.fullPath);return $e(O,A,{params:h(A.params),hash:qr(O.hash),redirectedFrom:void 0,href:F})}let K;if(L.path!=null)K=$e({},L,{path:Za(s,L.path,ee.path).path});else{const O=$e({},L.params);for(const A in O)O[A]==null&&delete O[A];K=$e({},L,{params:d(O)}),ee.params=d(ee.params)}const ie=e.resolve(K,ee),Me=L.hash||"";ie.params=u(h(ie.params));const v=l0(n,$e({},L,{hash:s0(Me),path:ie.path})),_=i.createHref(v);return $e({fullPath:v,hash:Me,query:n===od?j0(L.query):L.query||{}},ie,{redirectedFrom:void 0,href:_})}function x(L){return typeof L=="string"?Za(s,L,l.value.path):$e({},L)}function k(L,ee){if(c!==L)return Vi(8,{from:ee,to:L})}function S(L){return D(L)}function C(L){return S($e(x(L),{replace:!0}))}function j(L){const ee=L.matched[L.matched.length-1];if(ee&&ee.redirect){const{redirect:K}=ee;let ie=typeof K=="function"?K(L):K;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=x(ie):{path:ie},ie.params={}),$e({query:L.query,hash:L.hash,params:ie.path!=null?{}:L.params},ie)}}function D(L,ee){const K=c=b(L),ie=l.value,Me=L.state,v=L.force,_=L.replace===!0,O=j(K);if(O)return D($e(x(O),{state:typeof O=="object"?$e({},Me,O.state):Me,force:v,replace:_}),ee||K);const A=K;A.redirectedFrom=ee;let F;return!v&&c0(n,ie,K)&&(F=Vi(16,{to:A,from:ie}),me(ie,ie,!0,!1)),(F?Promise.resolve(F):B(A,ie)).catch(I=>Ss(I)?Ss(I,2)?I:X(I):se(I,A,ie)).then(I=>{if(I){if(Ss(I,2))return D($e({replace:_},x(I.to),{state:typeof I.to=="object"?$e({},Me,I.to.state):Me,force:v}),ee||A)}else I=T(A,ie,!0,_,Me);return R(A,ie,I),I})}function $(L,ee){const K=k(L,ee);return K?Promise.reject(K):Promise.resolve()}function P(L){const ee=nt.values().next().value;return ee&&typeof ee.runWithContext=="function"?ee.runWithContext(L):L()}function B(L,ee){let K;const[ie,Me,v]=K0(L,ee);K=el(ie.reverse(),"beforeRouteLeave",L,ee);for(const O of ie)O.leaveGuards.forEach(A=>{K.push(Ys(A,L,ee))});const _=$.bind(null,L,ee);return K.push(_),qe(K).then(()=>{K=[];for(const O of r.list())K.push(Ys(O,L,ee));return K.push(_),qe(K)}).then(()=>{K=el(Me,"beforeRouteUpdate",L,ee);for(const O of Me)O.updateGuards.forEach(A=>{K.push(Ys(A,L,ee))});return K.push(_),qe(K)}).then(()=>{K=[];for(const O of v)if(O.beforeEnter)if(rs(O.beforeEnter))for(const A of O.beforeEnter)K.push(Ys(A,L,ee));else K.push(Ys(O.beforeEnter,L,ee));return K.push(_),qe(K)}).then(()=>(L.matched.forEach(O=>O.enterCallbacks={}),K=el(v,"beforeRouteEnter",L,ee,P),K.push(_),qe(K))).then(()=>{K=[];for(const O of o.list())K.push(Ys(O,L,ee));return K.push(_),qe(K)}).catch(O=>Ss(O,8)?O:Promise.reject(O))}function R(L,ee,K){a.list().forEach(ie=>P(()=>ie(L,ee,K)))}function T(L,ee,K,ie,Me){const v=k(L,ee);if(v)return v;const _=ee===Us,O=gi?history.state:{};K&&(ie||_?i.replace(L.fullPath,$e({scroll:_&&O&&O.scroll},Me)):i.push(L.fullPath,Me)),l.value=L,me(L,ee,K,_),X()}let J;function ne(){J||(J=i.listen((L,ee,K)=>{if(!bt.listening)return;const ie=b(L),Me=j(ie);if(Me){D($e(Me,{replace:!0,force:!0}),ie).catch(Or);return}c=ie;const v=l.value;gi&&y0(Ju(v.fullPath,K.delta),$a()),B(ie,v).catch(_=>Ss(_,12)?_:Ss(_,2)?(D($e(x(_.to),{force:!0}),ie).then(O=>{Ss(O,20)&&!K.delta&&K.type===Wr.pop&&i.go(-1,!1)}).catch(Or),Promise.reject()):(K.delta&&i.go(-K.delta,!1),se(_,ie,v))).then(_=>{_=_||T(ie,v,!1),_&&(K.delta&&!Ss(_,8)?i.go(-K.delta,!1):K.type===Wr.pop&&Ss(_,20)&&i.go(-1,!1)),R(ie,v,_)}).catch(Or)}))}let pe=nr(),W=nr(),N;function se(L,ee,K){X(L);const ie=W.list();return ie.length?ie.forEach(Me=>Me(L,ee,K)):console.error(L),Promise.reject(L)}function V(){return N&&l.value!==Us?Promise.resolve():new Promise((L,ee)=>{pe.add([L,ee])})}function X(L){return N||(N=!L,ne(),pe.list().forEach(([ee,K])=>L?K(L):ee()),pe.reset()),L}function me(L,ee,K,ie){const{scrollBehavior:Me}=t;if(!gi||!Me)return Promise.resolve();const v=!K&&b0(Ju(L.fullPath,0))||(ie||!K)&&history.state&&history.state.scroll||null;return co().then(()=>Me(L,ee,v)).then(_=>_&&m0(_)).catch(_=>se(_,L,ee))}const de=L=>i.go(L);let Qe;const nt=new Set,bt={currentRoute:l,listening:!0,addRoute:f,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:g,getRoutes:p,resolve:b,options:t,push:S,replace:C,go:de,back:()=>de(-1),forward:()=>de(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:W.add,isReady:V,install(L){const ee=this;L.component("RouterLink",hr),L.component("RouterView",q0),L.config.globalProperties.$router=ee,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>Y(l)}),gi&&!Qe&&l.value===Us&&(Qe=!0,S(i.location).catch(Me=>{}));const K={};for(const Me in Us)Object.defineProperty(K,Me,{get:()=>l.value[Me],enumerable:!0});L.provide(Da,ee),L.provide($c,Oa(K)),L.provide(Al,l);const ie=L.unmount;nt.add(L),L.unmount=function(){nt.delete(L),nt.size<1&&(c=Us,J&&J(),J=null,l.value=Us,Qe=!1,N=!1),ie()}}};function qe(L){return L.reduce((ee,K)=>ee.then(()=>P(K)),Promise.resolve())}return bt}function K0(t,e){const s=[],n=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>Ui(c,a))?n.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Ui(c,l))||i.push(l))}return[s,n,i]}function ho(){return Kt(Da)}function Ip(t){return Kt($c)}var Gi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yn=typeof window>"u"||"Deno"in globalThis;function Vt(){}function Q0(t,e){return typeof t=="function"?t(e):t}function Rl(t){return typeof t=="number"&&t>=0&&t!==1/0}function Fp(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ki(t,e){return typeof t=="function"?t(e):t}function es(t,e){return typeof t=="function"?t(e):t}function hd(t,e){const{type:s="all",exact:n,fetchStatus:i,predicate:r,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==Dc(o,e.options))return!1}else if(!Kr(e.queryKey,o))return!1}if(s!=="all"){const l=e.isActive();if(s==="active"&&!l||s==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||r&&!r(e))}function fd(t,e){const{exact:s,status:n,predicate:i,mutationKey:r}=t;if(r){if(!e.options.mutationKey)return!1;if(s){if(Jn(e.options.mutationKey)!==Jn(r))return!1}else if(!Kr(e.options.mutationKey,r))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function Dc(t,e){return((e==null?void 0:e.queryKeyHashFn)||Jn)(t)}function Jn(t){return JSON.stringify(t,(e,s)=>$l(s)?Object.keys(s).sort().reduce((n,i)=>(n[i]=s[i],n),{}):s)}function Kr(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(s=>Kr(t[s],e[s])):!1}function jp(t,e){if(t===e)return t;const s=pd(t)&&pd(e);if(s||$l(t)&&$l(e)){const n=s?t:Object.keys(t),i=n.length,r=s?e:Object.keys(e),o=r.length,a=s?[]:{};let l=0;for(let c=0;c<o;c++){const u=s?c:r[c];(!s&&n.includes(u)||s)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=jp(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function la(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function pd(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $l(t){if(!gd(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!gd(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function gd(t){return Object.prototype.toString.call(t)==="[object Object]"}function G0(t){return new Promise(e=>{setTimeout(e,t)})}function Dl(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?jp(t,e):e}function Y0(t,e,s=0){const n=[...t,e];return s&&n.length>s?n.slice(1):n}function J0(t,e,s=0){const n=[e,...t];return s&&n.length>s?n.slice(0,-1):n}var Lc=Symbol();function Bp(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Lc?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var jn,en,Oi,ef,X0=(ef=class extends Gi{constructor(){super();ae(this,jn);ae(this,en);ae(this,Oi);te(this,Oi,e=>{if(!Yn&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){w(this,en)||this.setEventListener(w(this,Oi))}onUnsubscribe(){var e;this.hasListeners()||((e=w(this,en))==null||e.call(this),te(this,en,void 0))}setEventListener(e){var s;te(this,Oi,e),(s=w(this,en))==null||s.call(this),te(this,en,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){w(this,jn)!==e&&(te(this,jn,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof w(this,jn)=="boolean"?w(this,jn):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},jn=new WeakMap,en=new WeakMap,Oi=new WeakMap,ef),Ic=new X0,Ti,tn,Pi,tf,Z0=(tf=class extends Gi{constructor(){super();ae(this,Ti,!0);ae(this,tn);ae(this,Pi);te(this,Pi,e=>{if(!Yn&&window.addEventListener){const s=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}})}onSubscribe(){w(this,tn)||this.setEventListener(w(this,Pi))}onUnsubscribe(){var e;this.hasListeners()||((e=w(this,tn))==null||e.call(this),te(this,tn,void 0))}setEventListener(e){var s;te(this,Pi,e),(s=w(this,tn))==null||s.call(this),te(this,tn,e(this.setOnline.bind(this)))}setOnline(e){w(this,Ti)!==e&&(te(this,Ti,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return w(this,Ti)}},Ti=new WeakMap,tn=new WeakMap,Pi=new WeakMap,tf),ca=new Z0;function Ll(){let t,e;const s=new Promise((i,r)=>{t=i,e=r});s.status="pending",s.catch(()=>{});function n(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},s.reject=i=>{n({status:"rejected",reason:i}),e(i)},s}function ev(t){return Math.min(1e3*2**t,3e4)}function Np(t){return(t??"online")==="online"?ca.isOnline():!0}var Up=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function tl(t){return t instanceof Up}function Vp(t){let e=!1,s=0,n=!1,i;const r=Ll(),o=p=>{var g;n||(h(new Up(p)),(g=t.abort)==null||g.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>Ic.isFocused()&&(t.networkMode==="always"||ca.isOnline())&&t.canRun(),u=()=>Np(t.networkMode)&&t.canRun(),d=p=>{var g;n||(n=!0,(g=t.onSuccess)==null||g.call(t,p),i==null||i(),r.resolve(p))},h=p=>{var g;n||(n=!0,(g=t.onError)==null||g.call(t,p),i==null||i(),r.reject(p))},f=()=>new Promise(p=>{var g;i=b=>{(n||c())&&p(b)},(g=t.onPause)==null||g.call(t)}).then(()=>{var p;i=void 0,n||(p=t.onContinue)==null||p.call(t)}),y=()=>{if(n)return;let p;const g=s===0?t.initialPromise:void 0;try{p=g??t.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(d).catch(b=>{var j;if(n)return;const x=t.retry??(Yn?0:3),k=t.retryDelay??ev,S=typeof k=="function"?k(s,b):k,C=x===!0||typeof x=="number"&&s<x||typeof x=="function"&&x(s,b);if(e||!C){h(b);return}s++,(j=t.onFail)==null||j.call(t,s,b),G0(S).then(()=>c()?void 0:f()).then(()=>{e?h(b):y()})})};return{promise:r,cancel:o,continue:()=>(i==null||i(),r),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?y():f().then(y),r)}}var tv=t=>setTimeout(t,0);function sv(){let t=[],e=0,s=a=>{a()},n=a=>{a()},i=tv;const r=a=>{e?t.push(a):i(()=>{s(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{n(()=>{a.forEach(l=>{s(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{r(()=>{a(...l)})},schedule:r,setNotifyFunction:a=>{s=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{i=a}}}var dt=sv(),Bn,sf,Hp=(sf=class{constructor(){ae(this,Bn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Rl(this.gcTime)&&te(this,Bn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Yn?1/0:5*60*1e3))}clearGcTimeout(){w(this,Bn)&&(clearTimeout(w(this,Bn)),te(this,Bn,void 0))}},Bn=new WeakMap,sf),Ei,Mi,Ut,Nn,ft,to,Un,Jt,Os,nf,nv=(nf=class extends Hp{constructor(e){super();ae(this,Jt);ae(this,Ei);ae(this,Mi);ae(this,Ut);ae(this,Nn);ae(this,ft);ae(this,to);ae(this,Un);te(this,Un,!1),te(this,to,e.defaultOptions),this.setOptions(e.options),this.observers=[],te(this,Nn,e.client),te(this,Ut,w(this,Nn).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,te(this,Ei,iv(this.options)),this.state=e.state??w(this,Ei),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=w(this,ft))==null?void 0:e.promise}setOptions(e){this.options={...w(this,to),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&w(this,Ut).remove(this)}setData(e,s){const n=Dl(this.state.data,e,this.options);return ve(this,Jt,Os).call(this,{data:n,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),n}setState(e,s){ve(this,Jt,Os).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var n,i;const s=(n=w(this,ft))==null?void 0:n.promise;return(i=w(this,ft))==null||i.cancel(e),s?s.then(Vt).catch(Vt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(w(this,Ei))}isActive(){return this.observers.some(e=>es(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lc||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Fp(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=w(this,ft))==null||s.continue()}onOnline(){var s;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=w(this,ft))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),w(this,Ut).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(w(this,ft)&&(w(this,Un)?w(this,ft).cancel({revert:!0}):w(this,ft).cancelRetry()),this.scheduleGc()),w(this,Ut).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ve(this,Jt,Os).call(this,{type:"invalidate"})}fetch(e,s){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(w(this,ft))return w(this,ft).continueRetry(),w(this,ft).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(te(this,Un,!0),n.signal)})},r=()=>{const d=Bp(this.options,s),h={client:w(this,Nn),queryKey:this.queryKey,meta:this.meta};return i(h),te(this,Un,!1),this.options.persister?this.options.persister(d,h,this):d(h)},o={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:w(this,Nn),state:this.state,fetchFn:r};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),te(this,Mi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&ve(this,Jt,Os).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=d=>{var h,f,y,p;tl(d)&&d.silent||ve(this,Jt,Os).call(this,{type:"error",error:d}),tl(d)||((f=(h=w(this,Ut).config).onError)==null||f.call(h,d,this),(p=(y=w(this,Ut).config).onSettled)==null||p.call(y,this.state.data,d,this)),this.scheduleGc()};return te(this,ft,Vp({initialPromise:s==null?void 0:s.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:d=>{var h,f,y,p;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(g){a(g);return}(f=(h=w(this,Ut).config).onSuccess)==null||f.call(h,d,this),(p=(y=w(this,Ut).config).onSettled)==null||p.call(y,d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,h)=>{ve(this,Jt,Os).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{ve(this,Jt,Os).call(this,{type:"pause"})},onContinue:()=>{ve(this,Jt,Os).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),w(this,ft).start()}},Ei=new WeakMap,Mi=new WeakMap,Ut=new WeakMap,Nn=new WeakMap,ft=new WeakMap,to=new WeakMap,Un=new WeakMap,Jt=new WeakSet,Os=function(e){const s=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...zp(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return tl(i)&&i.revert&&w(this,Mi)?{...w(this,Mi),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=s(this.state),dt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),w(this,Ut).notify({query:this,type:"updated",action:e})})},nf);function zp(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Np(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function iv(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,n=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var ms,rf,qp=(rf=class extends Gi{constructor(s={}){super();ae(this,ms);this.config=s,te(this,ms,new Map)}build(s,n,i){const r=n.queryKey,o=n.queryHash??Dc(r,n);let a=this.get(o);return a||(a=new nv({client:s,queryKey:r,queryHash:o,options:s.defaultQueryOptions(n),state:i,defaultOptions:s.getQueryDefaults(r)}),this.add(a)),a}add(s){w(this,ms).has(s.queryHash)||(w(this,ms).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const n=w(this,ms).get(s.queryHash);n&&(s.destroy(),n===s&&w(this,ms).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){dt.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return w(this,ms).get(s)}getAll(){return[...w(this,ms).values()]}find(s){const n={exact:!0,...s};return this.getAll().find(i=>hd(n,i))}findAll(s={}){const n=this.getAll();return Object.keys(s).length>0?n.filter(i=>hd(s,i)):n}notify(s){dt.batch(()=>{this.listeners.forEach(n=>{n(s)})})}onFocus(){dt.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){dt.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},ms=new WeakMap,rf),ys,xt,Vn,bs,Hs,of,rv=(of=class extends Hp{constructor(e){super();ae(this,bs);ae(this,ys);ae(this,xt);ae(this,Vn);this.mutationId=e.mutationId,te(this,xt,e.mutationCache),te(this,ys,[]),this.state=e.state||Wp(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){w(this,ys).includes(e)||(w(this,ys).push(e),this.clearGcTimeout(),w(this,xt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){te(this,ys,w(this,ys).filter(s=>s!==e)),this.scheduleGc(),w(this,xt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){w(this,ys).length||(this.state.status==="pending"?this.scheduleGc():w(this,xt).remove(this))}continue(){var e;return((e=w(this,Vn))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var r,o,a,l,c,u,d,h,f,y,p,g,b,x,k,S,C,j,D,$;const s=()=>{ve(this,bs,Hs).call(this,{type:"continue"})};te(this,Vn,Vp({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,B)=>{ve(this,bs,Hs).call(this,{type:"failed",failureCount:P,error:B})},onPause:()=>{ve(this,bs,Hs).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>w(this,xt).canRun(this)}));const n=this.state.status==="pending",i=!w(this,Vn).canStart();try{if(n)s();else{ve(this,bs,Hs).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(r=w(this,xt).config).onMutate)==null?void 0:o.call(r,e,this));const B=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));B!==this.state.context&&ve(this,bs,Hs).call(this,{type:"pending",context:B,variables:e,isPaused:i})}const P=await w(this,Vn).start();return await((u=(c=w(this,xt).config).onSuccess)==null?void 0:u.call(c,P,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,P,e,this.state.context)),await((y=(f=w(this,xt).config).onSettled)==null?void 0:y.call(f,P,null,this.state.variables,this.state.context,this)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,P,null,e,this.state.context)),ve(this,bs,Hs).call(this,{type:"success",data:P}),P}catch(P){try{throw await((x=(b=w(this,xt).config).onError)==null?void 0:x.call(b,P,e,this.state.context,this)),await((S=(k=this.options).onError)==null?void 0:S.call(k,P,e,this.state.context)),await((j=(C=w(this,xt).config).onSettled)==null?void 0:j.call(C,void 0,P,this.state.variables,this.state.context,this)),await(($=(D=this.options).onSettled)==null?void 0:$.call(D,void 0,P,e,this.state.context)),P}finally{ve(this,bs,Hs).call(this,{type:"error",error:P})}}finally{w(this,xt).runNext(this)}}},ys=new WeakMap,xt=new WeakMap,Vn=new WeakMap,bs=new WeakSet,Hs=function(e){const s=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),dt.batch(()=>{w(this,ys).forEach(n=>{n.onMutationUpdate(e)}),w(this,xt).notify({mutation:this,type:"updated",action:e})})},of);function Wp(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Rs,Xt,so,af,Kp=(af=class extends Gi{constructor(s={}){super();ae(this,Rs);ae(this,Xt);ae(this,so);this.config=s,te(this,Rs,new Set),te(this,Xt,new Map),te(this,so,0)}build(s,n,i){const r=new rv({mutationCache:this,mutationId:++yo(this,so)._,options:s.defaultMutationOptions(n),state:i});return this.add(r),r}add(s){w(this,Rs).add(s);const n=wo(s);if(typeof n=="string"){const i=w(this,Xt).get(n);i?i.push(s):w(this,Xt).set(n,[s])}this.notify({type:"added",mutation:s})}remove(s){if(w(this,Rs).delete(s)){const n=wo(s);if(typeof n=="string"){const i=w(this,Xt).get(n);if(i)if(i.length>1){const r=i.indexOf(s);r!==-1&&i.splice(r,1)}else i[0]===s&&w(this,Xt).delete(n)}}this.notify({type:"removed",mutation:s})}canRun(s){const n=wo(s);if(typeof n=="string"){const i=w(this,Xt).get(n),r=i==null?void 0:i.find(o=>o.state.status==="pending");return!r||r===s}else return!0}runNext(s){var i;const n=wo(s);if(typeof n=="string"){const r=(i=w(this,Xt).get(n))==null?void 0:i.find(o=>o!==s&&o.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){dt.batch(()=>{w(this,Rs).forEach(s=>{this.notify({type:"removed",mutation:s})}),w(this,Rs).clear(),w(this,Xt).clear()})}getAll(){return Array.from(w(this,Rs))}find(s){const n={exact:!0,...s};return this.getAll().find(i=>fd(n,i))}findAll(s={}){return this.getAll().filter(n=>fd(s,n))}notify(s){dt.batch(()=>{this.listeners.forEach(n=>{n(s)})})}resumePausedMutations(){const s=this.getAll().filter(n=>n.state.isPaused);return dt.batch(()=>Promise.all(s.map(n=>n.continue().catch(Vt))))}},Rs=new WeakMap,Xt=new WeakMap,so=new WeakMap,af);function wo(t){var e;return(e=t.options.scope)==null?void 0:e.id}function md(t){return{onFetch:(e,s)=>{var u,d,h,f,y;const n=e.options,i=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,r=((f=e.state.data)==null?void 0:f.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let p=!1;const g=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},b=Bp(e.options,e.fetchOptions),x=async(k,S,C)=>{if(p)return Promise.reject();if(S==null&&k.pages.length)return Promise.resolve(k);const j={client:e.client,queryKey:e.queryKey,pageParam:S,direction:C?"backward":"forward",meta:e.options.meta};g(j);const D=await b(j),{maxPages:$}=e.options,P=C?J0:Y0;return{pages:P(k.pages,D,$),pageParams:P(k.pageParams,S,$)}};if(i&&r.length){const k=i==="backward",S=k?ov:yd,C={pages:r,pageParams:o},j=S(n,C);a=await x(C,j,k)}else{const k=t??r.length;do{const S=l===0?o[0]??n.initialPageParam:yd(n,a);if(l>0&&S==null)break;a=await x(a,S),l++}while(l<k)}return a};e.options.persister?e.fetchFn=()=>{var p,g;return(g=(p=e.options).persister)==null?void 0:g.call(p,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=c}}}function yd(t,{pages:e,pageParams:s}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,s[n],s):void 0}function ov(t,{pages:e,pageParams:s}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,s[0],s):void 0}var Ge,sn,nn,Ai,Ri,rn,$i,Di,lf,av=(lf=class{constructor(e={}){ae(this,Ge);ae(this,sn);ae(this,nn);ae(this,Ai);ae(this,Ri);ae(this,rn);ae(this,$i);ae(this,Di);te(this,Ge,e.queryCache||new qp),te(this,sn,e.mutationCache||new Kp),te(this,nn,e.defaultOptions||{}),te(this,Ai,new Map),te(this,Ri,new Map),te(this,rn,0)}mount(){yo(this,rn)._++,w(this,rn)===1&&(te(this,$i,Ic.subscribe(async e=>{e&&(await this.resumePausedMutations(),w(this,Ge).onFocus())})),te(this,Di,ca.subscribe(async e=>{e&&(await this.resumePausedMutations(),w(this,Ge).onOnline())})))}unmount(){var e,s;yo(this,rn)._--,w(this,rn)===0&&((e=w(this,$i))==null||e.call(this),te(this,$i,void 0),(s=w(this,Di))==null||s.call(this),te(this,Di,void 0))}isFetching(e){return w(this,Ge).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return w(this,sn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const s=this.defaultQueryOptions({queryKey:e});return(n=w(this,Ge).get(s.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const s=this.defaultQueryOptions(e),n=w(this,Ge).build(this,s),i=n.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ki(s.staleTime,n))&&this.prefetchQuery(s),Promise.resolve(i))}getQueriesData(e){return w(this,Ge).findAll(e).map(({queryKey:s,state:n})=>{const i=n.data;return[s,i]})}setQueryData(e,s,n){const i=this.defaultQueryOptions({queryKey:e}),r=w(this,Ge).get(i.queryHash),o=r==null?void 0:r.state.data,a=Q0(s,o);if(a!==void 0)return w(this,Ge).build(this,i).setData(a,{...n,manual:!0})}setQueriesData(e,s,n){return dt.batch(()=>w(this,Ge).findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,s,n)]))}getQueryState(e){var n;const s=this.defaultQueryOptions({queryKey:e});return(n=w(this,Ge).get(s.queryHash))==null?void 0:n.state}removeQueries(e){const s=w(this,Ge);dt.batch(()=>{s.findAll(e).forEach(n=>{s.remove(n)})})}resetQueries(e,s){const n=w(this,Ge);return dt.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},s)))}cancelQueries(e,s={}){const n={revert:!0,...s},i=dt.batch(()=>w(this,Ge).findAll(e).map(r=>r.cancel(n)));return Promise.all(i).then(Vt).catch(Vt)}invalidateQueries(e,s={}){return dt.batch(()=>(w(this,Ge).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},s)))}refetchQueries(e,s={}){const n={...s,cancelRefetch:s.cancelRefetch??!0},i=dt.batch(()=>w(this,Ge).findAll(e).filter(r=>!r.isDisabled()).map(r=>{let o=r.fetch(void 0,n);return n.throwOnError||(o=o.catch(Vt)),r.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(i).then(Vt)}fetchQuery(e){const s=this.defaultQueryOptions(e);s.retry===void 0&&(s.retry=!1);const n=w(this,Ge).build(this,s);return n.isStaleByTime(ki(s.staleTime,n))?n.fetch(s):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Vt).catch(Vt)}fetchInfiniteQuery(e){return e.behavior=md(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Vt).catch(Vt)}ensureInfiniteQueryData(e){return e.behavior=md(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ca.isOnline()?w(this,sn).resumePausedMutations():Promise.resolve()}getQueryCache(){return w(this,Ge)}getMutationCache(){return w(this,sn)}getDefaultOptions(){return w(this,nn)}setDefaultOptions(e){te(this,nn,e)}setQueryDefaults(e,s){w(this,Ai).set(Jn(e),{queryKey:e,defaultOptions:s})}getQueryDefaults(e){const s=[...w(this,Ai).values()],n={};return s.forEach(i=>{Kr(e,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(e,s){w(this,Ri).set(Jn(e),{mutationKey:e,defaultOptions:s})}getMutationDefaults(e){const s=[...w(this,Ri).values()],n={};return s.forEach(i=>{Kr(e,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const s={...w(this,nn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return s.queryHash||(s.queryHash=Dc(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Lc&&(s.enabled=!1),s}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...w(this,nn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){w(this,Ge).clear(),w(this,sn).clear()}},Ge=new WeakMap,sn=new WeakMap,nn=new WeakMap,Ai=new WeakMap,Ri=new WeakMap,rn=new WeakMap,$i=new WeakMap,Di=new WeakMap,lf),Mt,Ce,no,wt,Hn,Li,on,an,io,Ii,Fi,zn,qn,ln,ji,Ie,fr,Il,Fl,jl,Bl,Nl,Ul,Vl,Qp,cf,lv=(cf=class extends Gi{constructor(e,s){super();ae(this,Ie);ae(this,Mt);ae(this,Ce);ae(this,no);ae(this,wt);ae(this,Hn);ae(this,Li);ae(this,on);ae(this,an);ae(this,io);ae(this,Ii);ae(this,Fi);ae(this,zn);ae(this,qn);ae(this,ln);ae(this,ji,new Set);this.options=s,te(this,Mt,e),te(this,an,null),te(this,on,Ll()),this.options.experimental_prefetchInRender||w(this,on).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(w(this,Ce).addObserver(this),bd(w(this,Ce),this.options)?ve(this,Ie,fr).call(this):this.updateResult(),ve(this,Ie,Bl).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Hl(w(this,Ce),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Hl(w(this,Ce),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ve(this,Ie,Nl).call(this),ve(this,Ie,Ul).call(this),w(this,Ce).removeObserver(this)}setOptions(e){const s=this.options,n=w(this,Ce);if(this.options=w(this,Mt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof es(this.options.enabled,w(this,Ce))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ve(this,Ie,Vl).call(this),w(this,Ce).setOptions(this.options),s._defaulted&&!la(this.options,s)&&w(this,Mt).getQueryCache().notify({type:"observerOptionsUpdated",query:w(this,Ce),observer:this});const i=this.hasListeners();i&&vd(w(this,Ce),n,this.options,s)&&ve(this,Ie,fr).call(this),this.updateResult(),i&&(w(this,Ce)!==n||es(this.options.enabled,w(this,Ce))!==es(s.enabled,w(this,Ce))||ki(this.options.staleTime,w(this,Ce))!==ki(s.staleTime,w(this,Ce)))&&ve(this,Ie,Il).call(this);const r=ve(this,Ie,Fl).call(this);i&&(w(this,Ce)!==n||es(this.options.enabled,w(this,Ce))!==es(s.enabled,w(this,Ce))||r!==w(this,ln))&&ve(this,Ie,jl).call(this,r)}getOptimisticResult(e){const s=w(this,Mt).getQueryCache().build(w(this,Mt),e),n=this.createResult(s,e);return uv(this,n)&&(te(this,wt,n),te(this,Li,this.options),te(this,Hn,w(this,Ce).state)),n}getCurrentResult(){return w(this,wt)}trackResult(e,s){const n={};return Object.keys(e).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),s==null||s(i),e[i])})}),n}trackProp(e){w(this,ji).add(e)}getCurrentQuery(){return w(this,Ce)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=w(this,Mt).defaultQueryOptions(e),n=w(this,Mt).getQueryCache().build(w(this,Mt),s);return n.fetch().then(()=>this.createResult(n,s))}fetch(e){return ve(this,Ie,fr).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),w(this,wt)))}createResult(e,s){var P;const n=w(this,Ce),i=this.options,r=w(this,wt),o=w(this,Hn),a=w(this,Li),c=e!==n?e.state:w(this,no),{state:u}=e;let d={...u},h=!1,f;if(s._optimisticResults){const B=this.hasListeners(),R=!B&&bd(e,s),T=B&&vd(e,n,s,i);(R||T)&&(d={...d,...zp(u.data,e.options)}),s._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:y,errorUpdatedAt:p,status:g}=d;f=d.data;let b=!1;if(s.placeholderData!==void 0&&f===void 0&&g==="pending"){let B;r!=null&&r.isPlaceholderData&&s.placeholderData===(a==null?void 0:a.placeholderData)?(B=r.data,b=!0):B=typeof s.placeholderData=="function"?s.placeholderData((P=w(this,Fi))==null?void 0:P.state.data,w(this,Fi)):s.placeholderData,B!==void 0&&(g="success",f=Dl(r==null?void 0:r.data,B,s),h=!0)}if(s.select&&f!==void 0&&!b)if(r&&f===(o==null?void 0:o.data)&&s.select===w(this,io))f=w(this,Ii);else try{te(this,io,s.select),f=s.select(f),f=Dl(r==null?void 0:r.data,f,s),te(this,Ii,f),te(this,an,null)}catch(B){te(this,an,B)}w(this,an)&&(y=w(this,an),f=w(this,Ii),p=Date.now(),g="error");const x=d.fetchStatus==="fetching",k=g==="pending",S=g==="error",C=k&&x,j=f!==void 0,$={status:g,fetchStatus:d.fetchStatus,isPending:k,isSuccess:g==="success",isError:S,isInitialLoading:C,isLoading:C,data:f,dataUpdatedAt:d.dataUpdatedAt,error:y,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!k,isLoadingError:S&&!j,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&j,isStale:Fc(e,s),refetch:this.refetch,promise:w(this,on)};if(this.options.experimental_prefetchInRender){const B=J=>{$.status==="error"?J.reject($.error):$.data!==void 0&&J.resolve($.data)},R=()=>{const J=te(this,on,$.promise=Ll());B(J)},T=w(this,on);switch(T.status){case"pending":e.queryHash===n.queryHash&&B(T);break;case"fulfilled":($.status==="error"||$.data!==T.value)&&R();break;case"rejected":($.status!=="error"||$.error!==T.reason)&&R();break}}return $}updateResult(){const e=w(this,wt),s=this.createResult(w(this,Ce),this.options);if(te(this,Hn,w(this,Ce).state),te(this,Li,this.options),w(this,Hn).data!==void 0&&te(this,Fi,w(this,Ce)),la(s,e))return;te(this,wt,s);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,r=typeof i=="function"?i():i;if(r==="all"||!r&&!w(this,ji).size)return!0;const o=new Set(r??w(this,ji));return this.options.throwOnError&&o.add("error"),Object.keys(w(this,wt)).some(a=>{const l=a;return w(this,wt)[l]!==e[l]&&o.has(l)})};ve(this,Ie,Qp).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ve(this,Ie,Bl).call(this)}},Mt=new WeakMap,Ce=new WeakMap,no=new WeakMap,wt=new WeakMap,Hn=new WeakMap,Li=new WeakMap,on=new WeakMap,an=new WeakMap,io=new WeakMap,Ii=new WeakMap,Fi=new WeakMap,zn=new WeakMap,qn=new WeakMap,ln=new WeakMap,ji=new WeakMap,Ie=new WeakSet,fr=function(e){ve(this,Ie,Vl).call(this);let s=w(this,Ce).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(Vt)),s},Il=function(){ve(this,Ie,Nl).call(this);const e=ki(this.options.staleTime,w(this,Ce));if(Yn||w(this,wt).isStale||!Rl(e))return;const n=Fp(w(this,wt).dataUpdatedAt,e)+1;te(this,zn,setTimeout(()=>{w(this,wt).isStale||this.updateResult()},n))},Fl=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(w(this,Ce)):this.options.refetchInterval)??!1},jl=function(e){ve(this,Ie,Ul).call(this),te(this,ln,e),!(Yn||es(this.options.enabled,w(this,Ce))===!1||!Rl(w(this,ln))||w(this,ln)===0)&&te(this,qn,setInterval(()=>{(this.options.refetchIntervalInBackground||Ic.isFocused())&&ve(this,Ie,fr).call(this)},w(this,ln)))},Bl=function(){ve(this,Ie,Il).call(this),ve(this,Ie,jl).call(this,ve(this,Ie,Fl).call(this))},Nl=function(){w(this,zn)&&(clearTimeout(w(this,zn)),te(this,zn,void 0))},Ul=function(){w(this,qn)&&(clearInterval(w(this,qn)),te(this,qn,void 0))},Vl=function(){const e=w(this,Mt).getQueryCache().build(w(this,Mt),this.options);if(e===w(this,Ce))return;const s=w(this,Ce);te(this,Ce,e),te(this,no,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Qp=function(e){dt.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(w(this,wt))}),w(this,Mt).getQueryCache().notify({query:w(this,Ce),type:"observerResultsUpdated"})})},cf);function cv(t,e){return es(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function bd(t,e){return cv(t,e)||t.state.data!==void 0&&Hl(t,e,e.refetchOnMount)}function Hl(t,e,s){if(es(e.enabled,t)!==!1){const n=typeof s=="function"?s(t):s;return n==="always"||n!==!1&&Fc(t,e)}return!1}function vd(t,e,s,n){return(t!==e||es(n.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&Fc(t,s)}function Fc(t,e){return es(e.enabled,t)!==!1&&t.isStaleByTime(ki(e.staleTime,t))}function uv(t,e){return!la(t.getCurrentResult(),e)}var cn,un,At,$s,Fs,Qo,zl,uf,dv=(uf=class extends Gi{constructor(s,n){super();ae(this,Fs);ae(this,cn);ae(this,un);ae(this,At);ae(this,$s);te(this,cn,s),this.setOptions(n),this.bindMethods(),ve(this,Fs,Qo).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var i;const n=this.options;this.options=w(this,cn).defaultMutationOptions(s),la(this.options,n)||w(this,cn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:w(this,At),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Jn(n.mutationKey)!==Jn(this.options.mutationKey)?this.reset():((i=w(this,At))==null?void 0:i.state.status)==="pending"&&w(this,At).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=w(this,At))==null||s.removeObserver(this)}onMutationUpdate(s){ve(this,Fs,Qo).call(this),ve(this,Fs,zl).call(this,s)}getCurrentResult(){return w(this,un)}reset(){var s;(s=w(this,At))==null||s.removeObserver(this),te(this,At,void 0),ve(this,Fs,Qo).call(this),ve(this,Fs,zl).call(this)}mutate(s,n){var i;return te(this,$s,n),(i=w(this,At))==null||i.removeObserver(this),te(this,At,w(this,cn).getMutationCache().build(w(this,cn),this.options)),w(this,At).addObserver(this),w(this,At).execute(s)}},cn=new WeakMap,un=new WeakMap,At=new WeakMap,$s=new WeakMap,Fs=new WeakSet,Qo=function(){var n;const s=((n=w(this,At))==null?void 0:n.state)??Wp();te(this,un,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},zl=function(s){dt.batch(()=>{var n,i,r,o,a,l,c,u;if(w(this,$s)&&this.hasListeners()){const d=w(this,un).variables,h=w(this,un).context;(s==null?void 0:s.type)==="success"?((i=(n=w(this,$s)).onSuccess)==null||i.call(n,s.data,d,h),(o=(r=w(this,$s)).onSettled)==null||o.call(r,s.data,null,d,h)):(s==null?void 0:s.type)==="error"&&((l=(a=w(this,$s)).onError)==null||l.call(a,s.error,d,h),(u=(c=w(this,$s)).onSettled)==null||u.call(c,void 0,s.error,d,h))}this.listeners.forEach(d=>{d(w(this,un))})})},uf),hv="VUE_QUERY_CLIENT";function Gp(t){const e=t?`:${t}`:"";return`${hv}${e}`}function ql(t,e){Object.keys(t).forEach(s=>{t[s]=e[s]})}function Wl(t,e,s="",n=0){if(e){const i=e(t,s,n);if(i===void 0&&st(t)||i!==void 0)return i}if(Array.isArray(t))return t.map((i,r)=>Wl(i,e,String(r),n+1));if(typeof t=="object"&&pv(t)){const i=Object.entries(t).map(([r,o])=>[r,Wl(o,e,r,n+1)]);return Object.fromEntries(i)}return t}function fv(t,e){return Wl(t,e)}function we(t,e=!1){return fv(t,(s,n,i)=>{if(i===1&&n==="queryKey")return we(s,!0);if(e&&gv(s))return we(s(),e);if(st(s))return we(Y(s),e)})}function pv(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function gv(t){return typeof t=="function"}function Kl(t,e){return typeof t=="function"?t(...e):!!t}function ut(t=""){if(!Ry())throw new Error("vue-query hooks can only be used inside setup() function or functions that support injection context.");const e=Gp(t),s=Kt(e);if(!s)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return s}var mv=class extends qp{find(t){return super.find(we(t))}findAll(t={}){return super.findAll(we(t))}},yv=class extends Kp{find(t){return super.find(we(t))}findAll(t={}){return super.findAll(we(t))}},Yp=class extends av{constructor(t={}){const e={defaultOptions:t.defaultOptions,queryCache:t.queryCache||new mv,mutationCache:t.mutationCache||new yv};super(e),this.isRestoring=G(!1)}isFetching(t={}){return super.isFetching(we(t))}isMutating(t={}){return super.isMutating(we(t))}getQueryData(t){return super.getQueryData(we(t))}ensureQueryData(t){return super.ensureQueryData(we(t))}getQueriesData(t){return super.getQueriesData(we(t))}setQueryData(t,e,s={}){return super.setQueryData(we(t),e,we(s))}setQueriesData(t,e,s={}){return super.setQueriesData(we(t),e,we(s))}getQueryState(t){return super.getQueryState(we(t))}removeQueries(t={}){return super.removeQueries(we(t))}resetQueries(t={},e={}){return super.resetQueries(we(t),we(e))}cancelQueries(t={},e={}){return super.cancelQueries(we(t),we(e))}invalidateQueries(t={},e={}){const s=we(t),n=we(e);if(super.invalidateQueries({...s,refetchType:"none"},n),s.refetchType==="none")return Promise.resolve();const i={...s,type:s.refetchType??s.type??"active"};return co().then(()=>super.refetchQueries(i,n))}refetchQueries(t={},e={}){return super.refetchQueries(we(t),we(e))}fetchQuery(t){return super.fetchQuery(we(t))}prefetchQuery(t){return super.prefetchQuery(we(t))}fetchInfiniteQuery(t){return super.fetchInfiniteQuery(we(t))}prefetchInfiniteQuery(t){return super.prefetchInfiniteQuery(we(t))}setDefaultOptions(t){super.setDefaultOptions(we(t))}setQueryDefaults(t,e){super.setQueryDefaults(we(t),we(e))}getQueryDefaults(t){return super.getQueryDefaults(we(t))}setMutationDefaults(t,e){super.setMutationDefaults(we(t),we(e))}getMutationDefaults(t){return super.getMutationDefaults(we(t))}},bv={install:(t,e={})=>{const s=Gp(e.queryClientKey);let n;if("queryClient"in e&&e.queryClient)n=e.queryClient;else{const o="queryClientConfig"in e?e.queryClientConfig:void 0;n=new Yp(o)}Yn||n.mount();let i=()=>{};if(e.clientPersister){n.isRestoring.value=!0;const[o,a]=e.clientPersister(n);i=o,a.then(()=>{var l;n.isRestoring.value=!1,(l=e.clientPersisterOnSuccess)==null||l.call(e,n)})}const r=()=>{n.unmount(),i()};if(t.onUnmount)t.onUnmount(r);else{const o=t.unmount;t.unmount=function(){r(),o()}}t.provide(s,n)}};function vv(t,e,s){const n=ut(),i=ye(()=>{const f=we(e);typeof f.enabled=="function"&&(f.enabled=f.enabled());const y=n.defaultQueryOptions(f);return y._optimisticResults=n.isRestoring.value?"isRestoring":"optimistic",y}),r=new t(n,i.value),o=Oa(r.getCurrentResult());let a=()=>{};Ye(n.isRestoring,f=>{f||(a(),a=r.subscribe(y=>{ql(o,y)}))},{immediate:!0});const l=()=>{r.setOptions(i.value),ql(o,r.getCurrentResult())};Ye(i,l),bf(()=>{a()});const c=(...f)=>(l(),o.refetch(...f)),u=()=>new Promise((f,y)=>{let p=()=>{};const g=()=>{if(i.value.enabled!==!1){r.setOptions(i.value);const b=r.getOptimisticResult(i.value);b.isStale?(p(),r.fetchOptimistic(i.value).then(f,x=>{Kl(i.value.throwOnError,[x,r.getCurrentQuery()])?y(x):f(r.getCurrentResult())})):(p(),f(b))}};g(),p=Ye(i,g)});Ye(()=>o.error,f=>{if(o.isError&&!o.isFetching&&Kl(i.value.throwOnError,[f,r.getCurrentQuery()]))throw f});const h=If(o);for(const f in o)typeof o[f]=="function"&&(h[f]=o[f]);return h.suspense=u,h.refetch=c,h}function Bs(t,e){return vv(lv,t)}function $t(t,e){const s=ut(),n=ye(()=>s.defaultMutationOptions(we(t))),i=new dv(s,n.value),r=Oa(i.getCurrentResult()),o=i.subscribe(u=>{ql(r,u)}),a=(u,d)=>{i.mutate(u,d).catch(()=>{})};Ye(n,()=>{i.setOptions(n.value)}),bf(()=>{o()});const c=If(r);return Ye(()=>r.error,u=>{if(u&&Kl(n.value.throwOnError,[u]))throw u}),{...c,mutate:a,mutateAsync:r.mutate,reset:r.reset}}const _v="modulepreload",xv=function(t){return"/"+t},_d={},Hi=function(e,s,n){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(s.map(l=>{if(l=xv(l),l in _d)return;_d[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":_v,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})},wv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Hi(async()=>{const{default:n}=await Promise.resolve().then(()=>Yi);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)};class jc extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class kv extends jc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Sv extends jc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Cv extends jc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ql;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ql||(Ql={}));var Ov=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class Tv{constructor(e,{headers:s={},customFetch:n,region:i=Ql.Any}={}){this.url=e,this.headers=s,this.region=i,this.fetch=wv(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var n;return Ov(this,void 0,void 0,function*(){try{const{headers:i,method:r,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(y=>{throw new kv(y)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new Sv(u);if(!u.ok)throw new Cv(u);let h=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield u.json():h==="application/octet-stream"?f=yield u.blob():h==="text/event-stream"?f=u:h==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}function Pv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ev(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(s,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),s}var it={},ii={},ri={},oi={},ai={},li={},Mv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zi=Mv();const Av=zi.fetch,Jp=zi.fetch.bind(zi),Xp=zi.Headers,Rv=zi.Request,$v=zi.Response,Yi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Xp,Request:Rv,Response:$v,default:Jp,fetch:Av},Symbol.toStringTag,{value:"Module"})),Dv=Ev(Yi);var ko={},xd;function Zp(){if(xd)return ko;xd=1,Object.defineProperty(ko,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return ko.default=t,ko}var wd;function eg(){if(wd)return li;wd=1;var t=li&&li.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(li,"__esModule",{value:!0});const e=t(Dv),s=t(Zp());class n{constructor(r){this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=r.headers,this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=r.shouldThrowOnError,this.signal=r.signal,this.isMaybeSingle=r.isMaybeSingle,r.fetch?this.fetch=r.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,o){return this.headers=Object.assign({},this.headers),this.headers[r]=o,this}then(r,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h;let f=null,y=null,p=null,g=c.status,b=c.statusText;if(c.ok){if(this.method!=="HEAD"){const C=await c.text();C===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=C:y=JSON.parse(C))}const k=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),S=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");k&&S&&S.length>1&&(p=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(f={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,p=null,g=406,b="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const k=await c.text();try{f=JSON.parse(k),Array.isArray(f)&&c.status===404&&(y=[],f=null,g=200,b="OK")}catch{c.status===404&&k===""?(g=204,b="No Content"):f={message:k}}if(f&&this.isMaybeSingle&&(!((h=f==null?void 0:f.details)===null||h===void 0)&&h.includes("0 rows"))&&(f=null,g=200,b="OK"),f&&this.shouldThrowOnError)throw new s.default(f)}return{error:f,data:y,count:p,status:g,statusText:b}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=c==null?void 0:c.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(r,o)}returns(){return this}overrideTypes(){return this}}return li.default=n,li}var kd;function tg(){if(kd)return ai;kd=1;var t=ai&&ai.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ai,"__esModule",{value:!0});const e=t(eg());class s extends e.default{select(i){let r=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:r=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${r?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,r,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${r-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:r=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const d=[i?"analyze":null,r?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${h}"; options=${d};`,c==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ai.default=s,ai}var Sd;function Bc(){if(Sd)return oi;Sd=1;var t=oi&&oi.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(oi,"__esModule",{value:!0});const e=t(tg());class s extends e.default{eq(i,r){return this.url.searchParams.append(i,`eq.${r}`),this}neq(i,r){return this.url.searchParams.append(i,`neq.${r}`),this}gt(i,r){return this.url.searchParams.append(i,`gt.${r}`),this}gte(i,r){return this.url.searchParams.append(i,`gte.${r}`),this}lt(i,r){return this.url.searchParams.append(i,`lt.${r}`),this}lte(i,r){return this.url.searchParams.append(i,`lte.${r}`),this}like(i,r){return this.url.searchParams.append(i,`like.${r}`),this}likeAllOf(i,r){return this.url.searchParams.append(i,`like(all).{${r.join(",")}}`),this}likeAnyOf(i,r){return this.url.searchParams.append(i,`like(any).{${r.join(",")}}`),this}ilike(i,r){return this.url.searchParams.append(i,`ilike.${r}`),this}ilikeAllOf(i,r){return this.url.searchParams.append(i,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(i,r){return this.url.searchParams.append(i,`ilike(any).{${r.join(",")}}`),this}is(i,r){return this.url.searchParams.append(i,`is.${r}`),this}in(i,r){const o=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cs.{${r.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(r)}`),this}containedBy(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cd.{${r.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(r)}`),this}rangeGt(i,r){return this.url.searchParams.append(i,`sr.${r}`),this}rangeGte(i,r){return this.url.searchParams.append(i,`nxl.${r}`),this}rangeLt(i,r){return this.url.searchParams.append(i,`sl.${r}`),this}rangeLte(i,r){return this.url.searchParams.append(i,`nxr.${r}`),this}rangeAdjacent(i,r){return this.url.searchParams.append(i,`adj.${r}`),this}overlaps(i,r){return typeof r=="string"?this.url.searchParams.append(i,`ov.${r}`):this.url.searchParams.append(i,`ov.{${r.join(",")}}`),this}textSearch(i,r,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${c}.${r}`),this}match(i){return Object.entries(i).forEach(([r,o])=>{this.url.searchParams.append(r,`eq.${o}`)}),this}not(i,r,o){return this.url.searchParams.append(i,`not.${r}.${o}`),this}or(i,{foreignTable:r,referencedTable:o=r}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,r,o){return this.url.searchParams.append(i,`${r}.${o}`),this}}return oi.default=s,oi}var Cd;function sg(){if(Cd)return ri;Cd=1;var t=ri&&ri.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ri,"__esModule",{value:!0});const e=t(Bc());class s{constructor(i,{headers:r={},schema:o,fetch:a}){this.url=i,this.headers=r,this.schema=o,this.fetch=a}select(i,{head:r=!1,count:o}={}){const a=r?"HEAD":"GET";let l=!1;const c=(i??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:r,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),r&&l.push(`count=${r}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(i)){const c=i.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:r,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(i)){const d=i.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:r}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const r="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return ri.default=s,ri}var ir={},rr={},Od;function Lv(){return Od||(Od=1,Object.defineProperty(rr,"__esModule",{value:!0}),rr.version=void 0,rr.version="0.0.0-automated"),rr}var Td;function Iv(){if(Td)return ir;Td=1,Object.defineProperty(ir,"__esModule",{value:!0}),ir.DEFAULT_HEADERS=void 0;const t=Lv();return ir.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},ir}var Pd;function Fv(){if(Pd)return ii;Pd=1;var t=ii&&ii.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ii,"__esModule",{value:!0});const e=t(sg()),s=t(Bc()),n=Iv();class i{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:u}={}){let d;const h=new URL(`${this.url}/rpc/${o}`);let f;l||c?(d=l?"HEAD":"GET",Object.entries(a).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{h.searchParams.append(p,g)})):(d="POST",f=a);const y=Object.assign({},this.headers);return u&&(y.Prefer=`count=${u}`),new s.default({method:d,url:h,headers:y,schema:this.schemaName,body:f,fetch:this.fetch,allowEmpty:!1})}}return ii.default=i,ii}var Ed;function jv(){if(Ed)return it;Ed=1;var t=it&&it.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(it,"__esModule",{value:!0}),it.PostgrestError=it.PostgrestBuilder=it.PostgrestTransformBuilder=it.PostgrestFilterBuilder=it.PostgrestQueryBuilder=it.PostgrestClient=void 0;const e=t(Fv());it.PostgrestClient=e.default;const s=t(sg());it.PostgrestQueryBuilder=s.default;const n=t(Bc());it.PostgrestFilterBuilder=n.default;const i=t(tg());it.PostgrestTransformBuilder=i.default;const r=t(eg());it.PostgrestBuilder=r.default;const o=t(Zp());return it.PostgrestError=o.default,it.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:r.default,PostgrestError:o.default},it}var Bv=jv();const Nv=Pv(Bv),{PostgrestClient:Uv,PostgrestQueryBuilder:JE,PostgrestFilterBuilder:XE,PostgrestTransformBuilder:ZE,PostgrestBuilder:eM,PostgrestError:tM}=Nv,Vv="2.11.2",Hv={"X-Client-Info":`realtime-js/${Vv}`},zv="1.0.0",ng=1e4,qv=1e3;var Si;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Si||(Si={}));var Ft;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ft||(Ft={}));var Zt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Zt||(Zt={}));var Gl;(function(t){t.websocket="websocket"})(Gl||(Gl={}));var Ln;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ln||(Ln={}));class Wv{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,s,n)}_decodeBroadcast(e,s,n){const i=s.getUint8(1),r=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+i));o=o+i;const l=n.decode(e.slice(o,o+r));o=o+r;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class ig{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ve||(Ve={}));const Md=(t,e,s={})=>{var n;const i=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((r,o)=>(r[o]=Kv(o,t,e,i),r),{})},Kv=(t,e,s,n)=>{const i=e.find(a=>a.name===t),r=i==null?void 0:i.type,o=s[t];return r&&!n.includes(r)?rg(r,o):Yl(o)},rg=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Jv(e,s)}switch(t){case Ve.bool:return Qv(e);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return Gv(e);case Ve.json:case Ve.jsonb:return Yv(e);case Ve.timestamp:return Xv(e);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return Yl(e);default:return Yl(e)}},Yl=t=>t,Qv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Gv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Yv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Jv=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let r;const o=t.slice(1,s);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>rg(e,a))}return t},Xv=t=>typeof t=="string"?t.replace(" ","T"):t,og=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class sl{constructor(e,s,n={},i=ng){this.channel=e,this.event=s,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ad;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ad||(Ad={}));class Pr{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pr.syncState(this.state,i,r,o),this.pendingDiffs.forEach(l=>{this.state=Pr.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Pr.syncDiff(this.state,i,r,o),a())}),this.onJoin((i,r,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:o})}),this.onLeave((i,r,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,i){const r=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(r,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=r[c];if(d){const h=u.map(g=>g.presence_ref),f=d.map(g=>g.presence_ref),y=u.filter(g=>f.indexOf(g.presence_ref)<0),p=d.filter(g=>h.indexOf(g.presence_ref)<0);y.length>0&&(a[c]=y),p.length>0&&(l[c]=p)}else a[c]=u}),this.syncDiff(r,{joins:a,leaves:l},n,i)}static syncDiff(e,s,n,i){const{joins:r,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(r,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}n(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const i=e[n];return"metas"in i?s[n]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):s[n]=i,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rd;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Rd||(Rd={}));var $d;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})($d||($d={}));var Ms;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ms||(Ms={}));class Nc{constructor(e,s={config:{}},n){this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=Ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new sl(this,Zt.join,this.params,this.timeout),this.rejoinTimer=new ig(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ft.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zt.reply,{},(i,r)=>{this._trigger(this._replyEventName(r),i)}),this.presence=new Pr(this),this.broadcastEndpointURL=og(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:r,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(Ms.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Ms.CLOSED));const l={},c={broadcast:r,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Ms.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,y=[];for(let p=0;p<f;p++){const g=h[p],{filter:{event:b,schema:x,table:k,filter:S}}=g,C=u&&u[p];if(C&&C.event===b&&C.schema===x&&C.table===k&&C.filter===S)y.push(Object.assign(Object.assign({},g),{id:C.id}));else{this.unsubscribe(),e==null||e(Ms.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Ms.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Ms.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ms.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this._on(e,s,n)}async send(e,s={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:r,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ft.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new sl(this,Zt.leave,{},e);i.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,s,n){const i=new AbortController,r=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(r),o}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new sl(this,e,s,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var i,r;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Zt;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,s,n);if(s&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var y,p,g;return((y=f.filter)===null||y===void 0?void 0:y.event)==="*"||((g=(p=f.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(f=>f.callback(h,n)):(r=this.bindings[o])===null||r===void 0||r.filter(f=>{var y,p,g,b,x,k;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const S=f.id,C=(y=f.filter)===null||y===void 0?void 0:y.event;return S&&((p=s.ids)===null||p===void 0?void 0:p.includes(S))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((g=s.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const S=(x=(b=f==null?void 0:f.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return S==="*"||S===((k=s==null?void 0:s.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:p,table:g,commit_timestamp:b,type:x,errors:k}=y;h=Object.assign(Object.assign({},{schema:p,table:g,commit_timestamp:b,eventType:x,new:{},old:{},errors:k}),this._getPayloadRecords(y))}f.callback(h,n)})}_isClosed(){return this.state===Ft.closed}_isJoined(){return this.state===Ft.joined}_isJoining(){return this.state===Ft.joining}_isLeaving(){return this.state===Ft.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const i=e.toLocaleLowerCase(),r={type:i,filter:s,callback:n};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===n&&Nc.isEqual(i.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Zt.close,{},e)}_onError(e){this._on(Zt.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ft.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Md(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Md(e.columns,e.old_record)),s}}const Zv=()=>{},e_=typeof WebSocket<"u",t_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class s_{constructor(e,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Hv,this.params={},this.timeout=ng,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Zv,this.conn=null,this.sendBuffer=[],this.serializer=new Wv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=r=>{let o;return r?o=r:typeof fetch>"u"?o=(...a)=>Hi(async()=>{const{default:l}=await Promise.resolve().then(()=>Yi);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Gl.websocket}`,this.httpEndpoint=og(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const i=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:r=>[1e3,2e3,5e3,1e4][r-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(r,o)=>o(JSON.stringify(r)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ig(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(e_){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new n_(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Hi(async()=>{const{default:e}=await import("./browser-Cb4pW7XI.js").then(s=>s.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zv}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Si.connecting:return Ln.Connecting;case Si.open:return Ln.Open;case Si.closing:return Ln.Closing;default:return Ln.Closed}}isConnected(){return this.connectionState()===Ln.Open}channel(e,s={config:{}}){const n=new Nc(`realtime:${e}`,s,this);return this.channels.push(n),n}push(e){const{topic:s,event:n,payload:i,ref:r}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${r})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let n=null;try{n=JSON.parse(atob(s.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=s,this.channels.forEach(i=>{s&&i.updateJoinPayload({access_token:s}),i.joinedOnce&&i._isJoined()&&i._push(Zt.access_token,{access_token:s})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(qv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:n,event:i,payload:r,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,r),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(i,r,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Zt.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${e}${n}${i}`}_workerObjectUrl(e){let s;if(e)s=e;else{const n=new Blob([t_],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class n_{constructor(e,s,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Si.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Uc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function rt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class i_ extends Uc{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Jl extends Uc{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var r_=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const ag=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Hi(async()=>{const{default:n}=await Promise.resolve().then(()=>Yi);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},o_=()=>r_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Hi(()=>Promise.resolve().then(()=>Yi),void 0)).Response:Response}),Xl=t=>{if(Array.isArray(t))return t.map(s=>Xl(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,n])=>{const i=s.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[i]=Xl(n)}),e};var Zn=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const nl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),a_=(t,e,s)=>Zn(void 0,void 0,void 0,function*(){const n=yield o_();t instanceof n&&!(s!=null&&s.noResolveJson)?t.json().then(i=>{e(new i_(nl(i),t.status||500))}).catch(i=>{e(new Jl(nl(i),i))}):e(new Jl(nl(t),t))}),l_=(t,e,s,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),s))};function fo(t,e,s,n,i,r){return Zn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,l_(e,n,i,r)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>a_(l,a,n))})})}function ua(t,e,s,n){return Zn(this,void 0,void 0,function*(){return fo(t,"GET",e,s,n)})}function Js(t,e,s,n,i){return Zn(this,void 0,void 0,function*(){return fo(t,"POST",e,n,i,s)})}function c_(t,e,s,n,i){return Zn(this,void 0,void 0,function*(){return fo(t,"PUT",e,n,i,s)})}function u_(t,e,s,n){return Zn(this,void 0,void 0,function*(){return fo(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function lg(t,e,s,n,i){return Zn(this,void 0,void 0,function*(){return fo(t,"DELETE",e,n,i,s)})}var Pt=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const d_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Dd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class h_{constructor(e,s={},n,i){this.url=e,this.headers=s,this.bucketId=n,this.fetch=ag(i)}uploadOrUpdate(e,s,n,i){return Pt(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},Dd),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",n)):typeof FormData<"u"&&n instanceof FormData?(r=n,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l))):(r=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(s),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:r,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(r){if(rt(r))return{data:null,error:r};throw r}})}upload(e,s,n){return Pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,n)})}uploadToSignedUrl(e,s,n,i){return Pt(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:Dd.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:r,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(rt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return Pt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const r=yield Js(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+r.url),a=o.searchParams.get("token");if(!a)throw new Uc("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}})}update(e,s,n){return Pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,n)})}move(e,s,n){return Pt(this,void 0,void 0,function*(){try{return{data:yield Js(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(rt(i))return{data:null,error:i};throw i}})}copy(e,s,n){return Pt(this,void 0,void 0,function*(){try{return{data:{path:(yield Js(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(rt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,s,n){return Pt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),r=yield Js(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(i){if(rt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,s,n){return Pt(this,void 0,void 0,function*(){try{const i=yield Js(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),r=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(i){if(rt(i))return{data:null,error:i};throw i}})}download(e,s){return Pt(this,void 0,void 0,function*(){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=r?`?${r}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ua(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(rt(a))return{data:null,error:a};throw a}})}info(e){return Pt(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const n=yield ua(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Xl(n),error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}})}exists(e){return Pt(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield u_(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(rt(n)&&n instanceof Jl){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,s){const n=this._getFinalPath(e),i=[],r=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";r!==""&&i.push(r);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return Pt(this,void 0,void 0,function*(){try{return{data:yield lg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(rt(s))return{data:null,error:s};throw s}})}list(e,s,n){return Pt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},d_),s),{prefix:e||""});return{data:yield Js(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(rt(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const f_="2.7.1",p_={"X-Client-Info":`storage-js/${f_}`};var ci=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class g_{constructor(e,s={},n){this.url=e,this.headers=Object.assign(Object.assign({},p_),s),this.fetch=ag(n)}listBuckets(){return ci(this,void 0,void 0,function*(){try{return{data:yield ua(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(rt(e))return{data:null,error:e};throw e}})}getBucket(e){return ci(this,void 0,void 0,function*(){try{return{data:yield ua(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(rt(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return ci(this,void 0,void 0,function*(){try{return{data:yield Js(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return ci(this,void 0,void 0,function*(){try{return{data:yield c_(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ci(this,void 0,void 0,function*(){try{return{data:yield Js(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(rt(s))return{data:null,error:s};throw s}})}deleteBucket(e){return ci(this,void 0,void 0,function*(){try{return{data:yield lg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(rt(s))return{data:null,error:s};throw s}})}}class m_ extends g_{constructor(e,s={},n){super(e,s,n)}from(e){return new h_(this.url,this.headers,e,this.fetch)}}const y_="2.49.1";let pr="";typeof Deno<"u"?pr="deno":typeof document<"u"?pr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pr="react-native":pr="node";const b_={"X-Client-Info":`supabase-js-${pr}/${y_}`},v_={headers:b_},__={schema:"public"},x_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},w_={};var k_=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const S_=t=>{let e;return t?e=t:typeof fetch>"u"?e=Jp:e=fetch,(...s)=>e(...s)},C_=()=>typeof Headers>"u"?Xp:Headers,O_=(t,e,s)=>{const n=S_(s),i=C_();return(r,o)=>k_(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(r,Object.assign(Object.assign({},o),{headers:c}))})};var T_=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function P_(t){return t.replace(/\/$/,"")}function E_(t,e){const{db:s,auth:n,realtime:i,global:r}=t,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),r),accessToken:()=>T_(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const cg="2.68.0",mi=30*1e3,Zl=3,il=Zl*mi,M_="http://localhost:9999",A_="supabase.auth.token",R_={"X-Client-Info":`gotrue-js/${cg}`},ec="X-Supabase-Api-Version",ug={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function $_(t){return Math.round(Date.now()/1e3)+t}function D_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const hs=()=>typeof window<"u"&&typeof document<"u",On={tested:!1,writable:!1},Er=()=>{if(!hs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(On.tested)return On.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),On.tested=!0,On.writable=!0}catch{On.tested=!0,On.writable=!1}return On.writable};function L_(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,r)=>{e[r]=i})}catch{}return s.searchParams.forEach((n,i)=>{e[i]=n}),e}const dg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Hi(async()=>{const{default:n}=await Promise.resolve().then(()=>Yi);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},I_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",hg=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},So=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Co=async(t,e)=>{await t.removeItem(e)};function F_(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",n,i,r,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),n=o<<2|a>>4,i=(a&15)<<4|l>>2,r=(l&3)<<6|c,s=s+String.fromCharCode(n),l!=64&&i!=0&&(s=s+String.fromCharCode(i)),c!=64&&r!=0&&(s=s+String.fromCharCode(r));return s}class La{constructor(){this.promise=new La.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}La.promiseConstructor=Promise;function Ld(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=t.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=s[1];return JSON.parse(F_(n))}async function j_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function B_(t,e){return new Promise((n,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await t(r);if(!e(r,null,o)){n(o);return}}catch(o){if(!e(r,o)){i(o);return}}})()})}function N_(t){return("0"+t.toString(16)).substr(-2)}function U_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let i="";for(let r=0;r<56;r++)i+=s.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,N_).join("")}async function V_(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(n);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}function H_(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function z_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await V_(t);return H_(s)}async function ui(t,e,s=!1){const n=U_();let i=n;s&&(i+="/PASSWORD_RECOVERY"),await hg(t,`${e}-code-verifier`,i);const r=await z_(n);return[r,n===r?"plain":"s256"]}const q_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function W_(t){const e=t.headers.get(ec);if(!e||!e.match(q_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Vc extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function _e(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class K_ extends Vc{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function Q_(t){return _e(t)&&t.name==="AuthApiError"}class fg extends Vc{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class ei extends Vc{constructor(e,s,n,i){super(e,n,i),this.name=s,this.status=n}}class zs extends ei{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function G_(t){return _e(t)&&t.name==="AuthSessionMissingError"}class rl extends ei{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Oo extends ei{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class To extends ei{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Y_(t){return _e(t)&&t.name==="AuthImplicitGrantRedirectError"}class Id extends ei{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tc extends ei{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function ol(t){return _e(t)&&t.name==="AuthRetryableFetchError"}class Fd extends ei{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}var J_=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]]);return s};const An=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),X_=[502,503,504];async function jd(t){var e;if(!I_(t))throw new tc(An(t),0);if(X_.includes(t.status))throw new tc(An(t),t.status);let s;try{s=await t.json()}catch(r){throw new fg(An(r),r)}let n;const i=W_(t);if(i&&i.getTime()>=ug["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new Fd(An(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new zs}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new Fd(An(s),t.status,s.weak_password.reasons);throw new K_(An(s),t.status||500,n)}const Z_=(t,e,s,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),s))};async function Oe(t,e,s,n){var i;const r=Object.assign({},n==null?void 0:n.headers);r[ec]||(r[ec]=ug["2024-01-01"].name),n!=null&&n.jwt&&(r.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await ex(t,e,s+a,{headers:r,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function ex(t,e,s,n,i,r){const o=Z_(e,n,i,r);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new tc(An(l),0)}if(a.ok||await jd(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await jd(l)}}function qs(t){var e;let s=null;ix(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=$_(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function Bd(t){const e=qs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Zs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function tx(t){return{data:t,error:null}}function sx(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:i,verification_type:r}=t,o=J_(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:n,redirect_to:i,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function nx(t){return t}function ix(t){return t.access_token&&t.refresh_token&&t.expires_in}var rx=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]]);return s};class ox{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=dg(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Zs})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=rx(e,["options"]),i=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:sx,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(_e(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Zs})}catch(s){if(_e(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(r=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:nx});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(y=>{const p=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);c[`${g}Page`]=p}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(_e(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Zs})}catch(s){if(_e(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Zs})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Zs})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:s,error:n}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:n}}catch(s){if(_e(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}}}const ax={getItem:t=>Er()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Er()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Er()&&globalThis.localStorage.removeItem(t)}};function Nd(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function lx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const di={debug:!!(globalThis&&Er()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class cx extends pg{}async function ux(t,e,s){di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),di.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await s()}finally{di.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw di.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new cx(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(di.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}lx();const dx={url:M_,storageKey:A_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:R_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ud(t,e,s){return await s()}class Qr{constructor(e){var s,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qr.nextInstanceID,Qr.nextInstanceID+=1,this.instanceID>0&&hs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},dx),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new ox({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=dg(i.fetch),this.lock=i.lock||Ud,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:hs()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=ux:this.lock=Ud,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Er()?this.storage=ax:(this.memoryStorage={},this.storage=Nd(this.memoryStorage)):(this.memoryStorage={},this.storage=Nd(this.memoryStorage)),hs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${cg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=L_(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),hs()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:r}=await this._getSessionFromURL(s,n);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),Y_(r)){const l=(e=r.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return _e(s)?{error:s}:{error:new fg("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,i;try{const r=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:qs}),{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(_e(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(e){var s,n,i;try{let r;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,y=null;this.flowType==="pkce"&&([f,y]=await ui(this.storage,this.storageKey)),r=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:y},xform:qs})}else if("phone"in e){const{phone:u,password:d,options:h}=e;r=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:qs})}else throw new Oo("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(_e(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(e){try{let s;if("email"in e){const{email:r,password:o,options:a}=e;s=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Bd})}else if("phone"in e){const{phone:r,password:o,options:a}=e;s=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Bd})}else throw new Oo("You must provide either an email or phone number and a password");const{data:n,error:i}=s;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new rl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,n,i,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await So(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(s??"").split("/");try{const{data:r,error:o}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:qs});if(await Co(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new rl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:o})}catch(r){if(_e(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(e){try{const{options:s,provider:n,token:i,access_token:r,nonce:o}=e,a=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:qs}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new rl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,n,i,r,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await ui(this.storage,this.storageKey));const{error:d}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Oo("You must provide either an email or phone number.")}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,n;try{let i,r;"options"in e&&(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo,r=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:qs});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(_e(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var s,n,i;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await ui(this.storage,this.storageKey)),await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:tx})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new zs;const{error:i}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(_e(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:r}=e,{error:o}=await Oe(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:r}=e,{data:o,error:a}=await Oe(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Oo("You must provide either an email or phone number and a type")}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await So(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<il:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Zs}):await this._useSession(async s=>{var n,i,r;const{data:o,error:a}=s;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zs}:await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:Zs})})}catch(s){if(_e(s))return G_(s)&&(await this._removeSession(),await Co(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:i,error:r}=n;if(r)throw r;if(!i.session)throw new zs;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await ui(this.storage,this.storageKey));const{data:c,error:u}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Zs});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return Ld(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new zs;const s=Date.now()/1e3;let n=s,i=!0,r=null;const o=Ld(e.access_token);if(o.exp&&(n=o.exp,i=n<=s),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;r={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(s){if(_e(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new zs;const{session:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!hs())throw new To("No browser detected.");if(e.error||e.error_description||e.error_code)throw new To(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Id("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new To("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Id("No code detected.");const{data:x,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!r||!a||!o||!c)throw new To("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=mi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const y=h-d;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,u);const{data:p,error:g}=await this._getUser(r);if(g)throw g;const b={provider_token:n,provider_refresh_token:i,access_token:r,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(n){if(_e(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await So(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:i,error:r}=s;if(r)return{error:r};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Q_(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Co(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=D_(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,i;try{const{data:{session:r},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,s={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ui(this.storage,this.storageKey,!0));try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:n,error:i}=await this._useSession(async r=>{var o,a,l,c,u;const{data:d,error:h}=r;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Oe(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return hs()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(_e(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,i;const{data:r,error:o}=s;if(o)throw o;return await Oe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(_e(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await B_(async i=>(i>0&&await j_(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qs})),(i,r)=>{const o=200*Math.pow(2,i);return r&&ol(r)&&Date.now()+o-n<mi})}catch(n){if(this._debug(s,"error",n),_e(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),hs()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await So(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<il;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${il}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:r}=await this._callRefreshToken(n.refresh_token);r&&(console.error(r),ol(r)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new zs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new La;const{data:r,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!r.session)throw new zs;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={session:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(i,"error",r),_e(r)){const o={session:null,error:r};return ol(r)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,s,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await hg(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Co(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&hs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),mi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/mi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${mi}ms, refresh threshold is ${Zl} ticks`),i<=Zl&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof pg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const i=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[r,o]=await ui(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const r=new URLSearchParams(n.queryParams);i.push(r.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:i,error:r}=s;return r?{data:null,error:r}:await Oe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(_e(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,i;const{data:r,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(_e(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:r}=s;if(r)return{data:null,error:r};const{data:o,error:a}=await Oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(_e(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:r}=s;return r?{data:null,error:r}:await Oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(_e(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(e==null?void 0:e.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),r=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,n;const{data:{session:i},error:r}=e;if(r)return{data:null,error:r};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(s=i.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Qr.nextInstanceID=0;const hx=Qr;class fx extends hx{constructor(e){super(e)}}var px=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class gx{constructor(e,s,n){var i,r,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=P_(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:__,realtime:w_,auth:Object.assign(Object.assign({},x_),{storageKey:l}),global:v_},u=E_(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=u.global.headers)!==null&&r!==void 0?r:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=O_(s,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Uv(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Tv(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new m_(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},n={}){return this.rest.rpc(e,s,n)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return px(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:i,storageKey:r,flowType:o,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fx({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:r,autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:i,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new s_(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,s,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mx=(t,e,s)=>new gx(t,e,s),yx="https://kdbvmvbbepkeuwkamwkr.supabase.co",bx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtkYnZtdmJiZXBrZXV3a2Ftd2tyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ2NTQzMDQsImV4cCI6MjA2MDIzMDMwNH0.JE526G2-suSY-7M7RFUFsFr1wYaqSLab4ThJVecdP-8",Le=mx(yx,bx);let Vd=!1;function vx(){return $t({mutationFn:async({email:t,password:e})=>{const{data:s,error:n}=await Le.auth.signInWithPassword({email:t,password:e});if(n)throw new Error(n.message);return s.user}})}function _x(){return $t({mutationFn:async({email:t,password:e})=>{const{data:s,error:n}=await Le.auth.signUp({email:t,password:e});if(n)throw new Error(n.message);return s.user}})}function xx(t){return Bs({queryKey:["profile",t],queryFn:async()=>{if(!t)return null;const{data:e,error:s}=await Le.from("profiles").select("*").eq("id",t).single();if(s)throw new Error(s.message);return e},enabled:!!t,staleTime:1e3*60*5})}async function gg(){await Le.auth.signOut()}function po(){const t=ut();return typeof window<"u"&&!Vd&&(Le.auth.onAuthStateChange(()=>{t.invalidateQueries({queryKey:["session"]})}),Vd=!0),Bs({queryKey:["session"],queryFn:async()=>{const{data:{session:e}}=await Le.auth.getSession();return(e==null?void 0:e.user)??null},staleTime:1e3*60*5})}const wx={class:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg"},kx={class:"max-w-7xl w-full mx-auto px-4 py-3"},Sx={class:"flex justify-between items-center"},Cx={class:"flex items-center"},Ox={class:"hidden md:flex items-center space-x-6"},Tx={key:3,class:"flex space-x-4"},Px={key:4,class:"flex items-center"},Ex={class:"relative"},Mx=["aria-expanded"],Ax={class:"md:hidden"},Rx={class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},$x={key:0,d:"M4 6h16M4 12h16M4 18h16","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},Dx={key:1,d:"M6 18L18 6M6 6l12 12","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},Lx={key:0,class:"md:hidden mt-3 pb-3 space-y-3"},Ix=Ze({__name:"AppHeader",setup(t){const e=G(!1),s=G(!1),n=ho(),i=ut(),{data:r}=po(),o=async()=>{await gg(),await i.invalidateQueries({queryKey:["session"]}),await n.push("/")},a=()=>{e.value=!e.value};function l(){s.value=!s.value}function c(){s.value=!1}return(u,d)=>{const h=_n("RouterLink");return E(),M("header",wx,[m("div",kx,[m("div",Sx,[m("div",Cx,[re(h,{class:"text-xl font-bold tracking-tight hover:text-indigo-200 transition duration-300",to:"/"},{default:Se(()=>d[11]||(d[11]=[ue(" OnlyFlooze ")])),_:1})]),m("nav",Ox,[re(h,{class:"hover:text-indigo-200 font-medium transition duration-300 py-2",to:"/"},{default:Se(()=>d[12]||(d[12]=[ue(" Accueil ")])),_:1}),Y(r)?(E(),Ht(h,{key:0,class:"hover:text-indigo-200 transition duration-300 py-2",to:"/transactions"},{default:Se(()=>d[13]||(d[13]=[ue(" Transactions ")])),_:1})):ge("",!0),Y(r)?(E(),Ht(h,{key:1,class:"hover:text-indigo-200 transition duration-300 py-2",to:"/categories"},{default:Se(()=>d[14]||(d[14]=[ue(" Catégories ")])),_:1})):ge("",!0),Y(r)?(E(),Ht(h,{key:2,class:"hover:text-indigo-200 transition duration-300 py-2",to:"/monthly-recurring-summary"},{default:Se(()=>d[15]||(d[15]=[ue(" Récap. récurrent ")])),_:1})):ge("",!0),Y(r)?ge("",!0):(E(),M("div",Tx,[re(h,{class:"hover:text-indigo-200 transition duration-300 py-2",to:"login"},{default:Se(()=>d[16]||(d[16]=[ue(" Connexion ")])),_:1}),re(h,{class:"bg-white text-indigo-600 hover:bg-indigo-100 px-4 py-2 rounded-full font-medium transition duration-300",to:"register"},{default:Se(()=>d[17]||(d[17]=[ue(" S'inscrire ")])),_:1})])),Y(r)?(E(),M("div",Px,[m("div",Ex,[m("button",{"aria-expanded":s.value,"aria-haspopup":"true",class:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-full transition duration-300 focus:outline-none",type:"button",onClick:l},d[18]||(d[18]=[Mc('<svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M5.121 17.804A13.937 13.937 0 0112 15c2.5 0 4.847.655 6.879 1.804M15 11a3 3 0 11-6 0 3 3 0 016 0z" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="hidden sm:inline">Mon compte</span><svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7" stroke-linecap="round" stroke-linejoin="round"></path></svg>',3)]),8,Mx),s.value?(E(),M("div",{key:0,class:"absolute right-0 mt-2 w-48 bg-white text-gray-800 rounded shadow-lg z-50 overflow-hidden border border-indigo-200",onMousedown:Ae(c,["self"])},[re(h,{class:"block px-4 py-2 hover:bg-indigo-50 transition rounded-none",to:"/user",onClick:c},{default:Se(()=>d[19]||(d[19]=[ue(" Profil ")])),_:1}),re(h,{class:"block px-4 py-2 hover:bg-indigo-50 transition rounded-none",to:"/tags",onClick:c},{default:Se(()=>d[20]||(d[20]=[ue(" Tags ")])),_:1}),re(h,{class:"block px-4 py-2 hover:bg-indigo-50 transition rounded-none",to:"/assign-category",onClick:c},{default:Se(()=>d[21]||(d[21]=[ue(" Assigner Catégorie ")])),_:1}),m("button",{class:"block w-full text-left px-4 py-2 hover:bg-indigo-50 transition rounded-none",onClick:d[0]||(d[0]=()=>{o(),c()})}," Déconnexion ")],32)):ge("",!0)])])):ge("",!0)]),m("div",Ax,[m("button",{class:"text-white focus:outline-none",onClick:a},[(E(),M("svg",Rx,[e.value?(E(),M("path",Dx)):(E(),M("path",$x))]))])])]),e.value?(E(),M("div",Lx,[re(h,{class:"block hover:bg-white/10 px-3 py-2 rounded-lg transition duration-300",to:"/",onClick:d[1]||(d[1]=f=>e.value=!1)},{default:Se(()=>d[22]||(d[22]=[ue(" Accueil ")])),_:1}),Y(r)?(E(),M(ke,{key:1},[re(h,{class:"block hover:bg-white/10 px-3 py-2 rounded-lg transition duration-300",to:"/transactions",onClick:d[4]||(d[4]=f=>e.value=!1)},{default:Se(()=>d[25]||(d[25]=[ue(" Transactions ")])),_:1}),re(h,{class:"block hover:bg-white/10 px-3 py-2 rounded-lg transition duration-300",to:"/categories",onClick:d[5]||(d[5]=f=>e.value=!1)},{default:Se(()=>d[26]||(d[26]=[ue(" Catégories ")])),_:1}),re(h,{class:"block hover:bg-white/10 px-3 py-2 rounded-lg transition duration-300",to:"/monthly-recurring-summary",onClick:d[6]||(d[6]=f=>e.value=!1)},{default:Se(()=>d[27]||(d[27]=[ue(" Récap. récurrent ")])),_:1}),re(h,{class:"block hover:bg-white/10 px-3 py-2 rounded-lg transition duration-300",to:"/user",onClick:d[7]||(d[7]=f=>e.value=!1)},{default:Se(()=>d[28]||(d[28]=[ue(" Profil ")])),_:1}),re(h,{class:"block hover:bg-white/10 px-3 py-2 rounded-lg transition duration-300",to:"/tags",onClick:d[8]||(d[8]=f=>e.value=!1)},{default:Se(()=>d[29]||(d[29]=[ue(" Tags ")])),_:1}),re(h,{class:"block hover:bg-white/10 px-3 py-2 rounded-lg transition duration-300",to:"/assign-category",onClick:d[9]||(d[9]=f=>e.value=!1)},{default:Se(()=>d[30]||(d[30]=[ue(" Assigner Catégorie ")])),_:1}),m("button",{class:"block w-full text-left hover:bg-white/10 px-3 py-2 rounded-lg transition duration-300",onClick:d[10]||(d[10]=()=>{o(),e.value=!1})}," Déconnexion ")],64)):(E(),M(ke,{key:0},[re(h,{class:"block hover:bg-white/10 px-3 py-2 rounded-lg transition duration-300",to:"login",onClick:d[2]||(d[2]=f=>e.value=!1)},{default:Se(()=>d[23]||(d[23]=[ue(" Connexion ")])),_:1}),re(h,{class:"block bg-white/20 hover:bg-white/30 px-3 py-2 rounded-lg transition duration-300",to:"register",onClick:d[3]||(d[3]=f=>e.value=!1)},{default:Se(()=>d[24]||(d[24]=[ue(" S'inscrire ")])),_:1})],64))])):ge("",!0)])])}}}),Fx={__name:"App",setup(t){return po(),(e,s)=>{const n=_n("RouterView");return E(),M(ke,null,[re(Ix),re(n)],64)}}},Ot=(t,e)=>{const s=t.__vccOpts||t;for(const[n,i]of e)s[n]=i;return s},jx={},Bx={class:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-100 to-white py-12 px-4 sm:px-6 lg:px-8 flex flex-col justify-center"},Nx={class:"max-w-2xl w-full mx-auto bg-white/90 rounded-3xl shadow-2xl overflow-hidden p-10 flex flex-col items-center relative"},Ux={class:"flex flex-col sm:flex-row gap-4 mt-4"};function Vx(t,e){const s=_n("RouterLink");return E(),M("div",Bx,[m("div",Nx,[e[2]||(e[2]=m("h1",{class:"mt-4 text-4xl font-extrabold text-indigo-700 text-center drop-shadow mb-4"},[ue(" Bienvenue sur "),m("span",{class:"bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent"}," OnlyFlooze ")],-1)),e[3]||(e[3]=m("p",{class:"text-lg text-gray-700 text-center mb-6 max-w-xl"},[ue(" Prenez le contrôle de vos finances personnelles en toute simplicité. "),m("br"),ue(" OnlyFlooze vous aide à suivre vos dépenses, catégoriser vos transactions et visualiser votre budget en un clin d'œil. ")],-1)),m("div",Ux,[re(s,{class:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-8 py-3 rounded-full font-semibold shadow-lg hover:from-indigo-700 hover:to-purple-700 transition text-lg",to:"/register"},{default:Se(()=>e[0]||(e[0]=[ue(" Commencer gratuitement ")])),_:1}),re(s,{class:"bg-white border-2 border-indigo-600 text-indigo-700 px-8 py-3 rounded-full font-semibold shadow hover:bg-indigo-50 transition text-lg",to:"/login"},{default:Se(()=>e[1]||(e[1]=[ue(" J'ai déjà un compte ")])),_:1})]),e[4]||(e[4]=Mc('<div class="mt-10 w-full flex flex-col items-center"><h2 class="text-2xl font-bold text-indigo-600 mb-2">Pourquoi OnlyFlooze ?</h2><ul class="text-gray-700 text-base space-y-2 max-w-lg"><li> 💡 <span class="font-medium">Interface claire</span> : visualisez vos finances sans prise de tête. </li><li> 🔒 <span class="font-medium">Sécurité</span> : vos données restent privées et protégées. </li><li> 📊 <span class="font-medium">Statistiques</span> : suivez l’évolution de vos dépenses et revenus. </li><li> ⚡ <span class="font-medium">Rapide à prendre en main</span> : commencez à gérer votre budget en quelques clics. </li></ul></div><div class="mt-10 text-center text-gray-400 text-xs"> © 2025 OnlyFlooze. Tous droits réservés. </div>',2))])])}const Hx=Ot(jx,[["render",Vx]]),zx={class:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-100 to-white py-12 px-4 sm:px-6 lg:px-8"},qx={class:"max-w-md w-full mx-auto bg-white rounded-xl shadow-md overflow-hidden p-8"},Wx={class:"mt-1"},Kx={class:"mt-1"},Qx={class:"mt-6"},Gx={key:0,class:"text-red-600 text-center text-sm font-medium mb-4"},Yx={key:1,class:"bg-green-50 border border-green-200 rounded-md p-4 mt-4"},Jx={class:"flex"},Xx={class:"ml-3"},Zx={class:"text-sm font-medium text-green-800"},ew={class:"mt-6 text-center text-sm"},tw=Ze({__name:"LoginPage",setup(t){const e=G(""),s=G(""),n=G(""),{mutateAsync:i}=vx(),{data:r}=po(),o=ho(),a=ut(),l=async()=>{try{await i({email:e.value,password:s.value}),n.value="",await a.invalidateQueries({queryKey:["session"]}),await o.push("/")}catch(u){n.value=u instanceof Error?u.message:"Identifiants invalides."}},c=async()=>{await gg(),await a.invalidateQueries({queryKey:["session"]}),await o.push("/")};return(u,d)=>{const h=_n("RouterLink");return E(),M("div",zx,[m("div",qx,[d[8]||(d[8]=m("div",{class:"text-center mb-8"},[m("h2",{class:"text-3xl font-extrabold text-gray-900 mb-2"},"Connexion"),m("p",{class:"text-gray-600"},"Accédez à votre espace personnel")],-1)),m("form",{class:"space-y-6",onSubmit:Ae(l,["prevent"])},[m("div",null,[d[2]||(d[2]=m("label",{class:"block text-sm font-medium text-gray-700",for:"email"},"Email",-1)),m("div",Wx,[xe(m("input",{id:"email","onUpdate:modelValue":d[0]||(d[0]=f=>e.value=f),autocomplete:"email",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",name:"email",placeholder:"votre@email.com",required:"",type:"email"},null,512),[[Ke,e.value]])])]),m("div",null,[d[3]||(d[3]=m("label",{class:"block text-sm font-medium text-gray-700",for:"password"},"Mot de passe",-1)),m("div",Kx,[xe(m("input",{id:"password","onUpdate:modelValue":d[1]||(d[1]=f=>s.value=f),autocomplete:"current-password",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",name:"password",placeholder:"••••••••",required:"",type:"password"},null,512),[[Ke,s.value]])])]),d[4]||(d[4]=Mc('<div class="flex items-center justify-between"><div class="flex items-center"><input id="remember-me" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded" name="remember-me" type="checkbox"><label class="ml-2 block text-sm text-gray-900" for="remember-me"> Se souvenir de moi </label></div></div><div><button class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-300" type="submit"> Se connecter </button></div>',2))],32),m("div",Qx,[n.value?(E(),M("p",Gx,q(n.value),1)):ge("",!0),Y(r)?(E(),M("div",Yx,[m("div",Jx,[d[5]||(d[5]=m("div",{class:"flex-shrink-0"},[m("svg",{"aria-hidden":"true",class:"h-5 w-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[m("path",{"clip-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","fill-rule":"evenodd"})])],-1)),m("div",Xx,[m("p",Zx," Connecté en tant que "+q(Y(r).email),1)])]),m("button",{class:"w-full mt-4 flex justify-center py-2 px-4 border rounded-md shadow-sm text-sm font-medium text-indigo-600 bg-white border-indigo-600 hover:bg-indigo-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-300",onClick:c}," Se déconnecter ")])):ge("",!0),m("div",ew,[m("p",null,[d[7]||(d[7]=ue(" Pas encore de compte? ")),re(h,{class:"font-medium text-indigo-600 hover:text-indigo-500",to:"/register"},{default:Se(()=>d[6]||(d[6]=[ue(" S'inscrire ")])),_:1})])])])])])}}}),sw={class:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-100 to-white py-12 px-4 sm:px-6 lg:px-8"},nw={class:"max-w-md w-full mx-auto bg-white rounded-xl shadow-md overflow-hidden p-8"},iw={class:"mt-1"},rw={class:"mt-1"},ow={class:"mt-6"},aw={key:0,class:"text-red-600 text-center text-sm font-medium p-3 bg-red-50 border border-red-200 rounded-md"},lw={key:1,class:"bg-green-50 border border-green-200 rounded-md p-4 mt-4"},cw={class:"flex"},uw={class:"ml-3"},dw={class:"text-sm font-medium text-green-800"},hw={class:"mt-6 text-center text-sm"},fw=Ze({__name:"RegisterPage",setup(t){const e=G(""),s=G(""),n=G(""),i=G(""),{mutateAsync:r}=_x(),o=async()=>{n.value="",i.value="";try{await r({email:e.value,password:s.value}),i.value="Compte créé avec succès ! Vérifiez votre email pour confirmer l'inscription."}catch(a){n.value=a instanceof Error?a.message:"Erreur lors de l'inscription"}};return(a,l)=>{const c=_n("RouterLink");return E(),M("div",sw,[m("div",nw,[l[9]||(l[9]=m("div",{class:"text-center mb-8"},[m("h2",{class:"text-3xl font-extrabold text-gray-900 mb-2"},"Inscription"),m("p",{class:"text-gray-600"},"Créez votre compte pour commencer")],-1)),m("form",{class:"space-y-6",onSubmit:Ae(o,["prevent"])},[m("div",null,[l[2]||(l[2]=m("label",{class:"block text-sm font-medium text-gray-700",for:"email"},"Email",-1)),m("div",iw,[xe(m("input",{id:"email","onUpdate:modelValue":l[0]||(l[0]=u=>e.value=u),autocomplete:"email",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",name:"email",placeholder:"votre@email.com",required:"",type:"email"},null,512),[[Ke,e.value]])])]),m("div",null,[l[3]||(l[3]=m("label",{class:"block text-sm font-medium text-gray-700",for:"password"},"Mot de passe",-1)),m("div",rw,[xe(m("input",{id:"password","onUpdate:modelValue":l[1]||(l[1]=u=>s.value=u),autocomplete:"new-password",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",name:"password",placeholder:"••••••••",required:"",type:"password"},null,512),[[Ke,s.value]])]),l[4]||(l[4]=m("p",{class:"mt-1 text-xs text-gray-500"}," Le mot de passe doit contenir au moins 6 caractères ",-1))]),l[5]||(l[5]=m("div",null,[m("button",{class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-300",type:"submit"}," Créer un compte ")],-1))],32),m("div",ow,[n.value?(E(),M("p",aw,q(n.value),1)):ge("",!0),i.value?(E(),M("div",lw,[m("div",cw,[l[6]||(l[6]=m("div",{class:"flex-shrink-0"},[m("svg",{"aria-hidden":"true",class:"h-5 w-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[m("path",{"clip-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","fill-rule":"evenodd"})])],-1)),m("div",uw,[m("p",dw,q(i.value),1)])])])):ge("",!0),m("div",hw,[m("p",null,[l[8]||(l[8]=ue(" Déjà un compte? ")),re(c,{class:"font-medium text-indigo-600 hover:text-indigo-500",to:"/login"},{default:Se(()=>l[7]||(l[7]=[ue(" Se connecter ")])),_:1})])])])])])}}});function xn(){return Bs({queryKey:["categories"],queryFn:async()=>{const{data:t,error:e}=await Le.from("category").select("*").order("label",{ascending:!0});if(e)throw new Error(e.message);return t},staleTime:1e3*60*5})}function Hc(){const t=ut();return $t({mutationFn:async e=>{const{data:s,error:n}=await Le.from("category").insert([e]).select().order("label",{ascending:!0}).single();if(n)throw new Error(n.message);return s},onSuccess:()=>{t.invalidateQueries({queryKey:["categories"]})}})}function pw(){const t=ut();return $t({mutationFn:async e=>{const{error:s}=await Le.from("category").delete().eq("id",e);if(s)throw new Error(s.message);return e},onSuccess:()=>{t.invalidateQueries({queryKey:["categories"]})}})}function gw(){const t=ut();return $t({mutationFn:async({id:e,updates:s})=>{const{data:n,error:i}=await Le.from("category").update(s).eq("id",e).select().order("label",{ascending:!0}).single();if(i)throw new Error(i.message);return n},onSuccess:()=>{t.invalidateQueries({queryKey:["categories"]})}})}function mw(){return Bs({queryKey:["recurring-categories-with-transactions"],queryFn:async()=>{const{data:t,error:e}=await Le.from("category").select("*, transactions:transaction(*)").eq("is_recurring",!0).order("label",{ascending:!0});if(e)throw new Error(e.message);return t},staleTime:1e3*60*5})}const yw={name:"MdiMagnify"},bw={fill:"currentColor",height:"20",viewBox:"0 0 24 24",width:"20",xmlns:"http://www.w3.org/2000/svg"};function vw(t,e,s,n,i,r){return E(),M("svg",bw,e[0]||(e[0]=[m("path",{d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.5,12.58 14.58,13.75L20.39,19.56L19.56,20.39L13.75,14.58C12.58,15.5 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5A4.5,4.5 0 0,0 5,9.5A4.5,4.5 0 0,0 9.5,14A4.5,4.5 0 0,0 14,9.5A4.5,4.5 0 0,0 9.5,5Z"},null,-1)]))}const mg=Ot(yw,[["render",vw]]),_w={name:"MdiPencil"},xw={fill:"currentColor",height:"20",viewBox:"0 0 24 24",width:"20",xmlns:"http://www.w3.org/2000/svg"};function ww(t,e,s,n,i,r){return E(),M("svg",xw,e[0]||(e[0]=[m("path",{d:"M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83l3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"},null,-1)]))}const yg=Ot(_w,[["render",ww]]),kw={name:"MdiTrashCan"},Sw={fill:"currentColor",height:"20",viewBox:"0 0 24 24",width:"20",xmlns:"http://www.w3.org/2000/svg"};function Cw(t,e,s,n,i,r){return E(),M("svg",Sw,e[0]||(e[0]=[m("path",{d:"M9 3v1H4v2h1v13a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6h1V4h-5V3zm0 5h2v9H9zm4 0h2v9h-2z"},null,-1)]))}const bg=Ot(kw,[["render",Cw]]),Ow={class:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-100 to-white py-12 px-4 sm:px-6 lg:px-8"},Tw={class:"max-w-7xl w-full mx-auto bg-white rounded-xl shadow-md overflow-hidden p-8"},Pw=["disabled"],Ew=["disabled"],Mw={key:0,class:"text-red-600 mb-4 text-center"},Aw={key:1,class:"text-center"},Rw={class:"min-w-full divide-y divide-gray-200 mb-6"},$w={class:"bg-white divide-y divide-gray-200"},Dw={class:"px-4 py-2"},Lw={class:"px-4 py-2"},Iw={key:0,class:"text-xs text-indigo-600 bg-indigo-100 px-2 py-0.5 rounded"},Fw={key:1,class:"text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded"},jw={class:"px-4 py-2 text-right"},Bw=["onClick"],Nw=["onClick"],Uw=Ze({__name:"CategoryListPage",setup(t){var k;const{data:e,isLoading:s,error:n}=xn(),{mutateAsync:i,isPending:r}=Hc(),{mutateAsync:o}=pw(),{mutateAsync:a}=gw(),{data:l}=po(),c=l&&typeof l=="object"&&"id"in l?l.id:(k=l==null?void 0:l.value)==null?void 0:k.id,u=G(""),d=G(!1),h=G(null),f=G(""),y=G(!1),p=async()=>{!u.value.trim()||!c||(await i({label:u.value,is_recurring:d.value}),u.value="",d.value=!1)},g=S=>{h.value=S.id,f.value=S.label,y.value=S.is_recurring},b=async()=>{f.value.trim()&&h.value&&(await a({id:h.value,updates:{label:f.value,is_recurring:y.value}}),h.value=null,f.value="",y.value=!1)},x=async S=>{confirm("Supprimer cette catégorie ?")&&await o(S)};return(S,C)=>{const j=_n("router-link");return E(),M("div",Ow,[m("div",Tw,[C[8]||(C[8]=m("h1",{class:"text-3xl font-extrabold text-gray-900 mb-6 text-center"},"Catégories",-1)),m("form",{class:"flex gap-2 mb-6 items-center",onSubmit:Ae(p,["prevent"])},[xe(m("input",{"onUpdate:modelValue":C[0]||(C[0]=D=>u.value=D),class:"flex-1 border rounded px-3 py-2",disabled:Y(r),placeholder:"Nouvelle catégorie",type:"text"},null,8,Pw),[[Ke,u.value]]),m("label",{class:"flex items-center cursor-pointer select-none",onClick:C[1]||(C[1]=D=>d.value=!d.value)},[m("span",{class:et(["relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none",d.value?"bg-indigo-600":"bg-gray-300"])},[m("span",{class:et(["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",d.value?"translate-x-6":"translate-x-1"])},null,2)],2),C[5]||(C[5]=m("span",{class:"ml-1"},"Récurrente",-1))]),m("button",{class:"bg-indigo-600 text-white px-4 py-2 rounded shadow",disabled:Y(r)||!u.value.trim(),type:"submit"}," Ajouter ",8,Ew)],32),Y(n)?(E(),M("div",Mw,q(Y(n)),1)):ge("",!0),Y(s)?(E(),M("div",Aw,"Chargement...")):ge("",!0),m("table",Rw,[C[7]||(C[7]=m("thead",{class:"bg-gray-50"},[m("tr",null,[m("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Nom "),m("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Statut "),m("th",{class:"px-4 py-2"})])],-1)),m("tbody",$w,[(E(!0),M(ke,null,ht(Y(e),D=>(E(),M("tr",{key:D.id},[m("td",Dw,[h.value!==D.id?(E(),M(ke,{key:0},[ue(q(D.label),1)],64)):xe((E(),M("input",{key:1,"onUpdate:modelValue":C[2]||(C[2]=$=>f.value=$),class:"flex-1 border rounded px-2 py-1",type:"text"},null,512)),[[Ke,f.value]])]),m("td",Lw,[h.value!==D.id?(E(),M(ke,{key:0},[D.is_recurring?(E(),M("span",Iw," Récurrente ")):(E(),M("span",Fw," Ponctuelle "))],64)):(E(),M("label",{key:1,class:"flex items-center cursor-pointer select-none",onClick:C[3]||(C[3]=$=>y.value=!y.value)},[m("span",{class:et(["relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none",y.value?"bg-indigo-600":"bg-gray-300"])},[m("span",{class:et(["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",y.value?"translate-x-6":"translate-x-1"])},null,2)],2),C[6]||(C[6]=m("span",{class:"ml-1"},"Récurrente",-1))]))]),m("td",jw,[h.value!==D.id?(E(),M(ke,{key:0},[re(j,{class:"inline-block text-indigo-600 hover:text-indigo-800 mr-2",title:"Détail",to:{name:"category-detail",params:{id:D.id}}},{default:Se(()=>[re(mg,{class:"w-5 h-5 align-middle"})]),_:2},1032,["to"]),m("button",{class:"inline-block text-blue-600 hover:text-blue-800 mr-2",title:"Modifier",type:"button",onClick:()=>g(D)},[re(yg,{class:"w-5 h-5 align-middle"})],8,Bw),m("button",{class:"inline-block text-red-600 hover:text-red-800",title:"Supprimer",type:"button",onClick:()=>x(D.id)},[re(bg,{class:"w-5 h-5 align-middle"})],8,Nw)],64)):(E(),M(ke,{key:1},[m("button",{class:"bg-green-600 text-white px-2 py-1 rounded shadow mr-2",onClick:b}," Valider "),m("button",{class:"bg-gray-300 px-2 py-1 rounded",onClick:C[4]||(C[4]=()=>{h.value=null,f.value="",y.value=!1})}," Annuler ")],64))])]))),128))])])])])}}}),Vw=Ot(Uw,[["__scopeId","data-v-76cae700"]]);function vg(t=1,e=10,s,n=!1){return Bs({queryKey:ye(()=>["transactions",Y(t),Y(e),JSON.stringify(Y(s)),Y(n)]),queryFn:async()=>{const i=(Y(t)-1)*Y(e),r=i+Y(e)-1;let o=Le.from("transaction").select("*, category:category_id(*), transaction_tag(tag:tag_id(*))",{count:"exact"}).order("transaction_date",{ascending:!1}).range(i,r);const a=Y(s);if(a.label){const h=a.label.toLowerCase().trim();o=o.ilike("label",`%${h}%`)}if(a.dateMin&&(o=o.gte("transaction_date",a.dateMin)),a.dateMax&&(o=o.lte("transaction_date",a.dateMax)),a.amountMin!==null&&a.amountMin!==void 0&&(o=o.gte("amount",a.amountMin)),a.amountMax!==null&&a.amountMax!==void 0&&(o=o.lte("amount",a.amountMax)),Y(n)||a.category==="_none"?o=o.is("category_id",null):a.category&&(o=o.eq("category_id",a.category)),a.tag==="_none"){const{data:h,error:f}=await Le.from("transaction").select("id");if(f)throw new Error(f.message);const{data:y,error:p}=await Le.from("transaction_tag").select("transaction_id");if(p)throw new Error(p.message);const g=new Set((y??[]).map(x=>x.transaction_id)),b=(h??[]).map(x=>x.id).filter(x=>!g.has(x));b.length===0?o=o.in("id",["00000000-0000-0000-0000-000000000000"]):o=o.in("id",b)}else if(a.tag){const{data:h,error:f}=await Le.from("transaction_tag").select("transaction_id").eq("tag_id",a.tag);if(f)throw new Error(f.message);const y=(h??[]).map(p=>p.transaction_id);y.length===0?o=o.in("id",["00000000-0000-0000-0000-000000000000"]):o=o.in("id",y)}const{data:l,error:c,count:u}=await o;if(c)throw new Error(c.message);return{data:l.map(h=>({...h,tags:Array.isArray(h.transaction_tag)?h.transaction_tag.map(f=>f.tag).filter(Boolean):[],category:h.category||null})),count:u??0}},staleTime:1e3*60*5})}function _g(){const t=ut();return $t({mutationFn:async e=>{const{data:s,error:n}=await Le.from("transaction").insert([e]).select().single();if(n)throw new Error(n.message);return s},onSuccess:()=>{t.invalidateQueries({queryKey:["transactions"]})}})}function xg(){const t=ut();return $t({mutationFn:async({id:e,updates:s})=>{const{data:n,error:i}=await Le.from("transaction").update(s).eq("id",e).select().single();if(i)throw new Error(i.message);return n},onSuccess:()=>{t.invalidateQueries({queryKey:["transactions"]})}})}function wg(){const t=ut();return $t({mutationFn:async e=>{const{error:s}=await Le.from("transaction").delete().eq("id",e);if(s)throw new Error(s.message);return e},onSuccess:()=>{t.invalidateQueries({queryKey:["transactions"]})}})}function Hw(){const t=ut();return $t({mutationFn:async e=>{if(e.length===0)return[];const{data:s,error:n}=await Le.from("transaction").upsert(e,{onConflict:"label,amount,transaction_date,user_id",ignoreDuplicates:!0}).select();if(n)throw new Error(n.message);return s},onSuccess:()=>{t.invalidateQueries({queryKey:["transactions"]})}})}function zw(t){return Bs({queryKey:["transaction",t],queryFn:async()=>{const{data:e,error:s}=await Le.from("transaction").select("*").eq("id",t).single();if(s)throw new Error(s.message);return e},enabled:!!t})}function qw(t){return Bs({queryKey:["transactions","category",t],queryFn:async()=>{const{data:e,error:s}=await Le.from("transaction").select("*").eq("category_id",t).order("transaction_date",{ascending:!1});if(s)throw new Error(s.message);return{data:e}},enabled:!!t,staleTime:1e3*60*5})}function kg(t){if(!t||t.length===0)return null;const e=[...t].sort((c,u)=>new Date(c.date).getTime()-new Date(u.date).getTime()),s=e.map(c=>new Date(c.date).getDate()),n=Math.round(s.reduce((c,u)=>c+u,0)/s.length),i=new Date(e[e.length-1].date),r=i.getMonth()===0?11:i.getMonth()-1,o=i.getMonth()===0?i.getFullYear()-1:i.getFullYear(),a=e.filter(c=>{const u=new Date(c.date);return u.getMonth()===r&&u.getFullYear()===o});let l;return a.length>0?l=a.reduce((c,u)=>c+u.amount,0):l=e[e.length-1].amount,{estimatedDay:n,nextAmount:l}}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function go(t){return t+.5|0}const dn=(t,e,s)=>Math.max(Math.min(t,s),e);function gr(t){return dn(go(t*2.55),0,255)}function fn(t){return dn(go(t*255),0,255)}function As(t){return dn(go(t/2.55)/100,0,1)}function Hd(t){return dn(go(t*100),0,100)}const Nt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},sc=[..."0123456789ABCDEF"],Ww=t=>sc[t&15],Kw=t=>sc[(t&240)>>4]+sc[t&15],Po=t=>(t&240)>>4===(t&15),Qw=t=>Po(t.r)&&Po(t.g)&&Po(t.b)&&Po(t.a);function Gw(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&Nt[t[1]]*17,g:255&Nt[t[2]]*17,b:255&Nt[t[3]]*17,a:e===5?Nt[t[4]]*17:255}:(e===7||e===9)&&(s={r:Nt[t[1]]<<4|Nt[t[2]],g:Nt[t[3]]<<4|Nt[t[4]],b:Nt[t[5]]<<4|Nt[t[6]],a:e===9?Nt[t[7]]<<4|Nt[t[8]]:255})),s}const Yw=(t,e)=>t<255?e(t):"";function Jw(t){var e=Qw(t)?Ww:Kw;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Yw(t.a,e):void 0}const Xw=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Sg(t,e,s){const n=e*Math.min(s,1-s),i=(r,o=(r+t/30)%12)=>s-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Zw(t,e,s){const n=(i,r=(i+t/60)%6)=>s-s*e*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function e1(t,e,s){const n=Sg(t,1,.5);let i;for(e+s>1&&(i=1/(e+s),e*=i,s*=i),i=0;i<3;i++)n[i]*=1-e-s,n[i]+=e;return n}function t1(t,e,s,n,i){return t===i?(e-s)/n+(e<s?6:0):e===i?(s-t)/n+2:(t-e)/n+4}function zc(t){const s=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(s,n,i),o=Math.min(s,n,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=t1(s,n,i,u,r),l=l*60+.5),[l|0,c||0,a]}function qc(t,e,s,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,n)).map(fn)}function Wc(t,e,s){return qc(Sg,t,e,s)}function s1(t,e,s){return qc(e1,t,e,s)}function n1(t,e,s){return qc(Zw,t,e,s)}function Cg(t){return(t%360+360)%360}function i1(t){const e=Xw.exec(t);let s=255,n;if(!e)return;e[5]!==n&&(s=e[6]?gr(+e[5]):fn(+e[5]));const i=Cg(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=s1(i,r,o):e[1]==="hsv"?n=n1(i,r,o):n=Wc(i,r,o),{r:n[0],g:n[1],b:n[2],a:s}}function r1(t,e){var s=zc(t);s[0]=Cg(s[0]+e),s=Wc(s),t.r=s[0],t.g=s[1],t.b=s[2]}function o1(t){if(!t)return;const e=zc(t),s=e[0],n=Hd(e[1]),i=Hd(e[2]);return t.a<255?`hsla(${s}, ${n}%, ${i}%, ${As(t.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const zd={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},qd={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function a1(){const t={},e=Object.keys(qd),s=Object.keys(zd);let n,i,r,o,a;for(n=0;n<e.length;n++){for(o=a=e[n],i=0;i<s.length;i++)r=s[i],a=a.replace(r,zd[r]);r=parseInt(qd[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let Eo;function l1(t){Eo||(Eo=a1(),Eo.transparent=[0,0,0,0]);const e=Eo[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const c1=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function u1(t){const e=c1.exec(t);let s=255,n,i,r;if(e){if(e[7]!==n){const o=+e[7];s=e[8]?gr(o):dn(o*255,0,255)}return n=+e[1],i=+e[3],r=+e[5],n=255&(e[2]?gr(n):dn(n,0,255)),i=255&(e[4]?gr(i):dn(i,0,255)),r=255&(e[6]?gr(r):dn(r,0,255)),{r:n,g:i,b:r,a:s}}}function d1(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${As(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const al=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,hi=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function h1(t,e,s){const n=hi(As(t.r)),i=hi(As(t.g)),r=hi(As(t.b));return{r:fn(al(n+s*(hi(As(e.r))-n))),g:fn(al(i+s*(hi(As(e.g))-i))),b:fn(al(r+s*(hi(As(e.b))-r))),a:t.a+s*(e.a-t.a)}}function Mo(t,e,s){if(t){let n=zc(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*s,e===0?360:1)),n=Wc(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function Og(t,e){return t&&Object.assign(e||{},t)}function Wd(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=fn(t[3]))):(e=Og(t,{r:0,g:0,b:0,a:1}),e.a=fn(e.a)),e}function f1(t){return t.charAt(0)==="r"?u1(t):i1(t)}class Gr{constructor(e){if(e instanceof Gr)return e;const s=typeof e;let n;s==="object"?n=Wd(e):s==="string"&&(n=Gw(e)||l1(e)||f1(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Og(this._rgb);return e&&(e.a=As(e.a)),e}set rgb(e){this._rgb=Wd(e)}rgbString(){return this._valid?d1(this._rgb):void 0}hexString(){return this._valid?Jw(this._rgb):void 0}hslString(){return this._valid?o1(this._rgb):void 0}mix(e,s){if(e){const n=this.rgb,i=e.rgb;let r;const o=s===r?.5:s,a=2*o-1,l=n.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,n.r=255&c*n.r+r*i.r+.5,n.g=255&c*n.g+r*i.g+.5,n.b=255&c*n.b+r*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(e,s){return e&&(this._rgb=h1(this._rgb,e._rgb,s)),this}clone(){return new Gr(this.rgb)}alpha(e){return this._rgb.a=fn(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=go(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Mo(this._rgb,2,e),this}darken(e){return Mo(this._rgb,2,-e),this}saturate(e){return Mo(this._rgb,1,e),this}desaturate(e){return Mo(this._rgb,1,-e),this}rotate(e){return r1(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Cs(){}const p1=(()=>{let t=0;return()=>t++})();function ze(t){return t==null}function at(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Re(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Gt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ds(t,e){return Gt(t)?t:e}function Ee(t,e){return typeof t>"u"?e:t}const g1=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function We(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function je(t,e,s,n){let i,r,o;if(at(t))for(r=t.length,i=0;i<r;i++)e.call(s,t[i],i);else if(Re(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(s,t[o[i]],o[i])}function da(t,e){let s,n,i,r;if(!t||!e||t.length!==e.length)return!1;for(s=0,n=t.length;s<n;++s)if(i=t[s],r=e[s],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function ha(t){if(at(t))return t.map(ha);if(Re(t)){const e=Object.create(null),s=Object.keys(t),n=s.length;let i=0;for(;i<n;++i)e[s[i]]=ha(t[s[i]]);return e}return t}function Tg(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function m1(t,e,s,n){if(!Tg(t))return;const i=e[t],r=s[t];Re(i)&&Re(r)?Yr(i,r,n):e[t]=ha(r)}function Yr(t,e,s){const n=at(e)?e:[e],i=n.length;if(!Re(t))return t;s=s||{};const r=s.merger||m1;let o;for(let a=0;a<i;++a){if(o=n[a],!Re(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],t,o,s)}return t}function Mr(t,e){return Yr(t,e,{merger:y1})}function y1(t,e,s){if(!Tg(t))return;const n=e[t],i=s[t];Re(n)&&Re(i)?Mr(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ha(i))}const Kd={"":t=>t,x:t=>t.x,y:t=>t.y};function b1(t){const e=t.split("."),s=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function v1(t){const e=b1(t);return s=>{for(const n of e){if(n==="")break;s=s&&s[n]}return s}}function fa(t,e){return(Kd[e]||(Kd[e]=v1(e)))(t)}function Kc(t){return t.charAt(0).toUpperCase()+t.slice(1)}const pa=t=>typeof t<"u",mn=t=>typeof t=="function",Qd=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function _1(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const lt=Math.PI,xs=2*lt,x1=xs+lt,ga=Number.POSITIVE_INFINITY,w1=lt/180,ts=lt/2,Tn=lt/4,Gd=lt*2/3,Pg=Math.log10,qi=Math.sign;function Ar(t,e,s){return Math.abs(t-e)<s}function Yd(t){const e=Math.round(t);t=Ar(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(Pg(t))),n=t/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function k1(t){const e=[],s=Math.sqrt(t);let n;for(n=1;n<s;n++)t%n===0&&(e.push(n),e.push(t/n));return s===(s|0)&&e.push(s),e.sort((i,r)=>i-r).pop(),e}function S1(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Jr(t){return!S1(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function C1(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function O1(t,e,s){let n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n][s],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function In(t){return t*(lt/180)}function T1(t){return t*(180/lt)}function Jd(t){if(!Gt(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function P1(t,e){const s=e.x-t.x,n=e.y-t.y,i=Math.sqrt(s*s+n*n);let r=Math.atan2(n,s);return r<-.5*lt&&(r+=xs),{angle:r,distance:i}}function nc(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function E1(t,e){return(t-e+x1)%xs-lt}function Ws(t){return(t%xs+xs)%xs}function Eg(t,e,s,n){const i=Ws(t),r=Ws(e),o=Ws(s),a=Ws(r-i),l=Ws(o-i),c=Ws(i-r),u=Ws(i-o);return i===r||i===o||n&&r===o||a>l&&c<u}function zt(t,e,s){return Math.max(e,Math.min(s,t))}function M1(t){return zt(t,-32768,32767)}function mr(t,e,s,n=1e-6){return t>=Math.min(e,s)-n&&t<=Math.max(e,s)+n}function Qc(t,e,s){s=s||(o=>t[o]<e);let n=t.length-1,i=0,r;for(;n-i>1;)r=i+n>>1,s(r)?i=r:n=r;return{lo:i,hi:n}}const Fn=(t,e,s,n)=>Qc(t,s,n?i=>{const r=t[i][e];return r<s||r===s&&t[i+1][e]===s}:i=>t[i][e]<s),A1=(t,e,s)=>Qc(t,s,n=>t[n][e]>=s);function R1(t,e,s){let n=0,i=t.length;for(;n<i&&t[n]<e;)n++;for(;i>n&&t[i-1]>s;)i--;return n>0||i<t.length?t.slice(n,i):t}const Mg=["push","pop","shift","splice","unshift"];function $1(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Mg.forEach(s=>{const n="_onData"+Kc(s),i=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...r)}),o}})})}function Xd(t,e){const s=t._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(Mg.forEach(r=>{delete t[r]}),delete t._chartjs)}function D1(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Ag=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Rg(t,e){let s=[],n=!1;return function(...i){s=i,n||(n=!0,Ag.call(window,()=>{n=!1,t.apply(e,s)}))}}function L1(t,e){let s;return function(...n){return e?(clearTimeout(s),s=setTimeout(t,e,n)):t.apply(this,n),e}}const Gc=t=>t==="start"?"left":t==="end"?"right":"center",pt=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,I1=(t,e,s,n)=>t===(n?"left":"right")?s:t==="center"?(e+s)/2:e;function F1(t,e,s){const n=e.length;let i=0,r=n;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:d,max:h,minDefined:f,maxDefined:y}=o.getUserBounds();if(f){if(i=Math.min(Fn(l,u,d).lo,s?n:Fn(e,u,o.getPixelForValue(d)).lo),c){const p=l.slice(0,i+1).reverse().findIndex(g=>!ze(g[a.axis]));i-=Math.max(0,p)}i=zt(i,0,n-1)}if(y){let p=Math.max(Fn(l,o.axis,h,!0).hi+1,s?0:Fn(e,u,o.getPixelForValue(h),!0).hi+1);if(c){const g=l.slice(p-1).findIndex(b=>!ze(b[a.axis]));p+=Math.max(0,g)}r=zt(p,i,n)-i}else r=n-i}return{start:i,count:r}}function j1(t){const{xScale:e,yScale:s,_scaleRanges:n}=t,i={xmin:e.min,xmax:e.max,ymin:s.min,ymax:s.max};if(!n)return t._scaleRanges=i,!0;const r=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,i),r}const Ao=t=>t===0||t===1,Zd=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*xs/s)),eh=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*xs/s)+1,Rr={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*ts)+1,easeOutSine:t=>Math.sin(t*ts),easeInOutSine:t=>-.5*(Math.cos(lt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ao(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ao(t)?t:Zd(t,.075,.3),easeOutElastic:t=>Ao(t)?t:eh(t,.075,.3),easeInOutElastic(t){return Ao(t)?t:t<.5?.5*Zd(t*2,.1125,.45):.5+.5*eh(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Rr.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Rr.easeInBounce(t*2)*.5:Rr.easeOutBounce(t*2-1)*.5+.5};function Yc(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function th(t){return Yc(t)?t:new Gr(t)}function ll(t){return Yc(t)?t:new Gr(t).saturate(.5).darken(.1).hexString()}const B1=["x","y","borderWidth","radius","tension"],N1=["color","borderColor","backgroundColor"];function U1(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:N1},numbers:{type:"number",properties:B1}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function V1(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const sh=new Map;function H1(t,e){e=e||{};const s=t+JSON.stringify(e);let n=sh.get(s);return n||(n=new Intl.NumberFormat(t,e),sh.set(s,n)),n}function $g(t,e,s){return H1(e,s).format(t)}const z1={values(t){return at(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const n=this.chart.options.locale;let i,r=t;if(s.length>1){const c=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=q1(t,s)}const o=Pg(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),$g(t,n,l)}};function q1(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var Dg={formatters:z1};function W1(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Dg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Xn=Object.create(null),ic=Object.create(null);function $r(t,e){if(!e)return t;const s=e.split(".");for(let n=0,i=s.length;n<i;++n){const r=s[n];t=t[r]||(t[r]=Object.create(null))}return t}function cl(t,e,s){return typeof e=="string"?Yr($r(t,e),s):Yr($r(t,""),e)}class K1{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>ll(i.backgroundColor),this.hoverBorderColor=(n,i)=>ll(i.borderColor),this.hoverColor=(n,i)=>ll(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return cl(this,e,s)}get(e){return $r(this,e)}describe(e,s){return cl(ic,e,s)}override(e,s){return cl(Xn,e,s)}route(e,s,n,i){const r=$r(this,e),o=$r(this,n),a="_"+s;Object.defineProperties(r,{[a]:{value:r[s],writable:!0},[s]:{enumerable:!0,get(){const l=this[a],c=o[i];return Re(l)?Object.assign({},c,l):Ee(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(s=>s(this))}}var Je=new K1({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[U1,V1,W1]);function Q1(t){return!t||ze(t.size)||ze(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function nh(t,e,s,n,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,s.push(i)),r>n&&(n=r),n}function Pn(t,e,s){const n=t.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((e-i)*n)/n+i}function ih(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function rc(t,e,s,n){Lg(t,e,s,n,null)}function Lg(t,e,s,n,i){let r,o,a,l,c,u,d,h;const f=e.pointStyle,y=e.rotation,p=e.radius;let g=(y||0)*w1;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(s,n),t.rotate(g),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),f){default:i?t.ellipse(s,n,i/2,p,0,0,xs):t.arc(s,n,p,0,xs),t.closePath();break;case"triangle":u=i?i/2:p,t.moveTo(s+Math.sin(g)*u,n-Math.cos(g)*p),g+=Gd,t.lineTo(s+Math.sin(g)*u,n-Math.cos(g)*p),g+=Gd,t.lineTo(s+Math.sin(g)*u,n-Math.cos(g)*p),t.closePath();break;case"rectRounded":c=p*.516,l=p-c,o=Math.cos(g+Tn)*l,d=Math.cos(g+Tn)*(i?i/2-c:l),a=Math.sin(g+Tn)*l,h=Math.sin(g+Tn)*(i?i/2-c:l),t.arc(s-d,n-a,c,g-lt,g-ts),t.arc(s+h,n-o,c,g-ts,g),t.arc(s+d,n+a,c,g,g+ts),t.arc(s-h,n+o,c,g+ts,g+lt),t.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*p,u=i?i/2:l,t.rect(s-u,n-l,2*u,2*l);break}g+=Tn;case"rectRot":d=Math.cos(g)*(i?i/2:p),o=Math.cos(g)*p,a=Math.sin(g)*p,h=Math.sin(g)*(i?i/2:p),t.moveTo(s-d,n-a),t.lineTo(s+h,n-o),t.lineTo(s+d,n+a),t.lineTo(s-h,n+o),t.closePath();break;case"crossRot":g+=Tn;case"cross":d=Math.cos(g)*(i?i/2:p),o=Math.cos(g)*p,a=Math.sin(g)*p,h=Math.sin(g)*(i?i/2:p),t.moveTo(s-d,n-a),t.lineTo(s+d,n+a),t.moveTo(s+h,n-o),t.lineTo(s-h,n+o);break;case"star":d=Math.cos(g)*(i?i/2:p),o=Math.cos(g)*p,a=Math.sin(g)*p,h=Math.sin(g)*(i?i/2:p),t.moveTo(s-d,n-a),t.lineTo(s+d,n+a),t.moveTo(s+h,n-o),t.lineTo(s-h,n+o),g+=Tn,d=Math.cos(g)*(i?i/2:p),o=Math.cos(g)*p,a=Math.sin(g)*p,h=Math.sin(g)*(i?i/2:p),t.moveTo(s-d,n-a),t.lineTo(s+d,n+a),t.moveTo(s+h,n-o),t.lineTo(s-h,n+o);break;case"line":o=i?i/2:Math.cos(g)*p,a=Math.sin(g)*p,t.moveTo(s-o,n-a),t.lineTo(s+o,n+a);break;case"dash":t.moveTo(s,n),t.lineTo(s+Math.cos(g)*(i?i/2:p),n+Math.sin(g)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Xr(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function Jc(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Xc(t){t.restore()}function G1(t,e,s,n,i){if(!e)return t.lineTo(s.x,s.y);if(i==="middle"){const r=(e.x+s.x)/2;t.lineTo(r,e.y),t.lineTo(r,s.y)}else i==="after"!=!!n?t.lineTo(e.x,s.y):t.lineTo(s.x,e.y);t.lineTo(s.x,s.y)}function Y1(t,e,s,n){if(!e)return t.lineTo(s.x,s.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function J1(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ze(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function X1(t,e,s,n,i){if(i.strikethrough||i.underline){const r=t.measureText(n),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=s-r.actualBoundingBoxAscent,c=s+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function Z1(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function Zr(t,e,s,n,i,r={}){const o=at(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,J1(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&Z1(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),ze(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,s,n,r.maxWidth)),t.fillText(c,s,n,r.maxWidth),X1(t,s,n,c,r),n+=Number(i.lineHeight);t.restore()}function oc(t,e){const{x:s,y:n,w:i,h:r,radius:o}=e;t.arc(s+o.topLeft,n+o.topLeft,o.topLeft,1.5*lt,lt,!0),t.lineTo(s,n+r-o.bottomLeft),t.arc(s+o.bottomLeft,n+r-o.bottomLeft,o.bottomLeft,lt,ts,!0),t.lineTo(s+i-o.bottomRight,n+r),t.arc(s+i-o.bottomRight,n+r-o.bottomRight,o.bottomRight,ts,0,!0),t.lineTo(s+i,n+o.topRight),t.arc(s+i-o.topRight,n+o.topRight,o.topRight,0,-ts,!0),t.lineTo(s+o.topLeft,n)}const ek=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,tk=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function sk(t,e){const s=(""+t).match(ek);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const nk=t=>+t||0;function Ig(t,e){const s={},n=Re(e),i=n?Object.keys(e):e,r=Re(t)?n?o=>Ee(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)s[o]=nk(r(o));return s}function ik(t){return Ig(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Dr(t){return Ig(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Yt(t){const e=ik(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function yt(t,e){t=t||{},e=e||Je.font;let s=Ee(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let n=Ee(t.style,e.style);n&&!(""+n).match(tk)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:Ee(t.family,e.family),lineHeight:sk(Ee(t.lineHeight,e.lineHeight),s),size:s,style:n,weight:Ee(t.weight,e.weight),string:""};return i.string=Q1(i),i}function Ro(t,e,s,n){let i,r,o;for(i=0,r=t.length;i<r;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function rk(t,e,s){const{min:n,max:i}=t,r=g1(e,(i-n)/2),o=(a,l)=>s&&a===0?0:a+l;return{min:o(n,-Math.abs(r)),max:o(i,r)}}function ti(t,e){return Object.assign(Object.create(t),e)}function Zc(t,e=[""],s,n,i=()=>t[0]){const r=s||t;typeof n>"u"&&(n=Ng("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:n,_getTarget:i,override:a=>Zc([a,...t],e,r,n)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return jg(a,l,()=>fk(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return oh(a).includes(l)},ownKeys(a){return oh(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Wi(t,e,s,n){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:Fg(t,n),setContext:r=>Wi(t,r,s,n),override:r=>Wi(t.override(r),e,s,n)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return jg(r,o,()=>ak(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function Fg(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:s,indexable:n,isScriptable:mn(s)?s:()=>s,isIndexable:mn(n)?n:()=>n}}const ok=(t,e)=>t?t+Kc(e):e,eu=(t,e)=>Re(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function jg(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=s();return t[e]=n,n}function ak(t,e,s){const{_proxy:n,_context:i,_subProxy:r,_descriptors:o}=t;let a=n[e];return mn(a)&&o.isScriptable(e)&&(a=lk(e,a,t,s)),at(a)&&a.length&&(a=ck(e,a,t,o.isIndexable)),eu(e,a)&&(a=Wi(a,i,r&&r[e],o)),a}function lk(t,e,s,n){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=s;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||n);return a.delete(t),eu(t,l)&&(l=tu(i._scopes,i,t,l)),l}function ck(t,e,s,n){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=s;if(typeof r.index<"u"&&n(t))return e[r.index%e.length];if(Re(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=tu(c,i,t,u);e.push(Wi(d,r,o&&o[t],a))}}return e}function Bg(t,e,s){return mn(t)?t(e,s):t}const uk=(t,e)=>t===!0?e:typeof t=="string"?fa(e,t):void 0;function dk(t,e,s,n,i){for(const r of e){const o=uk(s,r);if(o){t.add(o);const a=Bg(o._fallback,s,i);if(typeof a<"u"&&a!==s&&a!==n)return a}else if(o===!1&&typeof n<"u"&&s!==n)return null}return!1}function tu(t,e,s,n){const i=e._rootScopes,r=Bg(e._fallback,s,n),o=[...t,...i],a=new Set;a.add(n);let l=rh(a,o,s,r||s,n);return l===null||typeof r<"u"&&r!==s&&(l=rh(a,o,r,l,n),l===null)?!1:Zc(Array.from(a),[""],i,r,()=>hk(e,s,n))}function rh(t,e,s,n,i){for(;s;)s=dk(t,e,s,n,i);return s}function hk(t,e,s){const n=t._getTarget();e in n||(n[e]={});const i=n[e];return at(i)&&Re(s)?s:i||{}}function fk(t,e,s,n){let i;for(const r of e)if(i=Ng(ok(r,t),s),typeof i<"u")return eu(t,i)?tu(s,n,t,i):i}function Ng(t,e){for(const s of e){if(!s)continue;const n=s[t];if(typeof n<"u")return n}}function oh(t){let e=t._keys;return e||(e=t._keys=pk(t._scopes)),e}function pk(t){const e=new Set;for(const s of t)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}const gk=Number.EPSILON||1e-14,Ki=(t,e)=>e<t.length&&!t[e].skip&&t[e],Ug=t=>t==="x"?"y":"x";function mk(t,e,s,n){const i=t.skip?e:t,r=e,o=s.skip?e:s,a=nc(r,i),l=nc(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=n*c,h=n*u;return{previous:{x:r.x-d*(o.x-i.x),y:r.y-d*(o.y-i.y)},next:{x:r.x+h*(o.x-i.x),y:r.y+h*(o.y-i.y)}}}function yk(t,e,s){const n=t.length;let i,r,o,a,l,c=Ki(t,0);for(let u=0;u<n-1;++u)if(l=c,c=Ki(t,u+1),!(!l||!c)){if(Ar(e[u],0,gk)){s[u]=s[u+1]=0;continue}i=s[u]/e[u],r=s[u+1]/e[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),s[u]=i*o*e[u],s[u+1]=r*o*e[u])}}function bk(t,e,s="x"){const n=Ug(s),i=t.length;let r,o,a,l=Ki(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Ki(t,c+1),!a)continue;const u=a[s],d=a[n];o&&(r=(u-o[s])/3,a[`cp1${s}`]=u-r,a[`cp1${n}`]=d-r*e[c]),l&&(r=(l[s]-u)/3,a[`cp2${s}`]=u+r,a[`cp2${n}`]=d+r*e[c])}}function vk(t,e="x"){const s=Ug(e),n=t.length,i=Array(n).fill(0),r=Array(n);let o,a,l,c=Ki(t,0);for(o=0;o<n;++o)if(a=l,l=c,c=Ki(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[s]-l[s])/u:0}r[o]=a?c?qi(i[o-1])!==qi(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}yk(t,i,r),bk(t,r,e)}function $o(t,e,s){return Math.max(Math.min(t,s),e)}function _k(t,e){let s,n,i,r,o,a=Xr(t[0],e);for(s=0,n=t.length;s<n;++s)o=r,r=a,a=s<n-1&&Xr(t[s+1],e),r&&(i=t[s],o&&(i.cp1x=$o(i.cp1x,e.left,e.right),i.cp1y=$o(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=$o(i.cp2x,e.left,e.right),i.cp2y=$o(i.cp2y,e.top,e.bottom)))}function xk(t,e,s,n,i){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")vk(t,i);else{let c=n?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=mk(c,a,t[Math.min(r+1,o-(n?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&_k(t,s)}function su(){return typeof window<"u"&&typeof document<"u"}function nu(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ma(t,e,s){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[s])):n=t,n}const Ia=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function wk(t,e){return Ia(t).getPropertyValue(e)}const kk=["top","right","bottom","left"];function Qn(t,e,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const r=kk[i];n[r]=parseFloat(t[e+"-"+r+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Sk=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function Ck(t,e){const s=t.touches,n=s&&s.length?s[0]:t,{offsetX:i,offsetY:r}=n;let o=!1,a,l;if(Sk(i,r,t.target))a=i,l=r;else{const c=e.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Rn(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:n}=e,i=Ia(s),r=i.boxSizing==="border-box",o=Qn(i,"padding"),a=Qn(i,"border","width"),{x:l,y:c,box:u}=Ck(t,s),d=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:f,height:y}=e;return r&&(f-=o.width+a.width,y-=o.height+a.height),{x:Math.round((l-d)/f*s.width/n),y:Math.round((c-h)/y*s.height/n)}}function Ok(t,e,s){let n,i;if(e===void 0||s===void 0){const r=t&&nu(t);if(!r)e=t.clientWidth,s=t.clientHeight;else{const o=r.getBoundingClientRect(),a=Ia(r),l=Qn(a,"border","width"),c=Qn(a,"padding");e=o.width-c.width-l.width,s=o.height-c.height-l.height,n=ma(a.maxWidth,r,"clientWidth"),i=ma(a.maxHeight,r,"clientHeight")}}return{width:e,height:s,maxWidth:n||ga,maxHeight:i||ga}}const Do=t=>Math.round(t*10)/10;function Tk(t,e,s,n){const i=Ia(t),r=Qn(i,"margin"),o=ma(i.maxWidth,t,"clientWidth")||ga,a=ma(i.maxHeight,t,"clientHeight")||ga,l=Ok(t,e,s);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=Qn(i,"border","width"),f=Qn(i,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-r.width),u=Math.max(0,n?c/n:u-r.height),c=Do(Math.min(c,o,l.maxWidth)),u=Do(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Do(c/2)),(e!==void 0||s!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=Do(Math.floor(u*n))),{width:c,height:u}}function ah(t,e,s){const n=e||1,i=Math.floor(t.height*n),r=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=n,o.height=i,o.width=r,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Pk=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};su()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function lh(t,e){const s=wk(t,e),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function $n(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}function Ek(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:n==="middle"?s<.5?t.y:e.y:n==="after"?s<1?t.y:e.y:s>0?e.y:t.y}}function Mk(t,e,s,n){const i={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=$n(t,i,s),a=$n(i,r,s),l=$n(r,e,s),c=$n(o,a,s),u=$n(a,l,s);return $n(c,u,s)}const Ak=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},Rk=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ci(t,e,s){return t?Ak(e,s):Rk()}function Vg(t,e){let s,n;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=n)}function Hg(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function zg(t){return t==="angle"?{between:Eg,compare:E1,normalize:Ws}:{between:mr,compare:(e,s)=>e-s,normalize:e=>e}}function ch({start:t,end:e,count:s,loop:n,style:i}){return{start:t%s,end:e%s,loop:n&&(e-t+1)%s===0,style:i}}function $k(t,e,s){const{property:n,start:i,end:r}=s,{between:o,normalize:a}=zg(n),l=e.length;let{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&o(a(e[c%l][n]),i,r);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function Dk(t,e,s){if(!s)return[t];const{property:n,start:i,end:r}=s,o=e.length,{compare:a,between:l,normalize:c}=zg(n),{start:u,end:d,loop:h,style:f}=$k(t,e,s),y=[];let p=!1,g=null,b,x,k;const S=()=>l(i,k,b)&&a(i,k)!==0,C=()=>a(r,b)===0||l(r,k,b),j=()=>p||S(),D=()=>!p||C();for(let $=u,P=u;$<=d;++$)x=e[$%o],!x.skip&&(b=c(x[n]),b!==k&&(p=l(b,i,r),g===null&&j()&&(g=a(b,i)===0?$:P),g!==null&&D()&&(y.push(ch({start:g,end:$,loop:h,count:o,style:f})),g=null),P=$,k=b));return g!==null&&y.push(ch({start:g,end:d,loop:h,count:o,style:f})),y}function Lk(t,e){const s=[],n=t.segments;for(let i=0;i<n.length;i++){const r=Dk(n[i],t.points,e);r.length&&s.push(...r)}return s}function Ik(t,e,s,n){let i=0,r=e-1;if(s&&!n)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,s&&(r+=i);r>i&&t[r%e].skip;)r--;return r%=e,{start:i,end:r}}function Fk(t,e,s,n){const i=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=s;++l){const c=t[l%i];c.skip||c.stop?a.skip||(n=!1,r.push({start:e%i,end:(l-1)%i,loop:n}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%i,end:o%i,loop:n}),r}function jk(t,e){const s=t.points,n=t.options.spanGaps,i=s.length;if(!i)return[];const r=!!t._loop,{start:o,end:a}=Ik(s,i,r,n);if(n===!0)return uh(t,[{start:o,end:a,loop:r}],s,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return uh(t,Fk(s,o,l,c),s,e)}function uh(t,e,s,n){return!n||!n.setContext||!s?e:Bk(t,e,s,n)}function Bk(t,e,s,n){const i=t._chart.getContext(),r=dh(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=s.length,c=[];let u=r,d=e[0].start,h=d;function f(y,p,g,b){const x=a?-1:1;if(y!==p){for(y+=l;s[y%l].skip;)y-=x;for(;s[p%l].skip;)p+=x;y%l!==p%l&&(c.push({start:y%l,end:p%l,loop:g,style:b}),u=b,d=p%l)}}for(const y of e){d=a?d:y.start;let p=s[d%l],g;for(h=d+1;h<=y.end;h++){const b=s[h%l];g=dh(n.setContext(ti(i,{type:"segment",p0:p,p1:b,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),Nk(g,u)&&f(d,h-1,y.loop,u),p=b,u=g}d<h-1&&f(d,h-1,y.loop,u)}return c}function dh(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Nk(t,e){if(!e)return!1;const s=[],n=function(i,r){return Yc(r)?(s.includes(r)||s.push(r),s.indexOf(r)):r};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Lo(t,e,s){return t.options.clip?t[s]:e[s]}function Uk(t,e){const{xScale:s,yScale:n}=t;return s&&n?{left:Lo(s,e,"left"),right:Lo(s,e,"right"),top:Lo(n,e,"top"),bottom:Lo(n,e,"bottom")}:e}function Vk(t,e){const s=e._clip;if(s.disabled)return!1;const n=Uk(e,t.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Hk{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,n,i){const r=s.listeners[i],o=s.duration;r.forEach(a=>a({chart:e,initial:s.initial,numSteps:o,currentStep:Math.min(n-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Ag.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,e,"progress")),r.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),s+=r.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let n=s.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,n)),n}listen(e,s,n){this._getAnims(e).listeners[s].push(n)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ts=new Hk;const hh="transparent",zk={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const n=th(t||hh),i=n.valid&&th(e||hh);return i&&i.valid?i.mix(n,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class qk{constructor(e,s,n,i){const r=s[n];i=Ro([e.to,i,r,e.from]);const o=Ro([e.from,r,i]);this._active=!0,this._fn=e.fn||zk[e.type||typeof o],this._easing=Rr[e.easing]||Rr.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,o=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Ro([e.to,s,i,e.from]),this._from=Ro([e.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,n=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||s<n),!this._active){this._target[i]=a,this._notify(!0);return}if(s<0){this._target[i]=r;return}l=s/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,n)=>{e.push({res:s,rej:n})})}_notify(e){const s=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class qg{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!Re(e))return;const s=Object.keys(Je.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!Re(r))return;const o={};for(const a of s)o[a]=r[a];(at(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!n.has(a))&&n.set(a,o)})})}_animateOptions(e,s){const n=s.options,i=Kk(e,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&Wk(e.options.$animations,n).then(()=>{e.options=n},()=>{}),r}_createAnimations(e,s){const n=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(s),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,s));continue}const u=s[c];let d=r[c];const h=n.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}r[c]=d=new qk(h,e,c,u),i.push(d)}return i}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const n=this._createAnimations(e,s);if(n.length)return Ts.add(this._chart,n),!0}}function Wk(t,e){const s=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const r=t[n[i]];r&&r.active()&&s.push(r.wait())}return Promise.all(s)}function Kk(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function fh(t,e){const s=t&&t.options||{},n=s.reverse,i=s.min===void 0?e:0,r=s.max===void 0?e:0;return{start:n?r:i,end:n?i:r}}function Qk(t,e,s){if(s===!1)return!1;const n=fh(t,s),i=fh(e,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function Gk(t){let e,s,n,i;return Re(t)?(e=t.top,s=t.right,n=t.bottom,i=t.left):e=s=n=i=t,{top:e,right:s,bottom:n,left:i,disabled:t===!1}}function Wg(t,e){const s=[],n=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=n.length;i<r;++i)s.push(n[i].index);return s}function ph(t,e,s,n={}){const i=t.keys,r=n.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===s){if(u=!0,n.all)continue;break}c=t.values[l],Gt(c)&&(r||e===0||qi(e)===qi(c))&&(e+=c)}return!u&&!n.all?0:e}function Yk(t,e){const{iScale:s,vScale:n}=e,i=s.axis==="x"?"x":"y",r=n.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:t[u]};return a}function ul(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function Jk(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function Xk(t){const{min:e,max:s,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function Zk(t,e,s){const n=t[e]||(t[e]={});return n[s]||(n[s]={})}function gh(t,e,s,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const r=t[i.index];if(s&&r>0||!s&&r<0)return i.index}return null}function mh(t,e){const{chart:s,_cachedMeta:n}=t,i=s._stacks||(s._stacks={}),{iScale:r,vScale:o,index:a}=n,l=r.axis,c=o.axis,u=Jk(r,o,n),d=e.length;let h;for(let f=0;f<d;++f){const y=e[f],{[l]:p,[c]:g}=y,b=y._stacks||(y._stacks={});h=b[c]=Zk(i,u,p),h[a]=g,h._top=gh(h,o,!0,n.type),h._bottom=gh(h,o,!1,n.type);const x=h._visualValues||(h._visualValues={});x[a]=g}}function dl(t,e){const s=t.scales;return Object.keys(s).filter(n=>s[n].axis===e).shift()}function eS(t,e){return ti(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function tS(t,e,s){return ti(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function or(t,e){const s=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[n]===void 0||r[n][s]===void 0)return;delete r[n][s],r[n]._visualValues!==void 0&&r[n]._visualValues[s]!==void 0&&delete r[n]._visualValues[s]}}}const hl=t=>t==="reset"||t==="none",yh=(t,e)=>e?t:Object.assign({},t),sS=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:Wg(s,!0),values:null};class Lr{constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ul(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&or(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(d,h,f,y)=>d==="x"?h:d==="r"?y:f,r=s.xAxisID=Ee(n.xAxisID,dl(e,"x")),o=s.yAxisID=Ee(n.yAxisID,dl(e,"y")),a=s.rAxisID=Ee(n.rAxisID,dl(e,"r")),l=s.indexAxis,c=s.iAxisID=i(l,r,o,a),u=s.vAxisID=i(l,o,r,a);s.xScale=this.getScaleForId(r),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(a),s.iScale=this.getScaleForId(c),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Xd(this._data,this),e._stacked&&or(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),n=this._data;if(Re(s)){const i=this._cachedMeta;this._data=Yk(s,i)}else if(n!==s){if(n){Xd(n,this);const i=this._cachedMeta;or(i),i._parsed=[]}s&&Object.isExtensible(s)&&$1(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=s._stacked;s._stacked=ul(s.vScale,s),s.stack!==n.stack&&(i=!0,or(s),s.stack=n.stack),this._resyncElements(e),(i||r!==s._stacked)&&(mh(this,s._parsed),s._stacked=ul(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:o}=n,a=r.axis;let l=e===0&&s===i.length?!0:n._sorted,c=e>0&&n._parsed[e-1],u,d,h;if(this._parsing===!1)n._parsed=i,n._sorted=!0,h=i;else{at(i[e])?h=this.parseArrayData(n,i,e,s):Re(i[e])?h=this.parseObjectData(n,i,e,s):h=this.parsePrimitiveData(n,i,e,s);const f=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<s;++u)n._parsed[u+e]=d=h[u],l&&(f()&&(l=!1),c=d);n._sorted=l}o&&mh(this,h)}parsePrimitiveData(e,s,n,i){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,d=new Array(i);let h,f,y;for(h=0,f=i;h<f;++h)y=h+n,d[h]={[a]:u||r.parse(c[y],y),[l]:o.parse(s[y],y)};return d}parseArrayData(e,s,n,i){const{xScale:r,yScale:o}=e,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+n,d=s[u],a[l]={x:r.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,s,n,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,h,f;for(u=0,d=i;u<d;++u)h=u+n,f=s[h],c[u]={x:r.parse(fa(f,a),h),y:o.parse(fa(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,n){const i=this.chart,r=this._cachedMeta,o=s[e.axis],a={keys:Wg(i,!0),values:s._stacks[e.axis]._visualValues};return ph(a,o,r.index,{mode:n})}updateRangeFromParsed(e,s,n,i){const r=n[s.axis];let o=r===null?NaN:r;const a=i&&n._stacks[s.axis];i&&a&&(i.values=a,o=ph(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,s){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&e===n.iScale,o=i.length,a=this._getOtherScale(e),l=sS(s,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=Xk(a);let h,f;function y(){f=i[h];const p=f[a.axis];return!Gt(f[e.axis])||u>p||d<p}for(h=0;h<o&&!(!y()&&(this.updateRangeFromParsed(c,e,f,l),r));++h);if(r){for(h=o-1;h>=0;--h)if(!y()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const s=this._cachedMeta._parsed,n=[];let i,r,o;for(i=0,r=s.length;i<r;++i)o=s[i][e.axis],Gt(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,n=s.iScale,i=s.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=Gk(Ee(this.options.clip,Qk(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],r=s.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,s){const n=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,s,n){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=tS(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=eS(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!s,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",n){const i=s==="active",r=this._cachedDataOpts,o=e+"-"+s,a=r[o],l=this.enableOptionSharing&&pa(n);if(a)return yh(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(Je.elements[e]),y=()=>this.getContext(n,i,s),p=c.resolveNamedOptions(h,f,y,d);return p.$shared&&(p.$shared=l,r[o]=Object.freeze(yh(p,l))),p}_resolveAnimations(e,s,n){const i=this.chart,r=this._cachedDataOpts,o=`animation-${s}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,s),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,n,s))}const c=new qg(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||hl(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const n=this.resolveDataElementOptions(e,s),i=this._sharedOptions,r=this.getSharedOptions(n),o=this.includeOptions(s,r)||r!==i;return this.updateSharedOptions(r,s,n),{sharedOptions:r,includeOptions:o}}updateElement(e,s,n,i){hl(i)?Object.assign(e,n):this._resolveAnimations(s,i).update(e,n)}updateSharedOptions(e,s,n){e&&!hl(s)&&this._resolveAnimations(void 0,s).update(e,n)}_setStyle(e,s,n,i){e.active=i;const r=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,s,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,s,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,n=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=n.length,r=s.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,s,n=!0){const i=this._cachedMeta,r=i.data,o=e+s;let a;const l=c=>{for(c.length+=s,a=c.length-1;a>=o;a--)c[a]=c[a-s]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,s),n&&this.updateElements(r,e,s,"reset")}updateElements(e,s,n,i){}_removeElements(e,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,s);n._stacked&&or(n,i)}n.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,n,i]=e;this[s](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}be(Lr,"defaults",{}),be(Lr,"datasetElementType",null),be(Lr,"dataElementType",null);class Go extends Lr{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=s,o=this.chart._animationsDisabled;let{start:a,count:l}=F1(s,i,o);this._drawStart=a,this._drawCount=l,j1(s)&&(a=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,s,n,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(s,i),h=o.axis,f=a.axis,{spanGaps:y,segment:p}=this.options,g=Jr(y)?y:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||i==="none",x=s+n,k=e.length;let S=s>0&&this.getParsed(s-1);for(let C=0;C<k;++C){const j=e[C],D=b?j:{};if(C<s||C>=x){D.skip=!0;continue}const $=this.getParsed(C),P=ze($[f]),B=D[h]=o.getPixelForValue($[h],C),R=D[f]=r||P?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,$,l):$[f],C);D.skip=isNaN(B)||isNaN(R)||P,D.stop=C>0&&Math.abs($[h]-S[h])>g,p&&(D.parsed=$,D.raw=c.data[C]),d&&(D.options=u||this.resolveDataElementOptions(C,j.active?"active":i)),b||this.updateElement(j,C,D,i),S=$}}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,n=s.options&&s.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}be(Go,"id","line"),be(Go,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),be(Go,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function En(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class iu{constructor(e){be(this,"options");this.options=e||{}}static override(e){Object.assign(iu.prototype,e)}init(){}formats(){return En()}parse(){return En()}format(){return En()}add(){return En()}diff(){return En()}startOf(){return En()}endOf(){return En()}}var nS={_date:iu};function iS(t,e,s,n){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const c=a._reversePixels?A1:Fn;if(n){if(i._sharedOptions){const u=r[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const h=c(r,e,s-d),f=c(r,e,s+d);return{lo:h.lo,hi:f.hi}}}}else{const u=c(r,e,s);if(l){const{vScale:d}=i._cachedMeta,{_parsed:h}=t,f=h.slice(0,u.lo+1).reverse().findIndex(p=>!ze(p[d.axis]));u.lo-=Math.max(0,f);const y=h.slice(u.hi).findIndex(p=>!ze(p[d.axis]));u.hi+=Math.max(0,y)}return u}}return{lo:0,hi:r.length-1}}function Fa(t,e,s,n,i){const r=t.getSortedVisibleDatasetMetas(),o=s[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:d,hi:h}=iS(r[a],e,o,i);for(let f=d;f<=h;++f){const y=u[f];y.skip||n(y,c,f)}}}function rS(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(n,i){const r=e?Math.abs(n.x-i.x):0,o=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function fl(t,e,s,n,i){const r=[];return!i&&!t.isPointInArea(e)||Fa(t,s,e,function(a,l,c){!i&&!Xr(a,t.chartArea,0)||a.inRange(e.x,e.y,n)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function oS(t,e,s,n){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:d}=P1(o,{x:e.x,y:e.y});Eg(d,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Fa(t,s,e,r),i}function aS(t,e,s,n,i,r){let o=[];const a=rS(s);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(e.x,e.y,i);if(n&&!f)return;const y=u.getCenterPoint(i);if(!(!!r||t.isPointInArea(y))&&!f)return;const g=a(e,y);g<l?(o=[{element:u,datasetIndex:d,index:h}],l=g):g===l&&o.push({element:u,datasetIndex:d,index:h})}return Fa(t,s,e,c),o}function pl(t,e,s,n,i,r){return!r&&!t.isPointInArea(e)?[]:s==="r"&&!n?oS(t,e,s,i):aS(t,e,s,n,i,r)}function bh(t,e,s,n,i){const r=[],o=s==="x"?"inXRange":"inYRange";let a=!1;return Fa(t,s,e,(l,c,u)=>{l[o]&&l[o](e[s],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),n&&!a?[]:r}var lS={modes:{index(t,e,s,n){const i=Rn(e,t),r=s.axis||"x",o=s.includeInvisible||!1,a=s.intersect?fl(t,i,r,n,o):pl(t,i,r,!1,n,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,s,n){const i=Rn(e,t),r=s.axis||"xy",o=s.includeInvisible||!1;let a=s.intersect?fl(t,i,r,n,o):pl(t,i,r,!1,n,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,s,n){const i=Rn(e,t),r=s.axis||"xy",o=s.includeInvisible||!1;return fl(t,i,r,n,o)},nearest(t,e,s,n){const i=Rn(e,t),r=s.axis||"xy",o=s.includeInvisible||!1;return pl(t,i,r,s.intersect,n,o)},x(t,e,s,n){const i=Rn(e,t);return bh(t,i,"x",s.intersect,n)},y(t,e,s,n){const i=Rn(e,t);return bh(t,i,"y",s.intersect,n)}}};const Kg=["left","top","right","bottom"];function ar(t,e){return t.filter(s=>s.pos===e)}function vh(t,e){return t.filter(s=>Kg.indexOf(s.pos)===-1&&s.box.axis===e)}function lr(t,e){return t.sort((s,n)=>{const i=e?n:s,r=e?s:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function cS(t){const e=[];let s,n,i,r,o,a;for(s=0,n=(t||[]).length;s<n;++s)i=t[s],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:s,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function uS(t){const e={};for(const s of t){const{stack:n,pos:i,stackWeight:r}=s;if(!n||!Kg.includes(i))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function dS(t,e){const s=uS(t),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=s[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*n:l&&e.availableWidth,a.height=i):(a.width=n,a.height=u?u*i:l&&e.availableHeight)}return s}function hS(t){const e=cS(t),s=lr(e.filter(c=>c.box.fullSize),!0),n=lr(ar(e,"left"),!0),i=lr(ar(e,"right")),r=lr(ar(e,"top"),!0),o=lr(ar(e,"bottom")),a=vh(e,"x"),l=vh(e,"y");return{fullSize:s,leftAndTop:n.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:ar(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function _h(t,e,s,n){return Math.max(t[s],e[s])+Math.max(t[n],e[n])}function Qg(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function fS(t,e,s,n){const{pos:i,box:r}=s,o=t.maxPadding;if(!Re(i)){s.size&&(t[i]-=s.size);const d=n[s.stack]||{size:0,count:1};d.size=Math.max(d.size,s.horizontal?r.height:r.width),s.size=d.size/d.count,t[i]+=s.size}r.getPadding&&Qg(o,r.getPadding());const a=Math.max(0,e.outerWidth-_h(o,t,"left","right")),l=Math.max(0,e.outerHeight-_h(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,s.horizontal?{same:c,other:u}:{same:u,other:c}}function pS(t){const e=t.maxPadding;function s(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function gS(t,e){const s=e.maxPadding;function n(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],s[o])}),r}return n(t?["left","right"]:["top","bottom"])}function yr(t,e,s,n){const i=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,gS(a.horizontal,e));const{same:d,other:h}=fS(e,s,a,n);c|=d&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&yr(i,e,s,n)||u}function Io(t,e,s,n,i){t.top=s,t.left=e,t.right=e+n,t.bottom=s+i,t.width=n,t.height=i}function xh(t,e,s,n){const i=s.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=n[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,h=c.size||l.height;pa(c.start)&&(o=c.start),l.fullSize?Io(l,i.left,o,s.outerWidth-i.right-i.left,h):Io(l,e.left+c.placed,o,d,h),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,h=c.size||l.width;pa(c.start)&&(r=c.start),l.fullSize?Io(l,r,i.top,h,s.outerHeight-i.bottom-i.top):Io(l,r,e.top+c.placed,h,d),c.start=r,c.placed+=d,r=l.right}}e.x=r,e.y=o}var qt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,n){if(!t)return;const i=Yt(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(s-i.height,0),a=hS(t.boxes),l=a.vertical,c=a.horizontal;je(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=l.reduce((p,g)=>g.box.options&&g.box.options.display===!1?p:p+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:s,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},i);Qg(h,Yt(n));const f=Object.assign({maxPadding:h,w:r,h:o,x:i.left,y:i.top},i),y=dS(l.concat(c),d);yr(a.fullSize,f,d,y),yr(l,f,d,y),yr(c,f,d,y)&&yr(l,f,d,y),pS(f),xh(a.leftAndTop,f,d,y),f.x+=f.w,f.y+=f.h,xh(a.rightAndBottom,f,d,y),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},je(a.chartArea,p=>{const g=p.box;Object.assign(g,t.chartArea),g.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Gg{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,n){}removeEventListener(e,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,n,i){return s=Math.max(0,s||e.width),n=n||e.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(e){return!0}updateConfig(e){}}class mS extends Gg{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Yo="$chartjs",yS={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},wh=t=>t===null||t==="";function bS(t,e){const s=t.style,n=t.getAttribute("height"),i=t.getAttribute("width");if(t[Yo]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",wh(i)){const r=lh(t,"width");r!==void 0&&(t.width=r)}if(wh(n))if(t.style.height==="")t.height=t.width/(e||2);else{const r=lh(t,"height");r!==void 0&&(t.height=r)}return t}const Yg=Pk?{passive:!0}:!1;function vS(t,e,s){t&&t.addEventListener(e,s,Yg)}function _S(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,Yg)}function xS(t,e){const s=yS[t.type]||t.type,{x:n,y:i}=Rn(t,e);return{type:s,chart:e,native:t,x:n!==void 0?n:null,y:i!==void 0?i:null}}function ya(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function wS(t,e,s){const n=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||ya(a.addedNodes,n),o=o&&!ya(a.removedNodes,n);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function kS(t,e,s){const n=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||ya(a.removedNodes,n),o=o&&!ya(a.addedNodes,n);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const eo=new Map;let kh=0;function Jg(){const t=window.devicePixelRatio;t!==kh&&(kh=t,eo.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function SS(t,e){eo.size||window.addEventListener("resize",Jg),eo.set(t,e)}function CS(t){eo.delete(t),eo.size||window.removeEventListener("resize",Jg)}function OS(t,e,s){const n=t.canvas,i=n&&nu(n);if(!i)return;const r=Rg((a,l)=>{const c=i.clientWidth;s(a,l),c<i.clientWidth&&s()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),SS(t,r),o}function gl(t,e,s){s&&s.disconnect(),e==="resize"&&CS(t)}function TS(t,e,s){const n=t.canvas,i=Rg(r=>{t.ctx!==null&&s(xS(r,t))},t);return vS(n,e,i),i}class PS extends Gg{acquireContext(e,s){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(bS(e,s),n):null}releaseContext(e){const s=e.canvas;if(!s[Yo])return!1;const n=s[Yo].initial;["height","width"].forEach(r=>{const o=n[r];ze(o)?s.removeAttribute(r):s.setAttribute(r,o)});const i=n.style||{};return Object.keys(i).forEach(r=>{s.style[r]=i[r]}),s.width=s.width,delete s[Yo],!0}addEventListener(e,s,n){this.removeEventListener(e,s);const i=e.$proxies||(e.$proxies={}),o={attach:wS,detach:kS,resize:OS}[s]||TS;i[s]=o(e,s,n)}removeEventListener(e,s){const n=e.$proxies||(e.$proxies={}),i=n[s];if(!i)return;({attach:gl,detach:gl,resize:gl}[s]||_S)(e,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,n,i){return Tk(e,s,n,i)}isAttached(e){const s=e&&nu(e);return!!(s&&s.isConnected)}}function ES(t){return!su()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?mS:PS}var Vo;let si=(Vo=class{constructor(){be(this,"x");be(this,"y");be(this,"active",!1);be(this,"options");be(this,"$animations")}tooltipPosition(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}hasValue(){return Jr(this.x)&&Jr(this.y)}getProps(e,s){const n=this.$animations;if(!s||!n)return this;const i={};return e.forEach(r=>{i[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),i}},be(Vo,"defaults",{}),be(Vo,"defaultRoutes"),Vo);function MS(t,e){const s=t.options.ticks,n=AS(t),i=Math.min(s.maxTicksLimit||n,n),r=s.major.enabled?$S(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return DS(e,c,r,o/i),c;const u=RS(r,e,i);if(o>0){let d,h;const f=o>1?Math.round((l-a)/(o-1)):null;for(Fo(e,c,u,ze(f)?0:a-f,a),d=0,h=o-1;d<h;d++)Fo(e,c,u,r[d],r[d+1]);return Fo(e,c,u,l,ze(f)?e.length:l+f),c}return Fo(e,c,u),c}function AS(t){const e=t.options.offset,s=t._tickSize(),n=t._length/s+(e?0:1),i=t._maxLength/s;return Math.floor(Math.min(n,i))}function RS(t,e,s){const n=LS(t),i=e.length/s;if(!n)return Math.max(i,1);const r=k1(n);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function $S(t){const e=[];let s,n;for(s=0,n=t.length;s<n;s++)t[s].major&&e.push(s);return e}function DS(t,e,s,n){let i=0,r=s[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=s[i*n])}function Fo(t,e,s,n,i){const r=Ee(n,0),o=Math.min(Ee(i,t.length),t.length);let a=0,l,c,u;for(s=Math.ceil(s),i&&(l=i-n,s=l/Math.floor(l/s)),u=r;u<0;)a++,u=Math.round(r+a*s);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*s))}function LS(t){const e=t.length;let s,n;if(e<2)return!1;for(n=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==n)return!1;return n}const IS=t=>t==="left"?"right":t==="right"?"left":t,Sh=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,Ch=(t,e)=>Math.min(e||t,t);function Oh(t,e){const s=[],n=t.length/e,i=t.length;let r=0;for(;r<i;r+=n)s.push(t[Math.floor(r)]);return s}function FS(t,e,s){const n=t.ticks.length,i=Math.min(e,n-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(s&&(n===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<r-a||l>o+a)))return l}function jS(t,e){je(t,s=>{const n=s.gc,i=n.length/2;let r;if(i>e){for(r=0;r<i;++r)delete s.data[n[r]];n.splice(0,i)}})}function cr(t){return t.drawTicks?t.tickLength:0}function Th(t,e){if(!t.display)return 0;const s=yt(t.font,e),n=Yt(t.padding);return(at(t.text)?t.text.length:1)*s.lineHeight+n.height}function BS(t,e){return ti(t,{scale:e,type:"scale"})}function NS(t,e,s){return ti(t,{tick:s,index:e,type:"tick"})}function US(t,e,s){let n=Gc(t);return(s&&e!=="right"||!s&&e==="right")&&(n=IS(n)),n}function VS(t,e,s,n){const{top:i,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,f,y;const p=o-i,g=a-r;if(t.isHorizontal()){if(f=pt(n,r,a),Re(s)){const b=Object.keys(s)[0],x=s[b];y=u[b].getPixelForValue(x)+p-e}else s==="center"?y=(c.bottom+c.top)/2+p-e:y=Sh(t,s,e);h=a-r}else{if(Re(s)){const b=Object.keys(s)[0],x=s[b];f=u[b].getPixelForValue(x)-g+e}else s==="center"?f=(c.left+c.right)/2-g+e:f=Sh(t,s,e);y=pt(n,o,i),d=s==="left"?-ts:ts}return{titleX:f,titleY:y,maxWidth:h,rotation:d}}class Ji extends si{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return e=ds(e,Number.POSITIVE_INFINITY),s=ds(s,Number.NEGATIVE_INFINITY),n=ds(n,Number.POSITIVE_INFINITY),i=ds(i,Number.NEGATIVE_INFINITY),{min:ds(e,n),max:ds(s,i),minDefined:Gt(e),maxDefined:Gt(s)}}getMinMax(e){let{min:s,max:n,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:s,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(s=Math.min(s,o.min)),r||(n=Math.max(n,o.max));return s=r&&s>n?n:s,n=i&&s>n?s:n,{min:ds(s,ds(n,s)),max:ds(n,ds(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){We(this.options.beforeUpdate,[this])}update(e,s,n){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=rk(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Oh(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=MS(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,e=!e),this._startPixel=s,this._endPixel=n,this._reversePixels=e,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){We(this.options.afterUpdate,[this])}beforeSetDimensions(){We(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){We(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),We(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){We(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n],r.label=We(s.callback,[r.value,n,e],this)}afterTickToLabelConversion(){We(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){We(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,n=Ch(this.ticks.length,e.ticks.maxTicksLimit),i=s.minRotation||0,r=s.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!s.display||i>=r||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=zt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/n:f/(n-1),d+6>a&&(a=f/(n-(e.offset?.5:1)),l=this.maxHeight-cr(e.grid)-s.padding-Th(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),o=T1(Math.min(Math.asin(zt((u.highest.height+6)/a,-1,1)),Math.asin(zt(l/c,-1,1))-Math.asin(zt(h/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){We(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){We(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Th(i,s.options.font);if(a?(e.width=this.maxWidth,e.height=cr(r)+l):(e.height=this.maxHeight,e.width=cr(r)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=n.padding*2,y=In(this.labelRotation),p=Math.cos(y),g=Math.sin(y);if(a){const b=n.mirror?0:g*d.width+p*h.height;e.height=Math.min(this.maxHeight,e.height+b+f)}else{const b=n.mirror?0:p*d.width+g*h.height;e.width=Math.min(this.maxWidth,e.width+b+f)}this._calculatePadding(c,u,g,p)}}this._handleMargins(),a?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,n,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=i*e.width,f=n*s.height):(h=n*e.height,f=i*s.width):r==="start"?f=s.width:r==="end"?h=e.width:r!=="inner"&&(h=e.width/2,f=s.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+o)*this.width/(this.width-d),0)}else{let u=s.height/2,d=e.height/2;r==="start"?(u=0,d=e.height):r==="end"&&(u=s.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){We(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,n;for(s=0,n=e.length;s<n;s++)ze(e[s].label)&&(e.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=Oh(n,s)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,n){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(s/Ch(s,n));let c=0,u=0,d,h,f,y,p,g,b,x,k,S,C;for(d=0;d<s;d+=l){if(y=e[d].label,p=this._resolveTickFontOptions(d),i.font=g=p.string,b=r[g]=r[g]||{data:{},gc:[]},x=p.lineHeight,k=S=0,!ze(y)&&!at(y))k=nh(i,b.data,b.gc,k,y),S=x;else if(at(y))for(h=0,f=y.length;h<f;++h)C=y[h],!ze(C)&&!at(C)&&(k=nh(i,b.data,b.gc,k,C),S+=x);o.push(k),a.push(S),c=Math.max(k,c),u=Math.max(S,u)}jS(r,s);const j=o.indexOf(c),D=a.indexOf(u),$=P=>({width:o[P]||0,height:a[P]||0});return{first:$(0),last:$(s-1),widest:$(j),highest:$(D),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return M1(this._alignToPixels?Pn(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const n=s[e];return n.$context||(n.$context=NS(this.getContext(),e,n))}return this.$context||(this.$context=BS(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=In(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*n>a*i?a/n:l/i:l*i<a*n?l/n:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,n=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=cr(r),f=[],y=a.setContext(this.getContext()),p=y.display?y.width:0,g=p/2,b=function(W){return Pn(n,W,p)};let x,k,S,C,j,D,$,P,B,R,T,J;if(o==="top")x=b(this.bottom),D=this.bottom-h,P=x-g,R=b(e.top)+g,J=e.bottom;else if(o==="bottom")x=b(this.top),R=e.top,J=b(e.bottom)-g,D=x+g,P=this.top+h;else if(o==="left")x=b(this.right),j=this.right-h,$=x-g,B=b(e.left)+g,T=e.right;else if(o==="right")x=b(this.left),B=e.left,T=b(e.right)-g,j=x+g,$=this.left+h;else if(s==="x"){if(o==="center")x=b((e.top+e.bottom)/2+.5);else if(Re(o)){const W=Object.keys(o)[0],N=o[W];x=b(this.chart.scales[W].getPixelForValue(N))}R=e.top,J=e.bottom,D=x+g,P=D+h}else if(s==="y"){if(o==="center")x=b((e.left+e.right)/2);else if(Re(o)){const W=Object.keys(o)[0],N=o[W];x=b(this.chart.scales[W].getPixelForValue(N))}j=x-g,$=j-h,B=e.left,T=e.right}const ne=Ee(i.ticks.maxTicksLimit,d),pe=Math.max(1,Math.ceil(d/ne));for(k=0;k<d;k+=pe){const W=this.getContext(k),N=r.setContext(W),se=a.setContext(W),V=N.lineWidth,X=N.color,me=se.dash||[],de=se.dashOffset,Qe=N.tickWidth,nt=N.tickColor,bt=N.tickBorderDash||[],qe=N.tickBorderDashOffset;S=FS(this,k,l),S!==void 0&&(C=Pn(n,S,V),c?j=$=B=T=C:D=P=R=J=C,f.push({tx1:j,ty1:D,tx2:$,ty2:P,x1:B,y1:R,x2:T,y2:J,width:V,color:X,borderDash:me,borderDashOffset:de,tickWidth:Qe,tickColor:nt,tickBorderDash:bt,tickBorderDashOffset:qe}))}return this._ticksLength=d,this._borderValue=x,f}_computeLabelItems(e){const s=this.axis,n=this.options,{position:i,ticks:r}=n,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=r,h=cr(n.grid),f=h+u,y=d?-u:f,p=-In(this.labelRotation),g=[];let b,x,k,S,C,j,D,$,P,B,R,T,J="middle";if(i==="top")j=this.bottom-y,D=this._getXAxisLabelAlignment();else if(i==="bottom")j=this.top+y,D=this._getXAxisLabelAlignment();else if(i==="left"){const pe=this._getYAxisLabelAlignment(h);D=pe.textAlign,C=pe.x}else if(i==="right"){const pe=this._getYAxisLabelAlignment(h);D=pe.textAlign,C=pe.x}else if(s==="x"){if(i==="center")j=(e.top+e.bottom)/2+f;else if(Re(i)){const pe=Object.keys(i)[0],W=i[pe];j=this.chart.scales[pe].getPixelForValue(W)+f}D=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")C=(e.left+e.right)/2-f;else if(Re(i)){const pe=Object.keys(i)[0],W=i[pe];C=this.chart.scales[pe].getPixelForValue(W)}D=this._getYAxisLabelAlignment(h).textAlign}s==="y"&&(l==="start"?J="top":l==="end"&&(J="bottom"));const ne=this._getLabelSizes();for(b=0,x=a.length;b<x;++b){k=a[b],S=k.label;const pe=r.setContext(this.getContext(b));$=this.getPixelForTick(b)+r.labelOffset,P=this._resolveTickFontOptions(b),B=P.lineHeight,R=at(S)?S.length:1;const W=R/2,N=pe.color,se=pe.textStrokeColor,V=pe.textStrokeWidth;let X=D;o?(C=$,D==="inner"&&(b===x-1?X=this.options.reverse?"left":"right":b===0?X=this.options.reverse?"right":"left":X="center"),i==="top"?c==="near"||p!==0?T=-R*B+B/2:c==="center"?T=-ne.highest.height/2-W*B+B:T=-ne.highest.height+B/2:c==="near"||p!==0?T=B/2:c==="center"?T=ne.highest.height/2-W*B:T=ne.highest.height-R*B,d&&(T*=-1),p!==0&&!pe.showLabelBackdrop&&(C+=B/2*Math.sin(p))):(j=$,T=(1-R)*B/2);let me;if(pe.showLabelBackdrop){const de=Yt(pe.backdropPadding),Qe=ne.heights[b],nt=ne.widths[b];let bt=T-de.top,qe=0-de.left;switch(J){case"middle":bt-=Qe/2;break;case"bottom":bt-=Qe;break}switch(D){case"center":qe-=nt/2;break;case"right":qe-=nt;break;case"inner":b===x-1?qe-=nt:b>0&&(qe-=nt/2);break}me={left:qe,top:bt,width:nt+de.width,height:Qe+de.height,color:pe.backdropColor}}g.push({label:S,font:P,textOffset:T,options:{rotation:p,color:N,strokeColor:se,strokeWidth:V,textAlign:X,textBaseline:J,translation:[C,j],backdrop:me}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-In(this.labelRotation))return e==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return s==="left"?i?(u=this.right+r,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):s==="right"?i?(u=this.left+r,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:n,top:i,width:r,height:o}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(n,i,r,o),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(s.display)for(r=0,o=i.length;r<o;++r){const l=i[r];s.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),s.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),o=n.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=Pn(e,this.left,o)-o/2,u=Pn(e,this.right,a)+a/2,d=h=l):(d=Pn(e,this.top,o)-o/2,h=Pn(e,this.bottom,a)+a/2,c=u=l),s.save(),s.lineWidth=r.width,s.strokeStyle=r.color,s.beginPath(),s.moveTo(c,d),s.lineTo(u,h),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&Jc(n,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Zr(n,c,0,u,l,a)}i&&Xc(n)}drawTitle(){const{ctx:e,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const r=yt(n.font),o=Yt(n.padding),a=n.align;let l=r.lineHeight/2;s==="bottom"||s==="center"||Re(s)?(l+=o.bottom,at(n.text)&&(l+=r.lineHeight*(n.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=VS(this,l,s,a);Zr(e,n.text,0,0,r,{color:n.color,maxWidth:d,rotation:h,textAlign:US(a,s,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,n=Ee(e.grid&&e.grid.z,-1),i=Ee(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ji.prototype.draw?[{z:s,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,o;for(r=0,o=s.length;r<o;++r){const a=s[r];a[n]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return yt(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class jo{constructor(e,s,n){this.type=e,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let n;qS(s)&&(n=this.register(s));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,HS(e,o,n),this.override&&Je.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const s=this.items,n=e.id,i=this.scope;n in s&&delete s[n],i&&n in Je[i]&&(delete Je[i][n],this.override&&delete Xn[n])}}function HS(t,e,s){const n=Yr(Object.create(null),[s?Je.get(s):{},Je.get(e),t.defaults]);Je.set(e,n),t.defaultRoutes&&zS(e,t.defaultRoutes),t.descriptors&&Je.describe(e,t.descriptors)}function zS(t,e){Object.keys(e).forEach(s=>{const n=s.split("."),i=n.pop(),r=[t].concat(n).join("."),o=e[s].split("."),a=o.pop(),l=o.join(".");Je.route(r,i,l,a)})}function qS(t){return"id"in t&&"defaults"in t}class WS{constructor(){this.controllers=new jo(Lr,"datasets",!0),this.elements=new jo(si,"elements"),this.plugins=new jo(Object,"plugins"),this.scales=new jo(Ji,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,n){[...s].forEach(i=>{const r=n||this._getRegistryForType(i);n||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):je(i,o=>{const a=n||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,s,n){const i=Kc(e);We(n["before"+i],[],n),s[e](n),We(n["after"+i],[],n)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(e))return n}return this.plugins}_get(e,s,n){const i=s.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var gs=new WS;class KS{constructor(){this._init=[]}notify(e,s,n,i){s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,s,n);return s==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,s,n,i){i=i||{};for(const r of e){const o=r.plugin,a=o[n],l=[s,i,r.options];if(We(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){ze(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const n=e&&e.config,i=Ee(n.options&&n.options.plugins,{}),r=QS(n);return i===!1&&!s?[]:YS(e,r,i,s)}_notifyStateChanges(e){const s=this._oldCache||[],n=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(s,n),e,"stop"),this._notify(i(n,s),e,"start")}}function QS(t){const e={},s=[],n=Object.keys(gs.plugins.items);for(let r=0;r<n.length;r++)s.push(gs.getPlugin(n[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];s.indexOf(o)===-1&&(s.push(o),e[o.id]=!0)}return{plugins:s,localIds:e}}function GS(t,e){return!e&&t===!1?null:t===!0?{}:t}function YS(t,{plugins:e,localIds:s},n,i){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=GS(n[l],i);c!==null&&r.push({plugin:a,options:JS(t.config,{plugin:a,local:s[l]},c,o)})}return r}function JS(t,{plugin:e,local:s},n,i){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(n,r);return s&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ac(t,e){const s=Je.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function XS(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function ZS(t,e){return t===e?"_index_":"_value_"}function Ph(t){if(t==="x"||t==="y"||t==="r")return t}function eC(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function lc(t,...e){if(Ph(t))return t;for(const s of e){const n=s.axis||eC(s.position)||t.length>1&&Ph(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Eh(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function tC(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(s.length)return Eh(t,"x",s[0])||Eh(t,"y",s[0])}return{}}function sC(t,e){const s=Xn[t.type]||{scales:{}},n=e.scales||{},i=ac(t.type,e),r=Object.create(null);return Object.keys(n).forEach(o=>{const a=n[o];if(!Re(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=lc(o,a,tC(o,t),Je.scales[a.type]),c=ZS(l,i),u=s.scales||{};r[o]=Mr(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||ac(a,e),u=(Xn[a]||{}).scales||{};Object.keys(u).forEach(d=>{const h=XS(d,l),f=o[h+"AxisID"]||h;r[f]=r[f]||Object.create(null),Mr(r[f],[{axis:h},n[f],u[d]])})}),Object.keys(r).forEach(o=>{const a=r[o];Mr(a,[Je.scales[a.type],Je.scale])}),r}function Xg(t){const e=t.options||(t.options={});e.plugins=Ee(e.plugins,{}),e.scales=sC(t,e)}function Zg(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function nC(t){return t=t||{},t.data=Zg(t.data),Xg(t),t}const Mh=new Map,em=new Set;function Bo(t,e){let s=Mh.get(t);return s||(s=e(),Mh.set(t,s),em.add(s)),s}const ur=(t,e,s)=>{const n=fa(e,s);n!==void 0&&t.add(n)};class iC{constructor(e){this._config=nC(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Zg(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Xg(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Bo(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return Bo(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return Bo(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,n=this.type;return Bo(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const n=this._scopeCache;let i=n.get(e);return(!i||s)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,s,n){const{options:i,type:r}=this,o=this._cachedScopes(e,n),a=o.get(s);if(a)return a;const l=new Set;s.forEach(u=>{e&&(l.add(e),u.forEach(d=>ur(l,e,d))),u.forEach(d=>ur(l,i,d)),u.forEach(d=>ur(l,Xn[r]||{},d)),u.forEach(d=>ur(l,Je,d)),u.forEach(d=>ur(l,ic,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),em.has(s)&&o.set(s,c),c}chartOptionScopes(){const{options:e,type:s}=this;return[e,Xn[s]||{},Je.datasets[s]||{},{type:s},Je,ic]}resolveNamedOptions(e,s,n,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Ah(this._resolverCache,e,i);let l=o;if(oC(o,s)){r.$shared=!1,n=mn(n)?n():n;const c=this.createResolver(e,n,a);l=Wi(o,n,c)}for(const c of s)r[c]=l[c];return r}createResolver(e,s,n=[""],i){const{resolver:r}=Ah(this._resolverCache,e,n);return Re(s)?Wi(r,s,void 0,i):r}}function Ah(t,e,s){let n=t.get(e);n||(n=new Map,t.set(e,n));const i=s.join();let r=n.get(i);return r||(r={resolver:Zc(e,s),subPrefixes:s.filter(a=>!a.toLowerCase().includes("hover"))},n.set(i,r)),r}const rC=t=>Re(t)&&Object.getOwnPropertyNames(t).some(e=>mn(t[e]));function oC(t,e){const{isScriptable:s,isIndexable:n}=Fg(t);for(const i of e){const r=s(i),o=n(i),a=(o||r)&&t[i];if(r&&(mn(a)||rC(a))||o&&at(a))return!0}return!1}var aC="4.4.9";const lC=["top","bottom","left","right","chartArea"];function Rh(t,e){return t==="top"||t==="bottom"||lC.indexOf(t)===-1&&e==="x"}function $h(t,e){return function(s,n){return s[t]===n[t]?s[e]-n[e]:s[t]-n[t]}}function Dh(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),We(s&&s.onComplete,[t],e)}function cC(t){const e=t.chart,s=e.options.animation;We(s&&s.onProgress,[t],e)}function tm(t){return su()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Jo={},Lh=t=>{const e=tm(t);return Object.values(Jo).filter(s=>s.canvas===e).pop()};function uC(t,e,s){const n=Object.keys(t);for(const i of n){const r=+i;if(r>=e){const o=t[i];delete t[i],(s>0||r>e)&&(t[r+s]=o)}}}function dC(t,e,s,n){return!s||t.type==="mouseout"?null:n?e:t}var Vs;let ja=(Vs=class{static register(...e){gs.add(...e),Ih()}static unregister(...e){gs.remove(...e),Ih()}constructor(e,s){const n=this.config=new iC(s),i=tm(e),r=Lh(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||ES(i)),this.platform.updateConfig(n);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=p1(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new KS,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=L1(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Jo[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ts.listen(this,"complete",Dh),Ts.listen(this,"progress",cC),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:n,height:i,_aspectRatio:r}=this;return ze(e)?s&&r?r:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return gs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ah(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ih(this.canvas,this.ctx),this}stop(){return Ts.stop(this),this}resize(e,s){Ts.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,s,r),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,ah(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),We(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};je(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,s=e.scales,n=this.scales,i=Object.keys(n).reduce((o,a)=>(o[a]=!1,o),{});let r=[];s&&(r=r.concat(Object.keys(s).map(o=>{const a=s[o],l=lc(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),je(r,o=>{const a=o.options,l=a.id,c=lc(l,a),u=Ee(a.type,o.dtype);(a.position===void 0||Rh(a.position,c)!==Rh(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in n&&n[l].type===u)d=n[l];else{const h=gs.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),n[d.id]=d}d.init(a,e)}),je(i,(o,a)=>{o||delete n[a]}),je(n,o=>{qt.configure(this,o,o.options),qt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,n=e.length;if(e.sort((i,r)=>i.index-r.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);e.splice(s,n-s)}this._sortedMetasets=e.slice(0).sort($h("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((n,i)=>{s.filter(r=>r===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const r=s[n];let o=this.getDatasetMeta(n);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=a,o.indexAxis=r.indexAxis||ac(a,this.options),o.order=r.order||0,o.index=n,o.label=""+r.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const l=gs.getController(a),{datasetElementType:c,dataElementType:u}=Je.datasets[a];Object.assign(l,{dataElementType:gs.getElement(u),datasetElementType:c&&gs.getElement(c)}),o.controller=new l(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){je(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!i&&r.indexOf(d)===-1;d.buildOrUpdateElements(h),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||je(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort($h("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){je(this.scales,e=>{qt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!Qd(s,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of s){const o=n==="_removeElements"?-r:r;uC(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=n(0);for(let r=1;r<s;r++)if(!Qd(i,n(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;qt.update(this,this.width,this.height,e);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],je(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,mn(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ts.has(this)?this.attached&&!Ts.running(this)&&Ts.start(this):(this.draw(),Dh({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,n=[];let i,r;for(i=0,r=s.length;i<r;++i){const o=s[i];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=Vk(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&Jc(s,i),e.controller.draw(),i&&Xc(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Xr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,n,i){const r=lS.modes[s];return typeof r=="function"?r(this,e,n,i):[]}getDatasetMeta(e){const s=this.data.datasets[e],n=this._metasets;let i=n.filter(r=>r&&r._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=ti(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(e,s){const n=this.getDatasetMeta(e);n.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,n){const i=n?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);pa(s)?(r.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(r,{visible:n}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),Ts.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ih(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Jo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,n=(r,o)=>{s.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};je(this.options.events,r=>n(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,n=(l,c)=>{s.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(s.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),n("resize",r),n("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",a)},s.isAttached(this.canvas)?a():o()}unbindEvents(){je(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},je(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,n){const i=n?"set":"remove";let r,o,a,l;for(s==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],n=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!da(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(e,s,n){return this._plugins.notify(this,e,s,n)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,n){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=r(s,e),a=n?e:r(e,s);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,s){const n={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const r=this._handleEvent(e,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(e,s,n){const{_active:i=[],options:r}=this,o=s,a=this._getActiveElements(e,i,n,o),l=_1(e),c=dC(e,this._lastEvent,n,l);n&&(this._lastEvent=null,We(r.onHover,[e,a,this],this),l&&We(r.onClick,[e,a,this],this));const u=!da(a,i);return(u||s)&&(this._active=a,this._updateHoverStyles(a,i,s)),this._lastEvent=c,u}_getActiveElements(e,s,n,i){if(e.type==="mouseout")return[];if(!n)return s;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}},be(Vs,"defaults",Je),be(Vs,"instances",Jo),be(Vs,"overrides",Xn),be(Vs,"registry",gs),be(Vs,"version",aC),be(Vs,"getChart",Lh),Vs);function Ih(){return je(ja.instances,t=>t._plugins.invalidate())}function sm(t,e,s=e){t.lineCap=Ee(s.borderCapStyle,e.borderCapStyle),t.setLineDash(Ee(s.borderDash,e.borderDash)),t.lineDashOffset=Ee(s.borderDashOffset,e.borderDashOffset),t.lineJoin=Ee(s.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ee(s.borderWidth,e.borderWidth),t.strokeStyle=Ee(s.borderColor,e.borderColor)}function hC(t,e,s){t.lineTo(s.x,s.y)}function fC(t){return t.stepped?G1:t.tension||t.cubicInterpolationMode==="monotone"?Y1:hC}function nm(t,e,s={}){const n=t.length,{start:i=0,end:r=n-1}=s,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:n,start:l,loop:e.loop,ilen:c<l&&!u?n+c-l:c-l}}function pC(t,e,s,n){const{points:i,options:r}=e,{count:o,start:a,loop:l,ilen:c}=nm(i,s,n),u=fC(r);let{move:d=!0,reverse:h}=n||{},f,y,p;for(f=0;f<=c;++f)y=i[(a+(h?c-f:f))%o],!y.skip&&(d?(t.moveTo(y.x,y.y),d=!1):u(t,p,y,h,r.stepped),p=y);return l&&(y=i[(a+(h?c:0))%o],u(t,p,y,h,r.stepped)),!!l}function gC(t,e,s,n){const i=e.points,{count:r,start:o,ilen:a}=nm(i,s,n),{move:l=!0,reverse:c}=n||{};let u=0,d=0,h,f,y,p,g,b;const x=S=>(o+(c?a-S:S))%r,k=()=>{p!==g&&(t.lineTo(u,g),t.lineTo(u,p),t.lineTo(u,b))};for(l&&(f=i[x(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=i[x(h)],f.skip)continue;const S=f.x,C=f.y,j=S|0;j===y?(C<p?p=C:C>g&&(g=C),u=(d*u+S)/++d):(k(),t.lineTo(S,C),y=j,d=0,p=g=C),b=C}k()}function cc(t){const e=t.options,s=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s?gC:pC}function mC(t){return t.stepped?Ek:t.tension||t.cubicInterpolationMode==="monotone"?Mk:$n}function yC(t,e,s,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,s,n)&&i.closePath()),sm(t,e.options),t.stroke(i)}function bC(t,e,s,n){const{segments:i,options:r}=e,o=cc(e);for(const a of i)sm(t,r,a.style),t.beginPath(),o(t,e,a,{start:s,end:s+n-1})&&t.closePath(),t.stroke()}const vC=typeof Path2D=="function";function _C(t,e,s,n){vC&&!e.options.segment?yC(t,e,s,n):bC(t,e,s,n)}class br extends si{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;xk(this._points,n,e,i,s),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=jk(this,this.options.segment))}first(){const e=this.segments,s=this.points;return e.length&&s[e[0].start]}last(){const e=this.segments,s=this.points,n=e.length;return n&&s[e[n-1].end]}interpolate(e,s){const n=this.options,i=e[s],r=this.points,o=Lk(this,{property:s,start:i,end:i});if(!o.length)return;const a=[],l=mC(n);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:h}=o[c],f=r[d],y=r[h];if(f===y){a.push(f);continue}const p=Math.abs((i-f[s])/(y[s]-f[s])),g=l(f,y,p,n.stepped);g[s]=e[s],a.push(g)}return a.length===1?a[0]:a}pathSegment(e,s,n){return cc(this)(e,this,s,n)}path(e,s,n){const i=this.segments,r=cc(this);let o=this._loop;s=s||0,n=n||this.points.length-s;for(const a of i)o&=r(e,this,a,{start:s,end:s+n-1});return!!o}draw(e,s,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),_C(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}be(br,"id","line"),be(br,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),be(br,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),be(br,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Fh(t,e,s,n){const i=t.options,{[s]:r}=t.getProps([s],n);return Math.abs(e-r)<i.radius+i.hitRadius}class Xo extends si{constructor(s){super();be(this,"parsed");be(this,"skip");be(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,i){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(s-o,2)+Math.pow(n-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(s,n){return Fh(this,s,"x",n)}inYRange(s,n){return Fh(this,s,"y",n)}getCenterPoint(s){const{x:n,y:i}=this.getProps(["x","y"],s);return{x:n,y:i}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const i=n&&s.borderWidth||0;return(n+i)*2}draw(s,n){const i=this.options;this.skip||i.radius<.1||!Xr(this,n,this.size(i)/2)||(s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.fillStyle=i.backgroundColor,rc(s,i,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}be(Xo,"id","point"),be(Xo,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),be(Xo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const jh=(t,e)=>{let{boxHeight:s=e,boxWidth:n=e}=t;return t.usePointStyle&&(s=Math.min(s,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(e,s)}},xC=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Bh extends si{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,n){this.maxWidth=e,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=We(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(n=>e.filter(n,this.chart.data))),e.sort&&(s=s.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=yt(n.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=jh(n,r);let c,u;s.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,s,n,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=e;r.textAlign="left",r.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((y,p)=>{const g=n+s/2+r.measureText(y.text).width;(p===0||c[c.length-1]+g+2*a>o)&&(d+=u,c[c.length-(p>0?0:1)]=0,f+=u,h++),l[p]={left:0,top:f,row:h,width:g,height:i},c[c.length-1]+=g+a}),d}_fitCols(e,s,n,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,h=0,f=0,y=0,p=0;return this.legendItems.forEach((g,b)=>{const{itemWidth:x,itemHeight:k}=wC(n,s,r,g,i);b>0&&f+k+2*a>u&&(d+=h+a,c.push({width:h,height:f}),y+=h+a,p++,h=f=0),l[b]={left:y,top:f,col:p,width:x,height:k},h=Math.max(h,x),f+=k+a}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:r}}=this,o=Ci(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=pt(n,this.left+i,this.right-this.lineWidths[a]);for(const c of s)a!==c.row&&(a=c.row,l=pt(n,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=pt(n,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of s)c.col!==a&&(a=c.col,l=pt(n,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Jc(e,this),this._draw(),Xc(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:n,ctx:i}=this,{align:r,labels:o}=e,a=Je.color,l=Ci(e.rtl,this.left,this.width),c=yt(o.font),{padding:u}=o,d=c.size,h=d/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:y,boxHeight:p,itemHeight:g}=jh(o,d),b=function(j,D,$){if(isNaN(y)||y<=0||isNaN(p)||p<0)return;i.save();const P=Ee($.lineWidth,1);if(i.fillStyle=Ee($.fillStyle,a),i.lineCap=Ee($.lineCap,"butt"),i.lineDashOffset=Ee($.lineDashOffset,0),i.lineJoin=Ee($.lineJoin,"miter"),i.lineWidth=P,i.strokeStyle=Ee($.strokeStyle,a),i.setLineDash(Ee($.lineDash,[])),o.usePointStyle){const B={radius:p*Math.SQRT2/2,pointStyle:$.pointStyle,rotation:$.rotation,borderWidth:P},R=l.xPlus(j,y/2),T=D+h;Lg(i,B,R,T,o.pointStyleWidth&&y)}else{const B=D+Math.max((d-p)/2,0),R=l.leftForLtr(j,y),T=Dr($.borderRadius);i.beginPath(),Object.values(T).some(J=>J!==0)?oc(i,{x:R,y:B,w:y,h:p,radius:T}):i.rect(R,B,y,p),i.fill(),P!==0&&i.stroke()}i.restore()},x=function(j,D,$){Zr(i,$.text,j,D+g/2,c,{strikethrough:$.hidden,textAlign:l.textAlign($.textAlign)})},k=this.isHorizontal(),S=this._computeTitleHeight();k?f={x:pt(r,this.left+u,this.right-n[0]),y:this.top+u+S,line:0}:f={x:this.left+u,y:pt(r,this.top+S+u,this.bottom-s[0].height),line:0},Vg(this.ctx,e.textDirection);const C=g+u;this.legendItems.forEach((j,D)=>{i.strokeStyle=j.fontColor,i.fillStyle=j.fontColor;const $=i.measureText(j.text).width,P=l.textAlign(j.textAlign||(j.textAlign=o.textAlign)),B=y+h+$;let R=f.x,T=f.y;l.setWidth(this.width),k?D>0&&R+B+u>this.right&&(T=f.y+=C,f.line++,R=f.x=pt(r,this.left+u,this.right-n[f.line])):D>0&&T+C>this.bottom&&(R=f.x=R+s[f.line].width+u,f.line++,T=f.y=pt(r,this.top+S+u,this.bottom-s[f.line].height));const J=l.x(R);if(b(J,T,j),R=I1(P,R+y+h,k?R+B:this.right,e.rtl),x(l.x(R),T,j),k)f.x+=B+u;else if(typeof j.text!="string"){const ne=c.lineHeight;f.y+=im(j,ne)+u}else f.y+=C}),Hg(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,n=yt(s.font),i=Yt(s.padding);if(!s.display)return;const r=Ci(e.rtl,this.left,this.width),o=this.ctx,a=s.position,l=n.size/2,c=i.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=pt(e.align,d,this.right-h);else{const y=this.columnSizes.reduce((p,g)=>Math.max(p,g.height),0);u=c+pt(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const f=pt(a,d,d+h);o.textAlign=r.textAlign(Gc(a)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=n.string,Zr(o,s.text,f,u,n)}_computeTitleHeight(){const e=this.options.title,s=yt(e.font),n=Yt(e.padding);return e.display?s.lineHeight+n.height:0}_getLegendItemAt(e,s){let n,i,r;if(mr(e,this.left,this.right)&&mr(s,this.top,this.bottom)){for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],mr(e,i.left,i.left+i.width)&&mr(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const s=this.options;if(!CC(e.type,s))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=xC(i,n);i&&!r&&We(s.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!r&&We(s.onHover,[e,n,this],this)}else n&&We(s.onClick,[e,n,this],this)}}function wC(t,e,s,n,i){const r=kC(n,t,e,s),o=SC(i,n,e.lineHeight);return{itemWidth:r,itemHeight:o}}function kC(t,e,s,n){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+s.size/2+n.measureText(i).width}function SC(t,e,s){let n=t;return typeof e.text!="string"&&(n=im(e,s)),n}function im(t,e){const s=t.text?t.text.length:0;return e*s}function CC(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var OC={id:"legend",_element:Bh,start(t,e,s){const n=t.legend=new Bh({ctx:t.ctx,options:s,chart:t});qt.configure(t,n,s),qt.addBox(t,n)},stop(t){qt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const n=t.legend;qt.configure(t,n,s),n.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const n=e.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(s?0:void 0),u=Yt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class rm extends si{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const i=at(n.text)?n.text.length:1;this._padding=Yt(n.padding);const r=i*yt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:n,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=pt(a,n,r),d=s+e,c=r-n):(o.position==="left"?(u=n+e,d=pt(a,i,s),l=lt*-.5):(u=r-e,d=pt(a,s,i),l=lt*.5),c=i-s),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const n=yt(s.font),r=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Zr(e,s.text,0,0,n,{color:s.color,maxWidth:l,rotation:c,textAlign:Gc(s.align),textBaseline:"middle",translation:[o,a]})}}function TC(t,e){const s=new rm({ctx:t.ctx,options:e,chart:t});qt.configure(t,s,e),qt.addBox(t,s),t.titleBlock=s}var PC={id:"title",_element:rm,start(t,e,s){TC(t,s)},stop(t){const e=t.titleBlock;qt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const n=t.titleBlock;qt.configure(t,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const vr={average(t){if(!t.length)return!1;let e,s,n=new Set,i=0,r=0;for(e=0,s=t.length;e<s;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),i+=l.y,++r}}return r===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:i/r}},nearest(t,e){if(!t.length)return!1;let s=e.x,n=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=nc(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();s=l.x,n=l.y}return{x:s,y:n}}};function fs(t,e){return e&&(at(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ps(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function EC(t,e){const{element:s,datasetIndex:n,index:i}=e,r=t.getDatasetMeta(n).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[n].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function Nh(t,e){const s=t.chart.ctx,{body:n,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=yt(e.bodyFont),c=yt(e.titleFont),u=yt(e.footerFont),d=r.length,h=i.length,f=n.length,y=Yt(e.padding);let p=y.height,g=0,b=n.reduce((S,C)=>S+C.before.length+C.lines.length+C.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,d&&(p+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),b){const S=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;p+=f*S+(b-f)*l.lineHeight+(b-1)*e.bodySpacing}h&&(p+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let x=0;const k=function(S){g=Math.max(g,s.measureText(S).width+x)};return s.save(),s.font=c.string,je(t.title,k),s.font=l.string,je(t.beforeBody.concat(t.afterBody),k),x=e.displayColors?o+2+e.boxPadding:0,je(n,S=>{je(S.before,k),je(S.lines,k),je(S.after,k)}),x=0,s.font=u.string,je(t.footer,k),s.restore(),g+=y.width,{width:g,height:p}}function MC(t,e){const{y:s,height:n}=e;return s<n/2?"top":s>t.height-n/2?"bottom":"center"}function AC(t,e,s,n){const{x:i,width:r}=n,o=s.caretSize+s.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function RC(t,e,s,n){const{x:i,width:r}=s,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return n==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),AC(c,t,e,s)&&(c="center"),c}function Uh(t,e,s){const n=s.yAlign||e.yAlign||MC(t,s);return{xAlign:s.xAlign||e.xAlign||RC(t,e,s,n),yAlign:n}}function $C(t,e){let{x:s,width:n}=t;return e==="right"?s-=n:e==="center"&&(s-=n/2),s}function DC(t,e,s){let{y:n,height:i}=t;return e==="top"?n+=s:e==="bottom"?n-=i+s:n-=i/2,n}function Vh(t,e,s,n){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=s,c=i+r,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=Dr(o);let y=$C(e,a);const p=DC(e,l,c);return l==="center"?a==="left"?y+=c:a==="right"&&(y-=c):a==="left"?y-=Math.max(u,h)+i:a==="right"&&(y+=Math.max(d,f)+i),{x:zt(y,0,n.width-e.width),y:zt(p,0,n.height-e.height)}}function No(t,e,s){const n=Yt(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function Hh(t){return fs([],Ps(t))}function LC(t,e,s){return ti(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function zh(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const om={beforeTitle:Cs,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return s[e.dataIndex]}return""},afterTitle:Cs,beforeBody:Cs,beforeLabel:Cs,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return ze(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Cs,afterBody:Cs,beforeFooter:Cs,footer:Cs,afterFooter:Cs};function Et(t,e,s,n){const i=t[e].call(s,n);return typeof i>"u"?om[e].call(s,n):i}class uc extends si{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,r=new qg(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=LC(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:n}=s,i=Et(n,"beforeTitle",this,e),r=Et(n,"title",this,e),o=Et(n,"afterTitle",this,e);let a=[];return a=fs(a,Ps(i)),a=fs(a,Ps(r)),a=fs(a,Ps(o)),a}getBeforeBody(e,s){return Hh(Et(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:n}=s,i=[];return je(e,r=>{const o={before:[],lines:[],after:[]},a=zh(n,r);fs(o.before,Ps(Et(a,"beforeLabel",this,r))),fs(o.lines,Et(a,"label",this,r)),fs(o.after,Ps(Et(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,s){return Hh(Et(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:n}=s,i=Et(n,"beforeFooter",this,e),r=Et(n,"footer",this,e),o=Et(n,"afterFooter",this,e);let a=[];return a=fs(a,Ps(i)),a=fs(a,Ps(r)),a=fs(a,Ps(o)),a}_createItems(e){const s=this._active,n=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=s.length;l<c;++l)a.push(EC(this.chart,s[l]));return e.filter&&(a=a.filter((u,d,h)=>e.filter(u,d,h,n))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,n))),je(a,u=>{const d=zh(e.callbacks,u);i.push(Et(d,"labelColor",this,u)),r.push(Et(d,"labelPointStyle",this,u)),o.push(Et(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,s){const n=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=vr[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const l=this._size=Nh(this,n),c=Object.assign({},a,l),u=Uh(this.chart,n,c),d=Vh(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,n,i){const r=this.getCaretPosition(e,n,i);s.lineTo(r.x1,r.y1),s.lineTo(r.x2,r.y2),s.lineTo(r.x3,r.y3)}getCaretPosition(e,s,n){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Dr(a),{x:h,y:f}=e,{width:y,height:p}=s;let g,b,x,k,S,C;return r==="center"?(S=f+p/2,i==="left"?(g=h,b=g-o,k=S+o,C=S-o):(g=h+y,b=g+o,k=S-o,C=S+o),x=g):(i==="left"?b=h+Math.max(l,u)+o:i==="right"?b=h+y-Math.max(c,d)-o:b=this.caretX,r==="top"?(k=f,S=k-o,g=b-o,x=b+o):(k=f+p,S=k+o,g=b+o,x=b-o),C=k),{x1:g,x2:b,x3:x,y1:k,y2:S,y3:C}}drawTitle(e,s,n){const i=this.title,r=i.length;let o,a,l;if(r){const c=Ci(n.rtl,this.x,this.width);for(e.x=No(this,n.titleAlign,n),s.textAlign=c.textAlign(n.titleAlign),s.textBaseline="middle",o=yt(n.titleFont),a=n.titleSpacing,s.fillStyle=n.titleColor,s.font=o.string,l=0;l<r;++l)s.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,s,n,i,r){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=r,u=yt(r.bodyFont),d=No(this,"left",r),h=i.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,y=s.y+f;if(r.usePointStyle){const p={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},g=i.leftForLtr(h,c)+c/2,b=y+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,rc(e,p,g,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,rc(e,p,g,b)}else{e.lineWidth=Re(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const p=i.leftForLtr(h,c),g=i.leftForLtr(i.xPlus(h,1),c-2),b=Dr(o.borderRadius);Object.values(b).some(x=>x!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,oc(e,{x:p,y,w:c,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),oc(e,{x:g,y:y+1,w:c-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(p,y,c,l),e.strokeRect(p,y,c,l),e.fillStyle=o.backgroundColor,e.fillRect(g,y+1,c-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,s,n){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=n,d=yt(n.bodyFont);let h=d.lineHeight,f=0;const y=Ci(n.rtl,this.x,this.width),p=function($){s.fillText($,y.x(e.x+f),e.y+h/2),e.y+=h+r},g=y.textAlign(o);let b,x,k,S,C,j,D;for(s.textAlign=o,s.textBaseline="middle",s.font=d.string,e.x=No(this,g,n),s.fillStyle=n.bodyColor,je(this.beforeBody,p),f=a&&g!=="right"?o==="center"?c/2+u:c+2+u:0,S=0,j=i.length;S<j;++S){for(b=i[S],x=this.labelTextColors[S],s.fillStyle=x,je(b.before,p),k=b.lines,a&&k.length&&(this._drawColorBox(s,e,S,y,n),h=Math.max(d.lineHeight,l)),C=0,D=k.length;C<D;++C)p(k[C]),h=d.lineHeight;je(b.after,p)}f=0,h=d.lineHeight,je(this.afterBody,p),e.y-=r}drawFooter(e,s,n){const i=this.footer,r=i.length;let o,a;if(r){const l=Ci(n.rtl,this.x,this.width);for(e.x=No(this,n.footerAlign,n),e.y+=n.footerMarginTop,s.textAlign=l.textAlign(n.footerAlign),s.textBaseline="middle",o=yt(n.footerFont),s.fillStyle=n.footerColor,s.font=o.string,a=0;a<r;++a)s.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,s,n,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=n,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:y}=Dr(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(a+d,l),o==="top"&&this.drawCaret(e,s,n,i),s.lineTo(a+c-h,l),s.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&r==="right"&&this.drawCaret(e,s,n,i),s.lineTo(a+c,l+u-y),s.quadraticCurveTo(a+c,l+u,a+c-y,l+u),o==="bottom"&&this.drawCaret(e,s,n,i),s.lineTo(a+f,l+u),s.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&r==="left"&&this.drawCaret(e,s,n,i),s.lineTo(a,l+d),s.quadraticCurveTo(a,l,a+d,l),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const o=vr[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Nh(this,e),l=Object.assign({},o,this._size),c=Uh(s,e,l),u=Vh(e,l,c,s);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Yt(s.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,i,s),Vg(e,s.textDirection),r.y+=o.top,this.drawTitle(r,e,s),this.drawBody(r,e,s),this.drawFooter(r,e,s),Hg(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const n=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!da(n,i),o=this._positionChanged(i,s);(r||o)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,s,n),a=this._positionChanged(o,e),l=s||!da(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),l}_getActiveElements(e,s,n,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return s.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&o.reverse(),o}_positionChanged(e,s){const{caretX:n,caretY:i,options:r}=this,o=vr[r.position].call(this,e,s);return o!==!1&&(n!==o.x||i!==o.y)}}be(uc,"positioners",vr);var IC={id:"tooltip",_element:uc,positioners:vr,afterInit(t,e,s){s&&(t.tooltip=new uc({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:om},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const FC=(t,e,s,n)=>(typeof e=="string"?(s=t.push(e)-1,n.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function jC(t,e,s,n){const i=t.indexOf(e);if(i===-1)return FC(t,e,s,n);const r=t.lastIndexOf(e);return i!==r?s:i}const BC=(t,e)=>t===null?null:zt(Math.round(t),0,e);function qh(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class dc extends Ji{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:r}of s)n[i]===r&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(ze(e))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===e?s:jC(n,e,Ee(s,e),this._addedLabels),BC(s,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,s=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=e===0&&s===r.length-1?r:r.slice(e,s+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=s;o++)i.push({value:o});return i}getLabelForValue(e){return qh.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}be(dc,"id","category"),be(dc,"defaults",{ticks:{callback:qh}});function NC(t,e){const s=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=r||1,y=u-1,{min:p,max:g}=e,b=!ze(o),x=!ze(a),k=!ze(c),S=(g-p)/(d+1);let C=Yd((g-p)/y/f)*f,j,D,$,P;if(C<1e-14&&!b&&!x)return[{value:p},{value:g}];P=Math.ceil(g/C)-Math.floor(p/C),P>y&&(C=Yd(P*C/y/f)*f),ze(l)||(j=Math.pow(10,l),C=Math.ceil(C*j)/j),i==="ticks"?(D=Math.floor(p/C)*C,$=Math.ceil(g/C)*C):(D=p,$=g),b&&x&&r&&C1((a-o)/r,C/1e3)?(P=Math.round(Math.min((a-o)/C,u)),C=(a-o)/P,D=o,$=a):k?(D=b?o:D,$=x?a:$,P=c-1,C=($-D)/P):(P=($-D)/C,Ar(P,Math.round(P),C/1e3)?P=Math.round(P):P=Math.ceil(P));const B=Math.max(Jd(C),Jd(D));j=Math.pow(10,ze(l)?B:l),D=Math.round(D*j)/j,$=Math.round($*j)/j;let R=0;for(b&&(h&&D!==o?(s.push({value:o}),D<o&&R++,Ar(Math.round((D+R*C)*j)/j,o,Wh(o,S,t))&&R++):D<o&&R++);R<P;++R){const T=Math.round((D+R*C)*j)/j;if(x&&T>a)break;s.push({value:T})}return x&&h&&$!==a?s.length&&Ar(s[s.length-1].value,a,Wh(a,S,t))?s[s.length-1].value=a:s.push({value:a}):(!x||$===a)&&s.push({value:$}),s}function Wh(t,e,{horizontal:s,minRotation:n}){const i=In(n),r=(s?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class UC extends Ji{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return ze(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=s?i:l,a=l=>r=n?r:l;if(e){const l=qi(i),c=qi(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(i-l)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},r=this._range||this,o=NC(i,r);return e.bounds==="ticks"&&O1(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-s)/Math.max(e.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(e){return $g(e,this.chart.options.locale,this.options.ticks.format)}}class hc extends UC{determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=Gt(e)?e:0,this.max=Gt(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,n=In(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}be(hc,"id","linear"),be(hc,"defaults",{ticks:{callback:Dg.formatters.numeric}});const Ba={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rt=Object.keys(Ba);function Kh(t,e){return t-e}function Qh(t,e){if(ze(e))return null;const s=t._adapter,{parser:n,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),Gt(o)||(o=typeof n=="string"?s.parse(o,n):s.parse(o)),o===null?null:(i&&(o=i==="week"&&(Jr(r)||r===!0)?s.startOf(o,"isoWeek",r):s.startOf(o,i)),+o)}function Gh(t,e,s,n){const i=Rt.length;for(let r=Rt.indexOf(t);r<i-1;++r){const o=Ba[Rt[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-e)/(a*o.size))<=n)return Rt[r]}return Rt[i-1]}function VC(t,e,s,n,i){for(let r=Rt.length-1;r>=Rt.indexOf(s);r--){const o=Rt[r];if(Ba[o].common&&t._adapter.diff(i,n,o)>=e-1)return o}return Rt[s?Rt.indexOf(s):0]}function HC(t){for(let e=Rt.indexOf(t)+1,s=Rt.length;e<s;++e)if(Ba[Rt[e]].common)return Rt[e]}function Yh(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:n,hi:i}=Qc(s,e),r=s[n]>=e?s[n]:s[i];t[r]=!0}}function zC(t,e,s,n){const i=t._adapter,r=+i.startOf(e[0].value,n),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,n))l=s[a],l>=0&&(e[l].major=!0);return e}function Jh(t,e,s){const n=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,n.push({value:a,major:!1});return r===0||!s?n:zC(t,n,i,s)}class ba extends Ji{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const n=e.time||(e.time={}),i=this._adapter=new nS._date(e.adapters.date);i.init(s),Mr(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:Qh(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,n=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Gt(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),r=Gt(r)&&!isNaN(r)?r:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],n=e[e.length-1]),{min:s,max:n}}buildTicks(){const e=this.options,s=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=R1(i,r,o);return this._unit=s.unit||(n.autoSkip?Gh(s.minUnit,this.min,this.max,this._getLabelCapacity(r)):VC(this,a.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:HC(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),Jh(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,n=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?s=1-i:s=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?n=r:n=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;s=zt(s,0,o),n=zt(n,0,o),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const e=this._adapter,s=this.min,n=this.max,i=this.options,r=i.time,o=r.unit||Gh(r.minUnit,s,n,this._getLabelCapacity(s)),a=Ee(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Jr(l)||l===!0,u={};let d=s,h,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(n,s,o)>1e5*a)throw new Error(s+" and "+n+" are too far apart with stepSize of "+a+" "+o);const y=i.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<n;h=+e.add(h,a,o),f++)Yh(u,h,y);return(h===n||i.bounds==="ticks"||f===1)&&Yh(u,h,y),Object.keys(u).sort(Kh).map(p=>+p)}getLabelForValue(e){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(e,n.tooltipFormat):s.format(e,n.displayFormats.datetime)}format(e,s){const i=this.options.time.displayFormats,r=this._unit,o=s||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,s,n,i){const r=this.options,o=r.ticks.callback;if(o)return We(o,[e,s,n],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],h=n[s],f=c&&d&&h&&h.major;return this._adapter.format(e,i||(f?d:u))}generateTickLabels(e){let s,n,i;for(s=0,n=e.length;s<n;++s)i=e[s],i.label=this._tickFormatFunction(i.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,n=this.ctx.measureText(e).width,i=In(this.isHorizontal()?s.maxRotation:s.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*r+a*o,h:n*o+a*r}}_getLabelCapacity(e){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,r=this._tickFormatFunction(e,0,Jh(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],s,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)e=e.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,n;if(e.length)return e;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)e.push(Qh(this,i[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return D1(e.sort(Kh))}}be(ba,"id","time"),be(ba,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Uo(t,e,s){let n=0,i=t.length-1,r,o,a,l;s?(e>=t[n].pos&&e<=t[i].pos&&({lo:n,hi:i}=Fn(t,"pos",e)),{pos:r,time:a}=t[n],{pos:o,time:l}=t[i]):(e>=t[n].time&&e<=t[i].time&&({lo:n,hi:i}=Fn(t,"time",e)),{time:r,pos:a}=t[n],{time:o,pos:l}=t[i]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class Xh extends ba{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=Uo(s,this.min),this._tableRange=Uo(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:n}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=s&&c<=n&&i.push(c);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?e=this.normalize(s.concat(n)):e=s.length?s:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Uo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return Uo(this._table,n*this._tableRange+this._minPos,!0)}}be(Xh,"id","timeseries"),be(Xh,"defaults",ba.defaults);const am={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},qC={ariaLabel:{type:String},ariaDescribedby:{type:String}},WC={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...am,...qC},KC=vp[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function fi(t){return ao(t)?Te(t):t}function QC(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return ao(e)?new Proxy(t,{}):t}function GC(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function lm(t,e){t.labels=e}function cm(t,e,s){const n=[];t.datasets=e.map(i=>{const r=t.datasets.find(o=>o[s]===i[s]);return!r||!i.data||n.includes(r)?{...i}:(n.push(r),Object.assign(r,i),r)})}function YC(t,e){const s={labels:[],datasets:[]};return lm(s,t.labels),cm(s,t.datasets,e),s}const JC=Ze({props:WC,setup(t,e){let{expose:s,slots:n}=e;const i=G(null),r=Sc(null);s({chart:r});const o=()=>{if(!i.value)return;const{type:c,data:u,options:d,plugins:h,datasetIdKey:f}=t,y=YC(u,f),p=QC(y,u);r.value=new ja(i.value,{type:c,data:p,options:{...d},plugins:h})},a=()=>{const c=Te(r.value);c&&(t.destroyDelay>0?setTimeout(()=>{c.destroy(),r.value=null},t.destroyDelay):(c.destroy(),r.value=null))},l=c=>{c.update(t.updateMode)};return Oc(o),Tc(a),Ye([()=>t.options,()=>t.data],(c,u)=>{let[d,h]=c,[f,y]=u;const p=Te(r.value);if(!p)return;let g=!1;if(d){const b=fi(d),x=fi(f);b&&b!==x&&(GC(p,b),g=!0)}if(h){const b=fi(h.labels),x=fi(y.labels),k=fi(h.datasets),S=fi(y.datasets);b!==x&&(lm(p.config.data,b),g=!0),k&&k!==S&&(cm(p.config.data,k,t.datasetIdKey),g=!0)}g&&co(()=>{l(p)})},{deep:!0}),()=>Bi("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:i},[Bi("p",{},[n.default?n.default():""])])}});function XC(t,e){return ja.register(e),Ze({props:am,setup(s,n){let{expose:i}=n;const r=Sc(null),o=a=>{r.value=a==null?void 0:a.chart};return i({chart:r}),()=>Bi(JC,KC({ref:o},{type:t,...s}))}})}const ZC=XC("line",Go),eO={class:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-100 to-white py-12 px-4 sm:px-6 lg:px-8"},tO={class:"max-w-7xl w-full mx-auto bg-white rounded-xl shadow-md overflow-hidden p-8"},sO={key:0},nO={key:1},iO={class:"flex items-center justify-between mb-6"},rO={class:"text-3xl font-extrabold text-gray-900 text-center flex-1 m-0"},oO={class:"mb-4"},aO={key:0,class:"text-xs text-indigo-600 bg-indigo-100 px-2 py-0.5 rounded"},lO={key:1,class:"text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded"},cO={key:0},uO={class:"mb-4 p-4 bg-indigo-50 rounded"},dO={class:"font-mono"},hO={class:"font-mono"},fO={class:"mb-6"},pO={class:"min-w-full divide-y divide-gray-200 bg-gray-50 rounded text-sm"},gO={class:"px-4 py-2 font-mono"},mO={class:"px-4 py-2 font-mono"},yO={class:"px-4 py-2 font-mono"},bO={class:"px-4 py-2 font-mono"},vO={class:"mb-6"},_O={key:1,class:"text-center"},xO={key:2,class:"text-center text-gray-400"},wO={key:3,class:"divide-y divide-gray-200"},kO={class:"flex-1 text-gray-700 mx-4 truncate"},SO={class:"font-mono"},CO={key:4,class:"text-red-600 mt-4 text-center"},OO=Ze({__name:"CategoryDetailPage",setup(t){ja.register(PC,IC,OC,br,Xo,dc,hc);const e=Ip(),s=ye(()=>e.params.id),{data:n}=xn(),{data:i,isLoading:r,error:o}=qw(s.value),a=ye(()=>{var R;return(R=n.value)==null?void 0:R.find(T=>T.id===s.value)}),l=ye(()=>{var R;return((R=i.value)==null?void 0:R.data)||[]}),c=new Date,u=c.getMonth(),d=c.getFullYear(),h=u===0?11:u-1,f=u===0?d-1:d,y=d-1;function p(R){return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(R)}const g=ye(()=>l.value.filter(R=>{const T=new Date(R.transaction_date);return T.getFullYear()===d&&T.getMonth()===u}).reduce((R,T)=>R+Math.abs(T.amount),0)),b=ye(()=>l.value.filter(R=>{const T=new Date(R.transaction_date);return T.getFullYear()===f&&T.getMonth()===h}).reduce((R,T)=>R+Math.abs(T.amount),0)),x=ye(()=>l.value.filter(R=>new Date(R.transaction_date).getFullYear()===d).reduce((R,T)=>R+Math.abs(T.amount),0)),k=ye(()=>l.value.filter(R=>new Date(R.transaction_date).getFullYear()===y).reduce((R,T)=>R+Math.abs(T.amount),0)),S=ye(()=>{var R,T;return(R=a.value)!=null&&R.is_recurring?kg((((T=i.value)==null?void 0:T.data)||[]).map(J=>({date:J.transaction_date,amount:J.amount}))):null});function C(){if(!l.value.length)return[];const R=l.value.map(N=>new Date(N.transaction_date)),T=new Date(Math.min(...R.map(N=>N.getTime()))),J=new Date(Math.max(...R.map(N=>N.getTime())));let ne=new Date(T.getFullYear(),T.getMonth(),1);const pe=new Date(J.getFullYear(),J.getMonth(),1),W=[];for(;ne<=pe;)W.push(ne.toLocaleString("fr-FR",{month:"short",year:"2-digit"})),ne=new Date(ne.getFullYear(),ne.getMonth()+1,1);return W}const j=ye(()=>{if(!l.value.length)return[];const R=l.value.map(N=>new Date(N.transaction_date)),T=new Date(Math.min(...R.map(N=>N.getTime()))),J=new Date(Math.max(...R.map(N=>N.getTime())));let ne=new Date(T.getFullYear(),T.getMonth(),1);const pe=new Date(J.getFullYear(),J.getMonth(),1),W=[];for(;ne<=pe;)W.push(`${ne.getFullYear()}-${String(ne.getMonth()+1).padStart(2,"0")}`),ne=new Date(ne.getFullYear(),ne.getMonth()+1,1);return W}),D=ye(()=>{const R=new Map;return l.value.forEach(T=>{const J=new Date(T.transaction_date),ne=`${J.getFullYear()}-${String(J.getMonth()+1).padStart(2,"0")}`;R.set(ne,(R.get(ne)||0)+Math.abs(T.amount))}),j.value.map(T=>R.get(T)||0)}),$=ye(()=>C()),P=ye(()=>({labels:$.value,datasets:[{label:"Dépense par mois",borderColor:"#6366f1",backgroundColor:"rgba(99,102,241,0.1)",fill:!0,tension:0,data:D.value}]})),B={responsive:!0,plugins:{legend:{display:!1},title:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{callback:function(R){return p(typeof R=="number"?R:Number(R))}}}}};return(R,T)=>{const J=_n("router-link");return E(),M("div",eO,[m("div",tO,[a.value?(E(),M("div",nO,[m("div",iO,[re(J,{class:"text-indigo-600 hover:underline",to:"/categories"},{default:Se(()=>T[1]||(T[1]=[ue(" ← Retour aux catégories ")])),_:1}),m("h1",rO,q(a.value.label),1),T[2]||(T[2]=m("span",{class:"w-40"},null,-1))]),m("div",oO,[a.value.is_recurring?(E(),M("span",aO," Récurrente ")):(E(),M("span",lO," Ponctuelle "))]),a.value.is_recurring&&S.value?(E(),M("div",cO,[m("div",uO,[T[5]||(T[5]=m("div",{class:"font-semibold"},"Prochaine transaction estimée :",-1)),m("div",null,[T[3]||(T[3]=ue(" Jour du mois : ")),m("span",dO,q(S.value.estimatedDay),1)]),m("div",null,[T[4]||(T[4]=ue(" Montant estimé : ")),m("span",hO,q(S.value.nextAmount)+" €",1)])])])):ge("",!0),m("div",fO,[m("table",pO,[T[6]||(T[6]=m("thead",null,[m("tr",null,[m("th",{class:"px-4 py-2 text-left font-medium text-gray-500"},"Total mois en cours"),m("th",{class:"px-4 py-2 text-left font-medium text-gray-500"},"Total mois précédent"),m("th",{class:"px-4 py-2 text-left font-medium text-gray-500"},"Total année en cours"),m("th",{class:"px-4 py-2 text-left font-medium text-gray-500"}," Total année précédente ")])],-1)),m("tbody",null,[m("tr",null,[m("td",gO,q(p(g.value)),1),m("td",mO,q(p(b.value)),1),m("td",yO,q(p(x.value)),1),m("td",bO,q(p(k.value)),1)])])])]),m("div",vO,[re(Y(ZC),{data:P.value,options:B},null,8,["data"])]),T[7]||(T[7]=m("h3",{class:"text-lg font-semibold mt-6 mb-2"},"Transactions associées",-1)),Y(r)?(E(),M("div",_O,"Chargement...")):l.value.length===0?(E(),M("div",xO," Aucune transaction. ")):(E(),M("ul",wO,[(E(!0),M(ke,null,ht(l.value,ne=>(E(),M("li",{key:ne.id,class:"py-2 flex justify-between items-center"},[m("span",null,q(new Date(ne.transaction_date).toLocaleDateString()),1),m("span",kO,q(ne.label),1),m("span",SO,q(p(ne.amount)),1)]))),128))])),Y(o)?(E(),M("div",CO,q(Y(o).message),1)):ge("",!0)])):(E(),M("div",sO,T[0]||(T[0]=[m("p",{class:"text-center text-gray-500"},"Catégorie introuvable.",-1)])))])])}}}),TO=Ot(OO,[["__scopeId","data-v-0ec192a9"]]),PO={class:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-100 to-white py-12 px-4 sm:px-6 lg:px-8"},EO={class:"max-w-md w-full mx-auto bg-white rounded-xl shadow-md overflow-hidden p-8"},MO={key:0},AO={class:"space-y-4"},RO={class:"block text-lg text-gray-900"},$O={class:"block text-lg text-gray-900"},DO={class:"block text-lg text-gray-900"},LO={key:0},IO={class:"block text-lg text-gray-900"},FO={key:1},jO={class:"block text-lg text-indigo-600 underline"},BO={key:1,class:"text-center text-gray-500 mt-8"},NO=Ze({__name:"UserPage",setup(t){var n;const{data:e}=po(),{data:s}=xx(((n=e.value)==null?void 0:n.id)??null);return(i,r)=>{var o,a,l,c;return E(),M("div",PO,[m("div",EO,[r[6]||(r[6]=m("div",{class:"text-center mb-8"},[m("h2",{class:"text-3xl font-extrabold text-gray-900 mb-2"},"Profil utilisateur"),m("p",{class:"text-gray-600"},"Informations de votre compte")],-1)),Y(e)?(E(),M("div",MO,[m("ul",AO,[m("li",null,[r[0]||(r[0]=m("span",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),m("span",RO,q(Y(e).email),1)]),m("li",null,[r[1]||(r[1]=m("span",{class:"block text-sm font-medium text-gray-700"},"Id",-1)),m("span",$O,q((o=Y(e))==null?void 0:o.id),1)]),m("li",null,[r[2]||(r[2]=m("span",{class:"block text-sm font-medium text-gray-700"},"Nom",-1)),m("span",DO,q(((a=Y(s))==null?void 0:a.full_name)||"Non renseigné"),1)]),(l=Y(s))!=null&&l.username?(E(),M("li",LO,[r[3]||(r[3]=m("span",{class:"block text-sm font-medium text-gray-700"},"Nom d'utilisateur",-1)),m("span",IO,q(Y(s).username),1)])):ge("",!0),(c=Y(s))!=null&&c.website?(E(),M("li",FO,[r[4]||(r[4]=m("span",{class:"block text-sm font-medium text-gray-700"},"Site web",-1)),m("span",jO,q(Y(s).website),1)])):ge("",!0)])])):(E(),M("div",BO,r[5]||(r[5]=[m("p",null,"Pas connecté",-1)])))])])}}}),UO={class:"min-w-full bg-white border border-gray-200 rounded-lg overflow-hidden"},VO={class:"bg-gray-50"},HO={class:"px-2 py-2 text-center"},zO=["checked"],qO={class:"px-2 py-2 text-center"},WO=["checked","onChange"],KO={class:"px-4 py-2 font-medium text-gray-900"},QO={class:"px-4 py-2"},GO={class:"px-4 py-2"},YO={class:"px-4 py-2 text-gray-500 text-right"},JO={class:"px-4 py-2 text-center"},XO=["onClick"],ZO=["disabled","onClick"],eT=Ze({__name:"TransactionList",props:{transactions:{}},emits:["update:selected"],setup(t,{emit:e}){const s=e,n=t,i=G([]),r=ye(()=>n.transactions.length>0&&i.value.length===n.transactions.length);function o(h){h.target.checked?i.value=[...n.transactions]:i.value=[],a()}function a(){s("update:selected",i.value)}Ye(()=>n.transactions,()=>{i.value=i.value.filter(h=>n.transactions.some(f=>f.id===h.id)),a()},{immediate:!0,deep:!0});const{mutate:l,status:c}=wg();function u(h){return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(h)}function d(h){if(!h)return"";const f=new Date(h);if(isNaN(f.getTime()))return h;const y=String(f.getDate()).padStart(2,"0"),p=String(f.getMonth()+1).padStart(2,"0"),g=f.getFullYear();return`${y}/${p}/${g}`}return(h,f)=>(E(),M("table",UO,[m("thead",null,[m("tr",VO,[m("th",HO,[m("input",{checked:r.value,type:"checkbox",onChange:o},null,40,zO)]),f[0]||(f[0]=m("th",{class:"px-4 py-2 text-left font-semibold text-gray-700"},"Libellé",-1)),f[1]||(f[1]=m("th",{class:"px-4 py-2 text-left font-semibold text-gray-700"},"Catégorie",-1)),f[2]||(f[2]=m("th",{class:"px-4 py-2 text-left font-semibold text-gray-700"},"Tags",-1)),f[3]||(f[3]=m("th",{class:"px-4 py-2 text-right font-semibold text-gray-700"},"Date",-1)),f[4]||(f[4]=m("th",{class:"px-4 py-2 text-right font-semibold text-gray-700"},"Montant",-1)),f[5]||(f[5]=m("th",{class:"px-4 py-2 text-center font-semibold text-gray-700"},"Actions",-1))])]),m("tbody",null,[(E(!0),M(ke,null,ht(n.transactions,(y,p)=>(E(),M("tr",{key:y.id,class:et(["border-t border-gray-100 hover:bg-gray-50 transition",p%2===1?"bg-gray-100":""])},[m("td",qO,[m("input",{checked:i.value.some(g=>g.id===y.id),type:"checkbox",onChange:g=>{var x;if((x=g.target)==null?void 0:x.checked)i.value.some(k=>k.id===y.id)||i.value.push(y);else{const k=i.value.findIndex(S=>S.id===y.id);k!==-1&&i.value.splice(k,1)}a()}},null,40,WO)]),m("td",KO,q(y.label),1),m("td",QO,[y.category?(E(),Ht(Y(hr),{key:0,class:"text-indigo-600 hover:underline cursor-pointer",to:{path:"/transactions",query:{category:y.category.id}}},{default:Se(()=>[ue(q(y.category.label),1)]),_:2},1032,["to"])):(E(),Ht(Y(hr),{key:1,class:"text-indigo-600 hover:underline cursor-pointer",to:{path:"/transactions",query:{category:"_none"}}},{default:Se(()=>f[6]||(f[6]=[ue(" Sans catégorie ")])),_:1}))]),m("td",GO,[y.tags.length?(E(!0),M(ke,{key:0},ht(y.tags,g=>(E(),Ht(Y(hr),{key:g.id,class:"inline-block bg-gray-200 rounded px-2 py-0.5 mr-1 mb-1 text-xs font-medium text-indigo-600 hover:underline cursor-pointer",to:{path:"/transactions",query:{tag:g.id}}},{default:Se(()=>[ue(q(g.label),1)]),_:2},1032,["to"]))),128)):(E(),Ht(Y(hr),{key:1,class:"text-indigo-600 hover:underline cursor-pointer",to:{path:"/transactions",query:{tag:"_none"}}},{default:Se(()=>f[7]||(f[7]=[ue(" Sans tag ")])),_:1}))]),m("td",YO,q(d(y.transaction_date)),1),m("td",{class:et(["px-4 py-2 text-right font-mono font-semibold",y.amount<0?"text-red-600":"text-green-700"])},q(u(y.amount)),3),m("td",JO,[m("button",{class:"text-blue-600 hover:bg-blue-100 rounded-full p-1 transition-colors focus:outline-none",title:"Éditer la transaction",onClick:g=>h.$router.push({name:"transaction-edit",params:{id:y.id}})},[re(yg)],8,XO),m("button",{class:"text-red-600 hover:bg-red-100 rounded-full p-1 ml-2 transition-colors focus:outline-none",disabled:Y(c)==="pending",title:"Supprimer la transaction",onClick:g=>Y(l)(y.id)},[re(bg)],8,ZO)])],2))),128))])]))}});function mo(){return Bs({queryKey:["tags"],queryFn:async()=>{const{data:t,error:e}=await Le.from("tag").select("*").order("label",{ascending:!0});if(e)throw new Error(e.message);return t},staleTime:1e3*60*5})}function um(){const t=ut();return $t({mutationFn:async e=>{const{data:s,error:n}=await Le.from("tag").insert([e]).select().single();if(n)throw new Error(n.message);return s},onSuccess:()=>{t.invalidateQueries({queryKey:["tags"]})}})}function tT(){const t=ut();return $t({mutationFn:async e=>{const{error:s}=await Le.from("tag").delete().eq("id",e);if(s)throw new Error(s.message);return e},onSuccess:()=>{t.invalidateQueries({queryKey:["tags"]})}})}function sT(){const t=ut();return $t({mutationFn:async({id:e,updates:s})=>{const{data:n,error:i}=await Le.from("tag").update(s).eq("id",e).select().single();if(i)throw new Error(i.message);return n},onSuccess:()=>{t.invalidateQueries({queryKey:["tags"]})}})}const nT=["value"],iT=["value"],rT=Ze({__name:"TransactionFilterForm",props:{filters:{}},emits:["update:filters"],setup(t,{emit:e}){const s=t,n=e,i=G(s.filters.label),r=G(s.filters.dateMin),o=G(s.filters.dateMax),a=G(s.filters.amountMin),l=G(s.filters.amountMax),c=G(s.filters.category),u=G(s.filters.tag);Ye(()=>s.filters,y=>{i.value=y.label,r.value=y.dateMin,o.value=y.dateMax,a.value=y.amountMin,l.value=y.amountMax,c.value=y.category,u.value=y.tag},{deep:!0,immediate:!0});const{data:d}=xn(),{data:h}=mo();Ye([i,r,o,a,l,c,u],()=>{n("update:filters",{label:i.value,dateMin:r.value,dateMax:o.value,amountMin:a.value,amountMax:l.value,category:c.value,tag:u.value})},{deep:!0});function f(){i.value="",r.value="",o.value="",a.value=null,l.value=null,c.value=null,u.value=null}return(y,p)=>(E(),M("form",{class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 items-end w-full mb-6",onSubmit:p[7]||(p[7]=Ae(()=>{},["prevent"]))},[m("div",null,[p[8]||(p[8]=m("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Libellé",-1)),xe(m("input",{"onUpdate:modelValue":p[0]||(p[0]=g=>i.value=g),class:"input",placeholder:"Recherche libellé",type:"text"},null,512),[[Ke,i.value]])]),m("div",null,[p[9]||(p[9]=m("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date min",-1)),xe(m("input",{"onUpdate:modelValue":p[1]||(p[1]=g=>r.value=g),class:"input",placeholder:"Date min",type:"date"},null,512),[[Ke,r.value]])]),m("div",null,[p[10]||(p[10]=m("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date max",-1)),xe(m("input",{"onUpdate:modelValue":p[2]||(p[2]=g=>o.value=g),class:"input",placeholder:"Date max",type:"date"},null,512),[[Ke,o.value]])]),m("div",null,[p[11]||(p[11]=m("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Montant min",-1)),xe(m("input",{"onUpdate:modelValue":p[3]||(p[3]=g=>a.value=g),class:"input",placeholder:"Montant min",step:"0.01",type:"number"},null,512),[[Ke,a.value,void 0,{number:!0}]])]),m("div",null,[p[12]||(p[12]=m("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Montant max",-1)),xe(m("input",{"onUpdate:modelValue":p[4]||(p[4]=g=>l.value=g),class:"input",placeholder:"Montant max",step:"0.01",type:"number"},null,512),[[Ke,l.value,void 0,{number:!0}]])]),m("div",null,[p[15]||(p[15]=m("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Catégorie",-1)),xe(m("select",{"onUpdate:modelValue":p[5]||(p[5]=g=>c.value=g),class:"input"},[p[13]||(p[13]=m("option",{value:null},"Toutes",-1)),p[14]||(p[14]=m("option",{value:"_none"},"Sans catégorie",-1)),(E(!0),M(ke,null,ht(Y(d)??[],g=>(E(),M("option",{key:g.id,value:g.id},q(g.label),9,nT))),128))],512),[[gn,c.value]])]),m("div",null,[p[18]||(p[18]=m("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tag",-1)),xe(m("select",{"onUpdate:modelValue":p[6]||(p[6]=g=>u.value=g),class:"input"},[p[16]||(p[16]=m("option",{value:null},"Tous",-1)),p[17]||(p[17]=m("option",{value:"_none"},"Sans tag",-1)),(E(!0),M(ke,null,ht(Y(h)??[],g=>(E(),M("option",{key:g.id,value:g.id},q(g.label),9,iT))),128))],512),[[gn,u.value]])]),m("div",{class:"sm:col-span-2 md:col-span-4 flex justify-end gap-2"},[m("button",{class:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded shadow",type:"button",onClick:f}," Réinitialiser ")])],32))}}),oT=Ot(rT,[["__scopeId","data-v-b6498a5b"]]);function aT(t){return Bs({queryKey:["transaction-tags",t],queryFn:async()=>{const{data:e,error:s}=await Le.from("transaction_tag").select("tag:tag_id(*)").eq("transaction_id",t);if(s)throw new Error(s.message);return(e??[]).map(n=>n&&typeof n=="object"&&n.tag&&typeof n.tag=="object"&&!Array.isArray(n.tag)?n.tag:null).filter(Boolean)},enabled:!!t,staleTime:1e3*60*5})}function ru(){const t=ut();return $t({mutationFn:async({transaction_id:e,tag_id:s})=>{const{error:n}=await Le.from("transaction_tag").insert([{transaction_id:e,tag_id:s}]);if(n)throw new Error(n.message);return{transaction_id:e,tag_id:s}},onSuccess:(e,s)=>{t.invalidateQueries({queryKey:["transaction-tags",s.transaction_id]})}})}function dm(){const t=ut();return $t({mutationFn:async({transaction_id:e,tag_id:s})=>{const{error:n}=await Le.from("transaction_tag").delete().eq("transaction_id",e).eq("tag_id",s);if(n)throw new Error(n.message);return{transaction_id:e,tag_id:s}},onSuccess:(e,s)=>{t.invalidateQueries({queryKey:["transaction-tags",s.transaction_id]})}})}const lT={class:"mb-6 px-4 py-3 bg-orange-50 rounded-lg shadow-sm border border-orange-200"},cT={class:"flex flex-row items-center justify-between mb-2"},uT={key:0,class:"text-gray-500 mb-2"},dT={key:1},hT={class:"mb-2"},fT={class:"flex flex-col gap-4"},pT={class:"flex flex-row items-center gap-2"},gT=["value"],mT=["disabled"],yT={class:"flex flex-row items-center gap-2"},bT=["value"],vT=["disabled"],_T=["disabled"],xT=Ze({__name:"BulkActionsMenu",props:{selectedTransactions:{}},emits:["close"],setup(t,{emit:e}){const s=t,n=e,{data:i=[]}=xn(),{data:r=[]}=mo(),o=G(null),a=G(null),{mutateAsync:l}=xg(),{mutateAsync:c}=wg(),{mutateAsync:u}=ru(),{mutateAsync:d}=dm();async function h(){o.value&&(await Promise.all(s.selectedTransactions.map(g=>l({id:g.id,updates:{category_id:o.value}}))),n("close"))}async function f(){a.value&&(await Promise.all(s.selectedTransactions.map(g=>u({transaction_id:g.id,tag_id:a.value}))),n("close"))}async function y(){a.value&&(await Promise.all(s.selectedTransactions.map(g=>d({transaction_id:g.id,tag_id:a.value}))),n("close"))}async function p(){confirm("Supprimer toutes les transactions sélectionnées ?")&&(await Promise.all(s.selectedTransactions.map(g=>c(g.id))),n("close"))}return(g,b)=>(E(),M("div",lT,[m("div",cT,[b[3]||(b[3]=m("h2",{class:"text-lg font-bold text-orange-700"},"Actions en lot",-1)),m("button",{"aria-label":"Fermer",class:"text-orange-500 hover:text-orange-700 font-semibold",onClick:b[0]||(b[0]=x=>g.$emit("close"))}," ✕ ")]),g.selectedTransactions.length===0?(E(),M("div",uT," Aucune transaction sélectionnée. ")):(E(),M("div",dT,[m("p",hT,q(g.selectedTransactions.length)+" transaction(s) sélectionnée(s).",1),m("form",fT,[m("div",pT,[b[5]||(b[5]=m("label",{class:"font-medium"},"Catégorie :",-1)),xe(m("select",{"onUpdate:modelValue":b[1]||(b[1]=x=>o.value=x),class:"input"},[b[4]||(b[4]=m("option",{value:null},"Aucune",-1)),(E(!0),M(ke,null,ht(Y(i),x=>(E(),M("option",{key:x.id,value:x.id},q(x.label),9,gT))),128))],512),[[gn,o.value]]),m("button",{class:"bg-indigo-600 text-white px-3 py-1.5 rounded shadow hover:bg-indigo-700",disabled:!o.value,type:"button",onClick:h}," Attribuer à tous ",8,mT)]),m("div",yT,[b[7]||(b[7]=m("label",{class:"font-medium"},"Tag :",-1)),xe(m("select",{"onUpdate:modelValue":b[2]||(b[2]=x=>a.value=x),class:"input"},[b[6]||(b[6]=m("option",{value:null},"Choisir un tag",-1)),(E(!0),M(ke,null,ht(Y(r),x=>(E(),M("option",{key:x.id,value:x.id},q(x.label),9,bT))),128))],512),[[gn,a.value]]),m("button",{class:"bg-green-600 text-white px-3 py-1.5 rounded shadow hover:bg-green-700",disabled:!a.value,type:"button",onClick:f}," Ajouter à tous ",8,vT),m("button",{class:"bg-yellow-500 text-white px-3 py-1.5 rounded shadow hover:bg-yellow-600",disabled:!a.value,type:"button",onClick:y}," Retirer de tous ",8,_T)]),m("div",{class:"flex flex-row items-center gap-2"},[m("button",{class:"bg-red-600 text-white px-3 py-1.5 rounded shadow hover:bg-red-700",type:"button",onClick:p}," Supprimer toutes les transactions sélectionnées ")])])]))]))}}),wT=Ot(xT,[["__scopeId","data-v-115c8ea6"]]),kT={class:"mb-6 px-4 py-3 bg-indigo-50 rounded-lg shadow-sm border border-indigo-200"},ST={class:"flex flex-row items-center justify-between mb-2"},CT=["value"],OT=["value"],TT={key:0,class:"text-red-600 text-sm"},PT=["disabled"],ET=Ze({__name:"TransactionCreatePanel",emits:["close","created"],setup(t,{emit:e}){const s=e,n=G(""),i=G(""),r=G(null),o=G(null),a=G(null),l=G(""),c=G(!1),{data:u}=xn(),{data:d}=mo(),{mutateAsync:h}=_g(),{mutateAsync:f}=ru();async function y(){if(l.value="",!n.value||!i.value||r.value===null){l.value="Veuillez remplir tous les champs obligatoires.";return}c.value=!0;try{const p=await h({label:n.value,transaction_date:i.value,amount:r.value,category_id:o.value||null});a.value&&p&&p.id&&await f({transaction_id:p.id,tag_id:a.value}),s("created"),s("close"),n.value="",i.value="",r.value=null,o.value=null,a.value=null}catch(p){l.value=p instanceof Error?p.message:"Erreur lors de la création."}finally{c.value=!1}}return(p,g)=>(E(),M("div",kT,[m("div",ST,[g[6]||(g[6]=m("h2",{class:"text-lg font-bold text-indigo-700"},"Créer une transaction",-1)),m("button",{"aria-label":"Fermer",class:"text-indigo-500 hover:text-indigo-700 font-semibold",onClick:g[0]||(g[0]=b=>p.$emit("close"))}," ✕ ")]),m("form",{class:"flex flex-col gap-4",onSubmit:Ae(y,["prevent"])},[m("div",null,[g[7]||(g[7]=m("label",{class:"block text-sm font-medium mb-1"},"Libellé *",-1)),xe(m("input",{"onUpdate:modelValue":g[1]||(g[1]=b=>n.value=b),class:"input",required:"",type:"text"},null,512),[[Ke,n.value]])]),m("div",null,[g[8]||(g[8]=m("label",{class:"block text-sm font-medium mb-1"},"Date *",-1)),xe(m("input",{"onUpdate:modelValue":g[2]||(g[2]=b=>i.value=b),class:"input",required:"",type:"date"},null,512),[[Ke,i.value]])]),m("div",null,[g[9]||(g[9]=m("label",{class:"block text-sm font-medium mb-1"},"Montant *",-1)),xe(m("input",{"onUpdate:modelValue":g[3]||(g[3]=b=>r.value=b),class:"input",required:"",step:"0.01",type:"number"},null,512),[[Ke,r.value,void 0,{number:!0}]])]),m("div",null,[g[11]||(g[11]=m("label",{class:"block text-sm font-medium mb-1"},"Catégorie",-1)),xe(m("select",{"onUpdate:modelValue":g[4]||(g[4]=b=>o.value=b),class:"input"},[g[10]||(g[10]=m("option",{value:null},"Aucune",-1)),(E(!0),M(ke,null,ht(Y(u)??[],b=>(E(),M("option",{key:b.id,value:b.id},q(b.label),9,CT))),128))],512),[[gn,o.value]])]),m("div",null,[g[13]||(g[13]=m("label",{class:"block text-sm font-medium mb-1"},"Tag",-1)),xe(m("select",{"onUpdate:modelValue":g[5]||(g[5]=b=>a.value=b),class:"input"},[g[12]||(g[12]=m("option",{value:null},"Aucun",-1)),(E(!0),M(ke,null,ht(Y(d)??[],b=>(E(),M("option",{key:b.id,value:b.id},q(b.label),9,OT))),128))],512),[[gn,a.value]])]),l.value?(E(),M("div",TT,q(l.value),1)):ge("",!0),m("button",{class:"bg-indigo-600 text-white px-4 py-2 rounded shadow hover:bg-indigo-700 disabled:opacity-50",disabled:c.value},q(c.value?"Création...":"Créer"),9,PT)],32)]))}}),MT=Ot(ET,[["__scopeId","data-v-8d6589e3"]]),AT={class:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-100 to-white py-12 px-4 sm:px-6 lg:px-8"},RT={class:"max-w-7xl w-full mx-auto bg-white rounded-xl shadow-md overflow-hidden p-8"},$T={class:"flex flex-row items-center gap-4 mb-8 px-4 py-3 bg-gray-50 rounded-lg shadow-sm border border-gray-200"},DT=["disabled"],LT={key:0,class:"ml-2 inline-block bg-white text-gray-700 font-bold rounded-full px-2 text-xs border border-gray-400 align-middle"},IT={key:0,class:"ml-2 inline-block bg-white text-orange-600 font-bold rounded-full px-2 text-xs border border-orange-400 align-middle"},FT={key:0,class:"text-sm text-gray-600 ml-2"},jT={key:0},BT={class:"mb-6 px-4 py-3 bg-blue-50 rounded-lg shadow-sm border border-blue-200"},NT={key:0,class:"mb-4 p-3 bg-green-100 text-green-800 rounded text-center"},UT={key:1,class:"mb-4 p-3 bg-red-100 text-red-800 rounded text-center"},VT={key:2,class:"text-red-600 mb-4 text-center"},HT={key:3,class:"text-red-600 mb-4 text-center"},zT={key:4,class:"mb-4 mt-6 flex flex-wrap gap-2 justify-between items-center text-sm"},qT={class:"flex items-center gap-2"},WT={class:"flex items-center gap-2"},KT={key:5,style:{height:"24px"}},QT={key:6,class:"text-center"},GT={key:7},YT={class:"overflow-x-auto"},JT=Ze({__name:"TransactionsPage",setup(t){const e=ho(),s=Ip(),n=G(1),i=G(50),r=G({label:"",dateMin:"",dateMax:"",amountMin:null,amountMax:null,category:null,tag:null}),o=G(null);function a(){o.value=null}const l=G([]),c=ye(()=>{let V=0;const X=r.value;return X.label&&X.label.trim()!==""&&V++,X.dateMin&&X.dateMin.trim()!==""&&V++,X.dateMax&&X.dateMax.trim()!==""&&V++,X.amountMin!==null&&X.amountMin!==void 0&&V++,X.amountMax!==null&&X.amountMax!==void 0&&V++,X.category&&V++,X.tag&&V++,V});function u(V,X,me){const de={};return V.label&&(de.label=V.label),V.dateMin&&(de.dateMin=V.dateMin),V.dateMax&&(de.dateMax=V.dateMax),V.amountMin!==null&&V.amountMin!==void 0&&(de.amountMin=String(V.amountMin)),V.amountMax!==null&&V.amountMax!==void 0&&(de.amountMax=String(V.amountMax)),V.category&&(de.category=String(V.category)),V.tag&&(de.tag=String(V.tag)),X&&X!==1&&(de.page=String(X)),me&&me!==50&&(de.pageSize=String(me)),de}function d(V){return Array.isArray(V)?V[0]??"":typeof V=="string"?V:""}function h(V){const X=d(V);return X!==""?Number(X):null}function f(V){return{filters:{label:d(V.label),dateMin:d(V.dateMin),dateMax:d(V.dateMax),amountMin:h(V.amountMin),amountMax:h(V.amountMax),category:d(V.category)||null,tag:d(V.tag)||null},page:V.page?Number(d(V.page)):1,pageSize:V.pageSize?Number(d(V.pageSize)):50}}const{filters:y,page:p,pageSize:g}=f(s.query);r.value={...r.value,...y},n.value=p,i.value=g,Ye([r,n,i],([V,X,me])=>{const de=u(V,X,me);e.replace({query:de})},{deep:!0}),Ye(()=>s.query,V=>{const{filters:X,page:me,pageSize:de}=f(V),Qe=JSON.stringify(r.value)!==JSON.stringify({...r.value,...X}),nt=n.value!==me,bt=i.value!==de;Qe&&(r.value={...r.value,...X}),nt&&(n.value=me),bt&&(i.value=de)});const{data:b,isLoading:x,error:k,refetch:S}=vg(n,i,r,!1),C=ye(()=>{var V;return((V=b.value)==null?void 0:V.data)??[]}),j=ye(()=>{var V;return((V=b.value)==null?void 0:V.count)??0}),D=ye(()=>Math.ceil(j.value/i.value)),$=G("");function P(V){V>=1&&V<=D.value&&(n.value=V)}function B(){S()}const R=G(null),T=G(!1),J=G(""),ne=G(""),{mutateAsync:pe}=Hw(),W=()=>{R.value&&!T.value&&R.value.click()};function N(V){if(!V)return null;const X=V.split("/");if(X.length===3){const[me,de,Qe]=X;if(!isNaN(parseInt(me))&&!isNaN(parseInt(de))&&!isNaN(parseInt(Qe))&&parseInt(de)>=1&&parseInt(de)<=12&&parseInt(me)>=1&&parseInt(me)<=31&&Qe.length===4)return`${Qe}-${de.padStart(2,"0")}-${me.padStart(2,"0")}`}return console.warn(`Format de date invalide ignoré: ${V}`),null}async function se(V){var de;const me=(de=V.target.files)==null?void 0:de[0];if(me){T.value=!0,J.value="",ne.value="";try{const Qe=new FileReader;Qe.onload=async nt=>{var O;const bt=(O=nt.target)==null?void 0:O.result;if(!bt){ne.value="Impossible de lire le fichier.",T.value=!1;return}const qe=bt.split(/\r?\n/).filter(A=>A.trim()!=="");if(qe.length<2){ne.value="Le fichier CSV est vide ou ne contient pas d'en-têtes.",T.value=!1;return}const L=qe[0].split(";").map(A=>A.trim().replace(/^"|"$/g,"")),ee=L.indexOf("Date operation"),K=L.indexOf("Libelle"),ie=L.indexOf("Debit"),Me=L.indexOf("Credit");if(ee===-1||K===-1||ie===-1||Me===-1){ne.value='En-têtes manquants. Assurez-vous que le fichier contient "Date operation", "Libelle", "Debit", "Credit".',console.error("Headers found:",L),T.value=!1;return}const v=[];let _=0;for(let A=1;A<qe.length;A++){const F=qe[A].split(";").map(Z=>Z.trim().replace(/^"|"$/g,""));if(F.length<Math.max(ee,K,ie,Me)+1){console.warn(`Ligne ${A+1} ignorée: nombre de colonnes incorrect.`),_++;continue}const I=F[ee],Q=F[K],z=parseFloat(F[ie].replace(",",".")||"0"),H=parseFloat(F[Me].replace(",",".")||"0");if(!Q){console.warn(`Ligne ${A+1} ignorée: Libellé manquant.`),_++;continue}const U=N(I);if(!U){console.warn(`Ligne ${A+1} ignorée: Date invalide (${I}).`),_++;continue}const ce=H-z;v.push({label:Q,amount:ce,transaction_date:U,category_id:null})}if(v.length>0)try{const A=await pe(v);J.value=`${A.length} transaction(s) ajoutée(s). ${v.length-A.length} transaction(s) déjà existante(s). ${_} ligne(s) invalide(s) ignorée(s).`,S()}catch(A){ne.value=A.message||"Erreur lors de la création des transactions."}else J.value=`Aucune nouvelle transaction à ajouter. ${_} ligne(s) invalide(s) ignorée(s).`;T.value=!1,R.value&&(R.value.value="")},Qe.onerror=()=>{ne.value="Erreur lors de la lecture du fichier.",T.value=!1,R.value&&(R.value.value="")},Qe.readAsText(me,"UTF-8")}catch(Qe){ne.value=Qe.message||"Une erreur est survenue.",T.value=!1,R.value&&(R.value.value="")}}}return(V,X)=>(E(),M("div",AT,[m("div",RT,[X[12]||(X[12]=m("h1",{class:"text-3xl font-extrabold text-gray-900 mb-6 text-center"},"Transactions",-1)),m("div",$T,[m("button",{class:"bg-indigo-600 text-white px-3 py-1.5 rounded shadow hover:bg-indigo-700",type:"button",onClick:X[0]||(X[0]=me=>o.value=o.value==="create"?null:"create")},q(o.value==="create"?"Masquer la création":"Créer transaction"),1),m("button",{class:et(["bg-green-600 text-white px-3 py-1.5 rounded shadow hover:bg-green-700 disabled:opacity-50",{"opacity-50":T.value}]),disabled:T.value,type:"button",onClick:W},q(T.value?"Import en cours...":"Importer CSV"),11,DT),m("input",{id:"csv-upload",ref_key:"fileInputRef",ref:R,accept:".csv",class:"hidden",type:"file",onChange:se},null,544),m("button",{class:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold px-3 py-1.5 rounded shadow relative",type:"button",onClick:X[1]||(X[1]=me=>o.value=o.value==="filters"?null:"filters")},[ue(q(o.value==="filters"?"Masquer la recherche":"Afficher la recherche")+" ",1),c.value>0?(E(),M("span",LT,q(c.value),1)):ge("",!0)]),m("button",{class:"bg-orange-500 text-white px-3 py-1.5 rounded shadow hover:bg-orange-600 relative",type:"button",onClick:X[2]||(X[2]=me=>o.value=o.value==="bulk"?null:"bulk")},[ue(q(o.value==="bulk"?"Masquer les actions en lot":"Actions en lot")+" ",1),l.value.length>0?(E(),M("span",IT,q(l.value.length),1)):ge("",!0)]),T.value?(E(),M("span",FT,"Traitement...")):ge("",!0)]),re(Cr,{name:"fade"},{default:Se(()=>[o.value==="filters"?(E(),M("div",jT,[m("div",BT,[m("div",{class:"flex flex-row items-center justify-between mb-2"},[X[9]||(X[9]=m("h2",{class:"text-lg font-bold text-blue-700"},"Recherche & filtres",-1)),m("button",{"aria-label":"Fermer",class:"text-blue-500 hover:text-blue-700 font-semibold",onClick:a}," ✕ ")]),re(oT,{filters:r.value,"onUpdate:filters":X[3]||(X[3]=me=>r.value=me)},null,8,["filters"])])])):ge("",!0)]),_:1}),re(Cr,{name:"fade"},{default:Se(()=>[o.value==="bulk"?(E(),Ht(wT,{key:0,"selected-transactions":l.value,onClose:a},null,8,["selected-transactions"])):ge("",!0)]),_:1}),re(Cr,{name:"fade"},{default:Se(()=>[o.value==="create"?(E(),Ht(MT,{key:0,onClose:a,onCreated:B})):ge("",!0)]),_:1}),J.value?(E(),M("div",NT,q(J.value),1)):ge("",!0),ne.value?(E(),M("div",UT,q(ne.value),1)):ge("",!0),Y(k)?(E(),M("div",VT,q(Y(k).message),1)):ge("",!0),$.value?(E(),M("div",HT,q($.value),1)):ge("",!0),D.value>1?(E(),M("div",zT,[m("div",qT,[m("a",{class:et(["text-indigo-600 hover:underline",{"opacity-40 pointer-events-none":n.value===1}]),href:"#",onClick:X[4]||(X[4]=Ae(()=>P(n.value-1),["prevent"]))}," Précédent ",2),m("span",null,"Page "+q(n.value)+" sur "+q(D.value),1),m("a",{class:et(["text-indigo-600 hover:underline",{"opacity-40 pointer-events-none":n.value===D.value}]),href:"#",onClick:X[5]||(X[5]=Ae(()=>P(n.value+1),["prevent"]))}," Suivant ",2)]),m("div",WT,[X[11]||(X[11]=m("label",{for:"page-size-select"},"Résultats par page :",-1)),xe(m("select",{id:"page-size-select","onUpdate:modelValue":X[6]||(X[6]=me=>i.value=me),class:"border rounded px-2 py-1",onChange:X[7]||(X[7]=me=>n.value=1)},X[10]||(X[10]=[m("option",{value:10},"10",-1),m("option",{value:25},"25",-1),m("option",{value:50},"50",-1),m("option",{value:100},"100",-1),m("option",{value:500},"500",-1),m("option",{value:1e3},"1000 (max)",-1)]),544),[[gn,i.value,void 0,{number:!0}]])])])):(E(),M("div",KT)),Y(x)?(E(),M("div",QT,"Chargement...")):(E(),M("div",GT,[m("div",YT,[re(eT,{transactions:C.value,"onUpdate:selected":X[8]||(X[8]=me=>l.value=me)},null,8,["transactions"])])]))])]))}}),XT=Ot(JT,[["__scopeId","data-v-a85a0cad"]]),ZT={class:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-100 to-white py-12 px-4 sm:px-6 lg:px-8"},eP={class:"max-w-7xl w-full mx-auto bg-white rounded-xl shadow-md overflow-hidden p-8"},tP=["value"],sP={key:0,class:"text-red-600 text-center"},nP={class:"flex justify-between items-center"},iP=["disabled"],rP=Ze({__name:"TransactionCreatePage",setup(t){const e=ho(),{data:s}=xn(),n=G(""),i=G(0),r=G(""),o=G(""),a=G(""),{mutateAsync:l,isPending:c}=_g(),u=async()=>{a.value="";try{await l({label:n.value,amount:i.value,transaction_date:r.value,category_id:o.value||null}),await e.push("/transactions")}catch(d){a.value=d instanceof Error?d.message:"Erreur lors de la création"}};return(d,h)=>(E(),M("div",ZT,[m("div",eP,[h[10]||(h[10]=m("h1",{class:"text-2xl font-bold mb-6 text-center"},"Créer une transaction",-1)),m("form",{class:"space-y-4",onSubmit:Ae(u,["prevent"])},[m("div",null,[h[5]||(h[5]=m("label",{class:"block mb-1"},"Libellé",-1)),xe(m("input",{"onUpdate:modelValue":h[0]||(h[0]=f=>n.value=f),class:"w-full border rounded px-3 py-2",required:""},null,512),[[Ke,n.value]])]),m("div",null,[h[6]||(h[6]=m("label",{class:"block mb-1"},"Montant (€)",-1)),xe(m("input",{"onUpdate:modelValue":h[1]||(h[1]=f=>i.value=f),class:"w-full border rounded px-3 py-2",required:"",type:"number"},null,512),[[Ke,i.value,void 0,{number:!0}]])]),m("div",null,[h[7]||(h[7]=m("label",{class:"block mb-1"},"Date",-1)),xe(m("input",{"onUpdate:modelValue":h[2]||(h[2]=f=>r.value=f),class:"w-full border rounded px-3 py-2",required:"",type:"date"},null,512),[[Ke,r.value]])]),m("div",null,[h[9]||(h[9]=m("label",{class:"block mb-1"},"Catégorie",-1)),xe(m("select",{"onUpdate:modelValue":h[3]||(h[3]=f=>o.value=f),class:"w-full border rounded px-3 py-2"},[h[8]||(h[8]=m("option",{value:""},"Aucune",-1)),(E(!0),M(ke,null,ht(Y(s),f=>(E(),M("option",{key:f.id,value:f.id},q(f.label),9,tP))),128))],512),[[gn,o.value]])]),a.value?(E(),M("div",sP,q(a.value),1)):ge("",!0),m("div",nP,[m("button",{class:"text-gray-600",type:"button",onClick:h[4]||(h[4]=()=>Y(e).push("/transactions"))}," Annuler "),m("button",{class:"bg-indigo-600 text-white px-4 py-2 rounded shadow",disabled:Y(c),type:"submit"}," Créer ",8,iP)])],32)])]))}}),oP=Ot(rP,[["__scopeId","data-v-e06399cd"]]);function ml(t){return t===0?!1:Array.isArray(t)&&t.length===0?!0:!t}function aP(t){return(...e)=>!t(...e)}function lP(t,e){return t===void 0&&(t="undefined"),t===null&&(t="null"),t===!1&&(t="false"),t.toString().toLowerCase().indexOf(e.trim())!==-1}function cP(t){return t.filter(e=>!e.$isLabel)}function yl(t,e){return s=>s.reduce((n,i)=>i[t]&&i[t].length?(n.push({$groupLabel:i[e],$isLabel:!0}),n.concat(i[t])):n,[])}const Zh=(...t)=>e=>t.reduce((s,n)=>n(s),e);var uP={data(){return{search:"",isOpen:!1,preferredOpenDirection:"below",optimizedHeight:this.maxHeight}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default(t,e){return ml(t)?"":e?t[e]:t}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},tagPosition:{type:String,default:"top"},max:{type:[Number,Boolean],default:!1},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},groupSelect:{type:Boolean,default:!1},blockKeys:{type:Array,default(){return[]}},preserveSearch:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1},preventAutofocus:{type:Boolean,default:!1},filteringSortFunc:{type:Function,default:null}},mounted(){!this.multiple&&this.max&&console.warn("[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false."),this.preselectFirst&&!this.internalValue.length&&this.options.length&&this.select(this.filteredOptions[0])},computed:{internalValue(){return this.modelValue||this.modelValue===0?Array.isArray(this.modelValue)?this.modelValue:[this.modelValue]:[]},filteredOptions(){const t=this.search||"",e=t.toLowerCase().trim();let s=this.options.concat();return this.internalSearch?s=this.groupValues?this.filterAndFlat(s,e,this.label):this.filterOptions(s,e,this.label,this.customLabel):s=this.groupValues?yl(this.groupValues,this.groupLabel)(s):s,s=this.hideSelected?s.filter(aP(this.isSelected)):s,this.taggable&&e.length&&!this.isExistingOption(e)&&(this.tagPosition==="bottom"?s.push({isTag:!0,label:t}):s.unshift({isTag:!0,label:t})),s.slice(0,this.optionsLimit)},valueKeys(){return this.trackBy?this.internalValue.map(t=>t[this.trackBy]):this.internalValue},optionKeys(){return(this.groupValues?this.flatAndStrip(this.options):this.options).map(e=>this.customLabel(e,this.label).toString().toLowerCase())},currentOptionLabel(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue.length?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:{handler(){this.resetAfter&&this.internalValue.length&&(this.search="",this.$emit("update:modelValue",this.multiple?[]:null))},deep:!0},search(){this.$emit("search-change",this.search)}},emits:["open","search-change","close","select","update:modelValue","remove","tag"],methods:{getValue(){return this.multiple?this.internalValue:this.internalValue.length===0?null:this.internalValue[0]},filterAndFlat(t,e,s){return Zh(this.filterGroups(e,s,this.groupValues,this.groupLabel,this.customLabel),yl(this.groupValues,this.groupLabel))(t)},flatAndStrip(t){return Zh(yl(this.groupValues,this.groupLabel),cP)(t)},updateSearch(t){this.search=t},isExistingOption(t){return this.options?this.optionKeys.indexOf(t)>-1:!1},isSelected(t){const e=this.trackBy?t[this.trackBy]:t;return this.valueKeys.indexOf(e)>-1},isOptionDisabled(t){return!!t.$isDisabled},getOptionLabel(t){if(ml(t))return"";if(t.isTag)return t.label;if(t.$isLabel)return t.$groupLabel;const e=this.customLabel(t,this.label);return ml(e)?"":e},select(t,e){if(t.$isLabel&&this.groupSelect){this.selectGroup(t);return}if(!(this.blockKeys.indexOf(e)!==-1||this.disabled||t.$isDisabled||t.$isLabel)&&!(this.max&&this.multiple&&this.internalValue.length===this.max)&&!(e==="Tab"&&!this.pointerDirty)){if(t.isTag)this.$emit("tag",t.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{if(this.isSelected(t)){e!=="Tab"&&this.removeElement(t);return}this.multiple?this.$emit("update:modelValue",this.internalValue.concat([t])):this.$emit("update:modelValue",t),this.$emit("select",t,this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},selectGroup(t){const e=this.options.find(s=>s[this.groupLabel]===t.$groupLabel);if(e){if(this.wholeGroupSelected(e)){this.$emit("remove",e[this.groupValues],this.id);const s=this.trackBy?e[this.groupValues].map(i=>i[this.trackBy]):e[this.groupValues],n=this.internalValue.filter(i=>s.indexOf(this.trackBy?i[this.trackBy]:i)===-1);this.$emit("update:modelValue",n)}else{const s=e[this.groupValues].filter(n=>!(this.isOptionDisabled(n)||this.isSelected(n)));this.max&&s.splice(this.max-this.internalValue.length),this.$emit("select",s,this.id),this.$emit("update:modelValue",this.internalValue.concat(s))}this.closeOnSelect&&this.deactivate()}},wholeGroupSelected(t){return t[this.groupValues].every(e=>this.isSelected(e)||this.isOptionDisabled(e))},wholeGroupDisabled(t){return t[this.groupValues].every(this.isOptionDisabled)},removeElement(t,e=!0){if(this.disabled||t.$isDisabled)return;if(!this.allowEmpty&&this.internalValue.length<=1){this.deactivate();return}const s=typeof t=="object"?this.valueKeys.indexOf(t[this.trackBy]):this.valueKeys.indexOf(t);if(this.multiple){const n=this.internalValue.slice(0,s).concat(this.internalValue.slice(s+1));this.$emit("update:modelValue",n)}else this.$emit("update:modelValue",null);this.$emit("remove",t,this.id),this.closeOnSelect&&e&&this.deactivate()},removeLastElement(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.internalValue.length&&this.removeElement(this.internalValue[this.internalValue.length-1],!1)},activate(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.preserveSearch||(this.search=""),this.preventAutofocus||this.$nextTick(()=>this.$refs.search&&this.$refs.search.focus())):this.preventAutofocus||typeof this.$el<"u"&&this.$el.focus(),this.$emit("open",this.id))},deactivate(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search!==null&&typeof this.$refs.search<"u"&&this.$refs.search.blur():typeof this.$el<"u"&&this.$el.blur(),this.preserveSearch||(this.search=""),this.$emit("close",this.getValue(),this.id))},toggle(){this.isOpen?this.deactivate():this.activate()},adjustPosition(){if(typeof window>"u")return;const t=this.$el.getBoundingClientRect().top,e=window.innerHeight-this.$el.getBoundingClientRect().bottom;e>this.maxHeight||e>t||this.openDirection==="below"||this.openDirection==="bottom"?(this.preferredOpenDirection="below",this.optimizedHeight=Math.min(e-40,this.maxHeight)):(this.preferredOpenDirection="above",this.optimizedHeight=Math.min(t-40,this.maxHeight))},filterOptions(t,e,s,n){return e?t.filter(i=>lP(n(i,s),e)).sort((i,r)=>typeof this.filteringSortFunc=="function"?this.filteringSortFunc(i,r):n(i,s).length-n(r,s).length):t},filterGroups(t,e,s,n,i){return r=>r.map(o=>{if(!o[s])return console.warn("Options passed to vue-multiselect do not contain groups, despite the config."),[];const a=this.filterOptions(o[s],t,e,i);return a.length?{[n]:o[n],[s]:a}:[]})}}},dP={data(){return{pointer:0,pointerDirty:!1}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition(){return this.pointer*this.optionHeight},visibleElements(){return this.optimizedHeight/this.optionHeight}},watch:{filteredOptions(){this.pointerAdjust()},isOpen(){this.pointerDirty=!1},pointer(){this.$refs.search&&this.$refs.search.setAttribute("aria-activedescendant",this.id+"-"+this.pointer.toString())}},methods:{optionHighlight(t,e){return{"multiselect__option--highlight":t===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(e)}},groupHighlight(t,e){if(!this.groupSelect)return["multiselect__option--disabled",{"multiselect__option--group":e.$isLabel}];const s=this.options.find(n=>n[this.groupLabel]===e.$groupLabel);return s&&!this.wholeGroupDisabled(s)?["multiselect__option--group",{"multiselect__option--highlight":t===this.pointer&&this.showPointer},{"multiselect__option--group-selected":this.wholeGroupSelected(s)}]:"multiselect__option--disabled"},addPointerElement({key:t}="Enter"){this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],t),this.pointerReset()},pointerForward(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-(this.visibleElements-1)*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()),this.pointerDirty=!0},pointerBackward(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerBackward()):this.filteredOptions[this.pointer]&&this.filteredOptions[0].$isLabel&&!this.groupSelect&&this.pointerForward(),this.pointerDirty=!0},pointerReset(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0),this.filteredOptions.length>0&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()},pointerSet(t){this.pointer=t,this.pointerDirty=!0}}},va={name:"vue-multiselect",mixins:[uP,dP],compatConfig:{MODE:3,ATTR_ENUMERATED_COERCION:!1},props:{name:{type:String,default:""},modelValue:{type:null,default(){return[]}},selectLabel:{type:String,default:"Press enter to select"},selectGroupLabel:{type:String,default:"Press enter to select group"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},deselectGroupLabel:{type:String,default:"Press enter to deselect group"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:t=>`and ${t} more`},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},spellcheck:{type:Boolean,default:!1},openDirection:{type:String,default:""},showNoOptions:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!0},tabindex:{type:Number,default:0},required:{type:Boolean,default:!1}},computed:{hasOptionGroup(){return this.groupValues&&this.groupLabel&&this.groupSelect},isSingleLabelVisible(){return(this.singleValue||this.singleValue===0)&&(!this.isOpen||!this.searchable)&&!this.visibleValues.length},isPlaceholderVisible(){return!this.internalValue.length&&(!this.searchable||!this.isOpen)},visibleValues(){return this.multiple?this.internalValue.slice(0,this.limit):[]},singleValue(){return this.internalValue[0]},deselectLabelText(){return this.showLabels?this.deselectLabel:""},deselectGroupLabelText(){return this.showLabels?this.deselectGroupLabel:""},selectLabelText(){return this.showLabels?this.selectLabel:""},selectGroupLabelText(){return this.showLabels?this.selectGroupLabel:""},selectedLabelText(){return this.showLabels?this.selectedLabel:""},inputStyle(){return this.searchable||this.multiple&&this.modelValue&&this.modelValue.length?this.isOpen?{width:"100%"}:{width:"0",position:"absolute",padding:"0"}:""},contentStyle(){return this.options.length?{display:"inline-block"}:{display:"block"}},isAbove(){return this.openDirection==="above"||this.openDirection==="top"?!0:this.openDirection==="below"||this.openDirection==="bottom"?!1:this.preferredOpenDirection==="above"},showSearchInput(){return this.searchable&&(this.hasSingleSelectedSlot&&(this.visibleSingleValue||this.visibleSingleValue===0)?this.isOpen:!0)},isRequired(){return this.required===!1?!1:this.internalValue.length<=0}}};const hP=["tabindex","aria-expanded","aria-owns","aria-activedescendant"],fP={ref:"tags",class:"multiselect__tags"},pP={class:"multiselect__tags-wrap"},gP=["textContent"],mP=["onKeypress","onMousedown"],yP=["textContent"],bP={class:"multiselect__spinner"},vP=["name","id","spellcheck","placeholder","required","value","disabled","tabindex","aria-label","aria-controls"],_P=["id","aria-multiselectable"],xP={key:0},wP={class:"multiselect__option"},kP=["aria-selected","id","role"],SP=["onClick","onMouseenter","data-select","data-selected","data-deselect"],CP=["data-select","data-deselect","onMouseenter","onMousedown"],OP={class:"multiselect__option"},TP={class:"multiselect__option"};function PP(t,e,s,n,i,r){return E(),M("div",{tabindex:t.searchable?-1:s.tabindex,class:et([{"multiselect--active":t.isOpen,"multiselect--disabled":s.disabled,"multiselect--above":r.isAbove,"multiselect--has-options-group":r.hasOptionGroup},"multiselect"]),onFocus:e[14]||(e[14]=o=>t.activate()),onBlur:e[15]||(e[15]=o=>t.searchable?!1:t.deactivate()),onKeydown:[e[16]||(e[16]=us(Ae(o=>t.pointerForward(),["self","prevent"]),["down"])),e[17]||(e[17]=us(Ae(o=>t.pointerBackward(),["self","prevent"]),["up"]))],onKeypress:e[18]||(e[18]=us(Ae(o=>t.addPointerElement(o),["stop","self"]),["enter","tab"])),onKeyup:e[19]||(e[19]=us(o=>t.deactivate(),["esc"])),role:"combobox","aria-expanded":t.isOpen,"aria-owns":"listbox-"+t.id,"aria-activedescendant":t.isOpen&&t.pointer!==null?t.id+"-"+t.pointer:null},[vt(t.$slots,"caret",{toggle:t.toggle},()=>[m("div",{onMousedown:e[0]||(e[0]=Ae(o=>t.toggle(),["prevent","stop"])),class:"multiselect__select"},null,32)]),vt(t.$slots,"clear",{search:t.search}),m("div",fP,[vt(t.$slots,"selection",{search:t.search,remove:t.removeElement,values:r.visibleValues,isOpen:t.isOpen},()=>[xe(m("div",pP,[(E(!0),M(ke,null,ht(r.visibleValues,(o,a)=>vt(t.$slots,"tag",{option:o,search:t.search,remove:t.removeElement},()=>[(E(),M("span",{class:"multiselect__tag",key:a,onMousedown:e[1]||(e[1]=Ae(()=>{},["prevent"]))},[m("span",{textContent:q(t.getOptionLabel(o))},null,8,gP),m("i",{tabindex:"1",onKeypress:us(Ae(l=>t.removeElement(o),["prevent"]),["enter"]),onMousedown:Ae(l=>t.removeElement(o),["prevent"]),class:"multiselect__tag-icon"},null,40,mP)],32))])),256))],512),[[tr,r.visibleValues.length>0]]),t.internalValue&&t.internalValue.length>s.limit?vt(t.$slots,"limit",{key:0},()=>[m("strong",{class:"multiselect__strong",textContent:q(s.limitText(t.internalValue.length-s.limit))},null,8,yP)]):ge("v-if",!0)]),re(Cr,{name:"multiselect__loading"},{default:Se(()=>[vt(t.$slots,"loading",{},()=>[xe(m("div",bP,null,512),[[tr,s.loading]])])]),_:3}),t.searchable?(E(),M("input",{key:0,ref:"search",name:s.name,id:t.id,type:"text",autocomplete:"off",spellcheck:s.spellcheck,placeholder:t.placeholder,required:r.isRequired,style:vi(r.inputStyle),value:t.search,disabled:s.disabled,tabindex:s.tabindex,"aria-label":s.name+"-searchbox",onInput:e[2]||(e[2]=o=>t.updateSearch(o.target.value)),onFocus:e[3]||(e[3]=Ae(o=>t.activate(),["prevent"])),onBlur:e[4]||(e[4]=Ae(o=>t.deactivate(),["prevent"])),onKeyup:e[5]||(e[5]=us(o=>t.deactivate(),["esc"])),onKeydown:[e[6]||(e[6]=us(Ae(o=>t.pointerForward(),["prevent"]),["down"])),e[7]||(e[7]=us(Ae(o=>t.pointerBackward(),["prevent"]),["up"])),e[9]||(e[9]=us(Ae(o=>t.removeLastElement(),["stop"]),["delete"]))],onKeypress:e[8]||(e[8]=us(Ae(o=>t.addPointerElement(o),["prevent","stop","self"]),["enter"])),class:"multiselect__input","aria-controls":"listbox-"+t.id},null,44,vP)):ge("v-if",!0),r.isSingleLabelVisible?(E(),M("span",{key:1,class:"multiselect__single",onMousedown:e[10]||(e[10]=Ae((...o)=>t.toggle&&t.toggle(...o),["prevent"]))},[vt(t.$slots,"singleLabel",{option:r.singleValue},()=>[ue(q(t.currentOptionLabel),1)])],32)):ge("v-if",!0),r.isPlaceholderVisible?(E(),M("span",{key:2,class:"multiselect__placeholder",onMousedown:e[11]||(e[11]=Ae((...o)=>t.toggle&&t.toggle(...o),["prevent"]))},[vt(t.$slots,"placeholder",{},()=>[ue(q(t.placeholder),1)])],32)):ge("v-if",!0)],512),re(Cr,{name:"multiselect",persisted:""},{default:Se(()=>[xe(m("div",{class:"multiselect__content-wrapper",onFocus:e[12]||(e[12]=(...o)=>t.activate&&t.activate(...o)),tabindex:"-1",onMousedown:e[13]||(e[13]=Ae(()=>{},["prevent"])),style:vi({maxHeight:t.optimizedHeight+"px"}),ref:"list"},[m("ul",{class:"multiselect__content",style:vi(r.contentStyle),role:"listbox",id:"listbox-"+t.id,"aria-multiselectable":t.multiple},[vt(t.$slots,"beforeList"),t.multiple&&t.max===t.internalValue.length?(E(),M("li",xP,[m("span",wP,[vt(t.$slots,"maxElements",{},()=>[ue("Maximum of "+q(t.max)+" options selected. First remove a selected option to select another.",1)])])])):ge("v-if",!0),!t.max||t.internalValue.length<t.max?(E(!0),M(ke,{key:1},ht(t.filteredOptions,(o,a)=>(E(),M("li",{class:"multiselect__element",key:a,"aria-selected":t.isSelected(o),id:t.id+"-"+a,role:o&&(o.$isLabel||o.$isDisabled)?null:"option"},[o&&(o.$isLabel||o.$isDisabled)?ge("v-if",!0):(E(),M("span",{key:0,class:et([t.optionHighlight(a,o),"multiselect__option"]),onClick:Ae(l=>t.select(o),["stop"]),onMouseenter:Ae(l=>t.pointerSet(a),["self"]),"data-select":o&&o.isTag?t.tagPlaceholder:r.selectLabelText,"data-selected":r.selectedLabelText,"data-deselect":r.deselectLabelText},[vt(t.$slots,"option",{option:o,search:t.search,index:a},()=>[m("span",null,q(t.getOptionLabel(o)),1)])],42,SP)),o&&(o.$isLabel||o.$isDisabled)?(E(),M("span",{key:1,"data-select":t.groupSelect&&r.selectGroupLabelText,"data-deselect":t.groupSelect&&r.deselectGroupLabelText,class:et([t.groupHighlight(a,o),"multiselect__option"]),onMouseenter:Ae(l=>t.groupSelect&&t.pointerSet(a),["self"]),onMousedown:Ae(l=>t.selectGroup(o),["prevent"])},[vt(t.$slots,"option",{option:o,search:t.search,index:a},()=>[m("span",null,q(t.getOptionLabel(o)),1)])],42,CP)):ge("v-if",!0)],8,kP))),128)):ge("v-if",!0),xe(m("li",null,[m("span",OP,[vt(t.$slots,"noResult",{search:t.search},()=>[e[20]||(e[20]=ue("No elements found. Consider changing the search query."))])])],512),[[tr,s.showNoResults&&t.filteredOptions.length===0&&t.search&&!s.loading]]),xe(m("li",null,[m("span",TP,[vt(t.$slots,"noOptions",{},()=>[e[21]||(e[21]=ue("List is empty."))])])],512),[[tr,s.showNoOptions&&(t.options.length===0||r.hasOptionGroup===!0&&t.filteredOptions.length===0)&&!t.search&&!s.loading]]),vt(t.$slots,"afterList")],12,_P)],36),[[tr,t.isOpen]])]),_:3})],42,hP)}va.render=PP;const EP={class:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-100 to-white py-12 px-4 sm:px-6 lg:px-8"},MP={class:"max-w-7xl w-full mx-auto bg-white rounded-xl shadow-md overflow-hidden p-8"},AP={key:0,class:"text-red-600 text-center"},RP={class:"flex justify-between items-center"},$P=["disabled"],DP=Ze({__name:"TransactionEditPage",props:{id:{}},setup(t){const e=t,s=ho(),{data:n}=zw(e.id),{mutateAsync:i,isPending:r}=xg(),{data:o}=xn(),{data:a=[]}=mo(),{mutateAsync:l}=um(),{mutateAsync:c}=Hc(),{data:u=[]}=aT(e.id),{mutateAsync:d}=ru(),{mutateAsync:h}=dm(),f=G(""),y=G(0),p=G(""),g=G(""),b=G(""),x=G(null),k=G([]),S=G(null);Ye(n,$=>{var P;$&&(f.value=$.label,y.value=$.amount,p.value=$.transaction_date,g.value=$.category_id||"",x.value=((P=o.value)==null?void 0:P.find(B=>B.id===$.category_id))||null,k.value=Array.isArray(u)?u:(u==null?void 0:u.value)??[])},{immediate:!0});async function C($){const P=await c({label:$});S.value=P.id}Ye(()=>o.value,$=>{if(S.value&&$){const P=$.find(B=>B.id===S.value);P&&(x.value=P,g.value=P.id,S.value=null)}});async function j($){const P=await l({label:$});k.value=[...k.value,P],await d({transaction_id:e.id,tag_id:P.id})}Ye(k,async($,P)=>{for(const B of $)P.find(R=>R.id===B.id)||await d({transaction_id:e.id,tag_id:B.id});for(const B of P)$.find(R=>R.id===B.id)||await h({transaction_id:e.id,tag_id:B.id})},{deep:!0});const D=async()=>{var $;b.value="";try{await i({id:e.id,updates:{label:f.value,amount:y.value,transaction_date:p.value,category_id:(($=x.value)==null?void 0:$.id)||null}}),await s.push("/transactions")}catch(P){b.value=P instanceof Error?P.message:"Erreur lors de la modification"}};return($,P)=>(E(),M("div",EP,[m("div",MP,[P[11]||(P[11]=m("h1",{class:"text-2xl font-bold mb-6 text-center"},"Modifier la transaction",-1)),m("form",{class:"space-y-4",onSubmit:Ae(D,["prevent"])},[m("div",null,[P[6]||(P[6]=m("label",{class:"block mb-1"},"Libellé",-1)),xe(m("input",{"onUpdate:modelValue":P[0]||(P[0]=B=>f.value=B),class:"w-full border rounded px-3 py-2",required:""},null,512),[[Ke,f.value]])]),m("div",null,[P[7]||(P[7]=m("label",{class:"block mb-1"},"Montant (€)",-1)),xe(m("input",{"onUpdate:modelValue":P[1]||(P[1]=B=>y.value=B),class:"w-full border rounded px-3 py-2",required:"",step:"0.01",type:"number"},null,512),[[Ke,y.value,void 0,{number:!0}]])]),m("div",null,[P[8]||(P[8]=m("label",{class:"block mb-1"},"Date",-1)),xe(m("input",{"onUpdate:modelValue":P[2]||(P[2]=B=>p.value=B),class:"w-full border rounded px-3 py-2",required:"",type:"date"},null,512),[[Ke,p.value]])]),m("div",null,[P[9]||(P[9]=m("label",{class:"block mb-1"},"Catégorie",-1)),re(Y(va),{modelValue:x.value,"onUpdate:modelValue":P[3]||(P[3]=B=>x.value=B),"allow-empty":!0,class:"w-full",label:"label",options:Y(o)??[],placeholder:"Sélectionner ou créer une catégorie",taggable:!0,"track-by":"id",onTag:C},null,8,["modelValue","options"])]),m("div",null,[P[10]||(P[10]=m("label",{class:"block mb-1"},"Tags",-1)),re(Y(va),{modelValue:k.value,"onUpdate:modelValue":P[4]||(P[4]=B=>k.value=B),class:"w-full",label:"label",multiple:!0,options:Y(a)??[],placeholder:"Ajouter ou créer des tags",taggable:!0,"track-by":"id",onTag:j},null,8,["modelValue","options"])]),b.value?(E(),M("div",AP,q(b.value),1)):ge("",!0),m("div",RP,[m("button",{class:"text-gray-600",type:"button",onClick:P[5]||(P[5]=()=>Y(s).push("/transactions"))}," Annuler "),m("button",{class:"bg-indigo-600 text-white px-4 py-2 rounded shadow",disabled:Y(r),type:"submit"}," Enregistrer ",8,$P)])],32)])]))}}),LP=Ot(DP,[["__scopeId","data-v-d0448ba1"]]),IP={class:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-100 to-white py-12 px-4 sm:px-6 lg:px-8"},FP={class:"max-w-7xl w-full mx-auto bg-white rounded-xl shadow-md overflow-hidden p-8"},jP=["disabled"],BP=["disabled"],NP={key:0,class:"text-red-600 mb-4 text-center"},UP={key:1,class:"text-center"},VP={key:0},HP={key:1,class:"flex gap-2 flex-1"},zP={key:2,class:"flex gap-2"},qP=["onClick"],WP=["onClick"],KP=Ze({__name:"TagsPage",setup(t){const{data:e,isLoading:s,error:n}=mo(),{mutateAsync:i,isPending:r}=um(),{mutateAsync:o}=tT(),{mutateAsync:a}=sT(),l=G(""),c=G(null),u=G(""),d=async()=>{l.value.trim()&&(await i({label:l.value}),l.value="")},h=p=>{c.value=p.id,u.value=p.label},f=async()=>{u.value.trim()&&c.value&&(await a({id:c.value,updates:{label:u.value}}),c.value=null,u.value="")},y=async p=>{confirm("Supprimer ce tag ?")&&await o(p)};return(p,g)=>(E(),M("div",IP,[m("div",FP,[g[3]||(g[3]=m("h1",{class:"text-3xl font-extrabold text-gray-900 mb-6 text-center"},"Tags",-1)),m("form",{class:"flex gap-2 mb-6",onSubmit:Ae(d,["prevent"])},[xe(m("input",{"onUpdate:modelValue":g[0]||(g[0]=b=>l.value=b),class:"flex-1 border rounded px-3 py-2",disabled:Y(r),placeholder:"Nouveau tag",type:"text"},null,8,jP),[[Ke,l.value]]),m("button",{class:"bg-indigo-600 text-white px-4 py-2 rounded shadow",disabled:Y(r)||!l.value.trim(),type:"submit"}," Ajouter ",8,BP)],32),Y(n)?(E(),M("div",NP,q(Y(n)),1)):ge("",!0),Y(s)?(E(),M("div",UP,"Chargement...")):ge("",!0),m("ul",null,[(E(!0),M(ke,null,ht(Y(e),b=>(E(),M("li",{key:b.id,class:"flex items-center justify-between py-2 border-b last:border-b-0"},[c.value!==b.id?(E(),M("div",VP,q(b.label),1)):(E(),M("div",HP,[xe(m("input",{"onUpdate:modelValue":g[1]||(g[1]=x=>u.value=x),class:"flex-1 border rounded px-2 py-1",type:"text"},null,512),[[Ke,u.value]]),m("button",{class:"bg-green-600 text-white px-2 py-1 rounded shadow",onClick:f}," Valider "),m("button",{class:"bg-gray-300 px-2 py-1 rounded",onClick:g[2]||(g[2]=()=>{c.value=null,u.value=""})}," Annuler ")])),c.value!==b.id?(E(),M("div",zP,[m("button",{class:"text-blue-600 hover:underline",onClick:()=>h(b)}," Modifier ",8,qP),m("button",{class:"text-red-600 hover:underline",onClick:()=>y(b.id)}," Supprimer ",8,WP)])):ge("",!0)]))),128))])])]))}}),QP=Ot(KP,[["__scopeId","data-v-a5fb26e5"]]),GP={class:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-100 to-white py-12 px-4 sm:px-6 lg:px-8"},YP={class:"max-w-7xl w-full mx-auto bg-white rounded-xl shadow-md overflow-hidden p-8"},JP={class:"mb-6 flex flex-col sm:flex-row gap-4 items-center justify-between relative"},XP={class:"mb-4 flex items-center gap-4"},ZP={class:"flex items-center gap-2"},eE={class:"flex flex-col sm:flex-row gap-4 items-center justify-between mb-6 sm:space-x-4 whitespace-nowrap"},tE=["disabled"],sE={class:"overflow-x-auto mb-6"},nE={class:"min-w-full divide-y divide-gray-200"},iE={class:"bg-gray-50"},rE={class:"px-4 py-2 text-center"},oE=["aria-label","checked"],aE={class:"bg-white divide-y divide-gray-200"},lE={class:"px-4 py-2 text-center"},cE=["value"],uE={class:"px-4 py-2"},dE={class:"px-4 py-2"},hE={class:"px-4 py-2"},fE=1e3,pE=Ze({__name:"AssignCategoryPage",setup(t){const e=G(""),s=G(e.value);let n=null;Ye(e,W=>{n&&clearTimeout(n),n=setTimeout(()=>{s.value=W},300)});const i=G([]),r=G(null),o=G(null),a=G(""),l=G("success"),c=G(!1),u=G(null),d=G(null),h=G({label:"",dateMin:"",dateMax:"",amountMin:null,amountMax:null,category:null,tag:null});Ye([s,u,d],([W,N,se])=>{h.value.label=W,h.value.amountMin=N,h.value.amountMax=se});const{data:f=[],refetch:y}=xn(),p=ye(()=>[...f&&"value"in f?f.value??[]:f??[]].sort((N,se)=>N.label.localeCompare(se.label,"fr")));qy(()=>{if(o.value){const W=p.value.find(N=>N.id===o.value);W&&(r.value=W,o.value=null)}});const g=G(1),{data:b={data:[],count:0},refetch:x}=vg(g,fE,h,c),k=ye(()=>{var se;let N=b&&"value"in b?((se=b.value)==null?void 0:se.data)??[]:(b==null?void 0:b.data)??[];return u.value!==null&&u.value!==void 0&&(N=N.filter(V=>V.amount>=u.value)),d.value!==null&&d.value!==void 0&&(N=N.filter(V=>V.amount<=d.value)),N}),S=ye(()=>i.value.length>0&&r.value&&r.value.id),{mutateAsync:C}=Hc(),j=ut(),D=ye(()=>k.value.length>0&&k.value.every(W=>i.value.includes(W.id)));function $(){D.value?i.value=[]:i.value=k.value.map(W=>W.id)}async function P(){if(!(!r.value||!r.value.id||i.value.length===0))try{const{error:W}=await Le.from("transaction").update({category_id:r.value.id}).in("id",i.value);if(W)throw new Error(W.message);a.value=`Catégorie "${r.value.label}" assignée à ${i.value.length} transaction(s).`,l.value="success",i.value=[],r.value=null,await j.invalidateQueries({queryKey:["transactions"]}),await j.invalidateQueries({queryKey:["categories"]}),x()}catch(W){a.value=W instanceof Error?W.message:"Erreur lors de l'assignation.",l.value="error"}}async function B(W){try{const N=await C({label:W});o.value=N.id,await y();const se=p.value.find(V=>V.id===N.id);se&&(r.value=se,o.value=null)}catch(N){a.value=N instanceof Error?N.message:"Erreur lors de la création de la catégorie.",l.value="error"}}function R(){x()}function T(W){return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(W)}function J(W){if(!W)return"-";const N=new Date(W);return isNaN(N.getTime())?W:N.toLocaleDateString("fr-FR")}function ne(W){const se=(f&&"value"in f?f.value??[]:f??[]).find(V=>V.id===W);return se?se.label:"-"}function pe(){e.value="",s.value="",R()}return(W,N)=>(E(),M("div",GP,[m("div",YP,[N[12]||(N[12]=m("h1",{class:"text-3xl font-extrabold text-gray-900 mb-6 text-center"}," Assigner une catégorie à plusieurs transactions ",-1)),m("div",JP,[xe(m("input",{"onUpdate:modelValue":N[0]||(N[0]=se=>e.value=se),class:"flex-1 border rounded px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500 pr-10",placeholder:"Rechercher des transactions..."},null,512),[[Ke,e.value]]),xe(m("input",{"onUpdate:modelValue":N[1]||(N[1]=se=>u.value=se),class:"w-32 border rounded px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Montant min",step:"0.01",type:"number"},null,512),[[Ke,u.value,void 0,{number:!0}]]),xe(m("input",{"onUpdate:modelValue":N[2]||(N[2]=se=>d.value=se),class:"w-32 border rounded px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Montant max",step:"0.01",type:"number"},null,512),[[Ke,d.value,void 0,{number:!0}]]),e.value?(E(),M("button",{key:0,"aria-label":"Effacer la recherche",class:"absolute right-24 sm:right-36 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-700",type:"button",onClick:pe},N[6]||(N[6]=[m("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[m("path",{d:"M6 18L18 6M6 6l12 12","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})],-1)]))):ge("",!0),m("button",{class:"bg-indigo-600 text-white px-4 py-2 rounded shadow hover:bg-indigo-700",onClick:R}," Rechercher ")]),m("div",XP,[m("label",ZP,[xe(m("input",{"onUpdate:modelValue":N[3]||(N[3]=se=>c.value=se),type:"checkbox"},null,512),[[qu,c.value]]),N[7]||(N[7]=ue(" Afficher uniquement les transactions sans catégorie "))])]),m("div",eE,[re(Y(va),{modelValue:r.value,"onUpdate:modelValue":N[4]||(N[4]=se=>r.value=se),"allow-empty":!0,class:"min-w-[200px] w-full sm:w-auto",label:"label",options:p.value,placeholder:"Sélectionner ou créer une catégorie",taggable:!0,"track-by":"id",onTag:B},null,8,["modelValue","options"]),m("button",{class:"bg-indigo-600 text-white px-4 py-2 rounded shadow hover:bg-indigo-700 disabled:opacity-50",disabled:!S.value,onClick:P}," Assigner la catégorie ",8,tE)]),a.value?(E(),M("div",{key:0,class:et(["mb-4 p-3 rounded text-center",l.value==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},q(a.value),3)):ge("",!0),m("div",sE,[m("table",nE,[m("thead",iE,[m("tr",null,[m("th",rE,[m("input",{"aria-label":D.value?"Tout décocher":"Tout sélectionner",checked:D.value,type:"checkbox",onChange:$},null,40,oE)]),N[8]||(N[8]=m("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Date",-1)),N[9]||(N[9]=m("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"}," Libellé ",-1)),N[10]||(N[10]=m("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"}," Montant (€) ",-1)),N[11]||(N[11]=m("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"}," Catégorie ",-1))])]),m("tbody",aE,[(E(!0),M(ke,null,ht(k.value,se=>(E(),M("tr",{key:se.id},[m("td",lE,[xe(m("input",{"onUpdate:modelValue":N[5]||(N[5]=V=>i.value=V),type:"checkbox",value:se.id},null,8,cE),[[qu,i.value]])]),m("td",uE,q(J(se.transaction_date)),1),m("td",dE,q(se.label),1),m("td",{class:et(["px-4 py-2",se.amount<0?"text-red-600":"text-green-600"])},q(T(se.amount)),3),m("td",hE,q(ne(se.category_id)),1)]))),128))])])])])]))}}),gE=Ot(pE,[["__scopeId","data-v-d1bdcb19"]]),mE={class:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-100 to-white py-12 px-4 sm:px-6 lg:px-8"},yE={class:"max-w-7xl w-full mx-auto bg-white rounded-xl shadow-md overflow-hidden p-8"},bE={class:"flex items-center justify-between mb-6"},vE={class:"text-3xl font-extrabold text-gray-900 text-center"},_E={class:"mb-8"},xE={class:"min-w-full divide-y divide-gray-200 bg-gray-50 rounded"},wE={class:"px-4 py-2 text-left text-lg font-bold text-green-700"},kE={class:"px-4 py-2 text-left text-lg font-bold text-green-700"},SE={class:"px-4 py-2 text-right text-lg font-bold text-blue-700"},CE={class:"px-4 py-2 text-right text-lg font-bold text-blue-700"},OE={key:0,class:"text-center py-8"},TE={key:1},PE={class:"min-w-full divide-y divide-gray-200 mt-6"},EE={class:"bg-white divide-y divide-gray-200"},ME={class:"px-4 py-2 font-semibold"},AE={class:"flex items-center gap-2"},RE={class:"truncate"},$E={class:"px-4 py-2"},DE={key:0},LE={key:1},IE={key:0},FE={key:1},jE={class:"px-4 py-2 text-right"},BE={class:"text-xs mt-1"},NE={key:1,class:"text-blue-700 font-bold"},UE={key:2,class:"text-gray-400"},VE=Ze({__name:"MonthlyRecurringSummaryPage",setup(t){const e=new Date,s=G(e.getMonth()),n=G(e.getFullYear());function i(){s.value===0?(s.value=11,n.value--):s.value--}function r(){s.value===11?(s.value=0,n.value++):s.value++}const{data:o,isLoading:a}=mw(),l=ye(()=>o.value??[]),c=ye(()=>l.value.map(p=>{const g=Array.isArray(p.transactions)?p.transactions:[],b=g.filter(k=>{const S=new Date(k.transaction_date);return S.getFullYear()===n.value&&S.getMonth()===s.value}),x=kg(g.map(k=>({date:k.transaction_date,amount:k.amount})));return{id:p.id,label:p.label,txThisMonth:b,estimate:x}}).sort((p,g)=>p.estimate?g.estimate?p.estimate.estimatedDay-g.estimate.estimatedDay:-1:1)),u=ye(()=>c.value.reduce((p,g)=>p+g.txThisMonth.filter(b=>b.amount<0).reduce((b,x)=>b+x.amount,0),0)),d=ye(()=>c.value.reduce((p,g)=>g.txThisMonth.length===0&&g.estimate&&g.estimate.nextAmount<0?p+g.estimate.nextAmount:p,0)),h=ye(()=>c.value.reduce((p,g)=>p+g.txThisMonth.filter(b=>b.amount>0).reduce((b,x)=>b+x.amount,0),0)),f=ye(()=>c.value.reduce((p,g)=>g.txThisMonth.length===0&&g.estimate&&g.estimate.nextAmount>0?p+g.estimate.nextAmount:p,0)),y=ye(()=>a&&!o.value);return(p,g)=>{const b=_n("router-link");return E(),M("div",mE,[m("div",yE,[m("div",bE,[m("button",{class:"px-3 py-1 rounded bg-indigo-100 hover:bg-indigo-200 text-indigo-700 font-bold",onClick:i}," < "),m("h1",vE," Récapitulatif des opérations récurrentes – Mois de "+q(new Date(n.value,s.value).toLocaleString("fr-FR",{month:"long",year:"numeric"})),1),m("button",{class:"px-3 py-1 rounded bg-indigo-100 hover:bg-indigo-200 text-indigo-700 font-bold",onClick:r}," > ")]),m("div",_E,[m("table",xE,[g[0]||(g[0]=m("thead",null,[m("tr",null,[m("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Déjà sortis "),m("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Déjà rentrés "),m("th",{class:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Prévu à sortir "),m("th",{class:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Prévu à rentrer ")])],-1)),m("tbody",null,[m("tr",null,[m("td",wE,q(u.value.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})),1),m("td",kE,q(h.value.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})),1),m("td",SE,q(d.value.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})),1),m("td",CE,q(f.value.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})),1)])])])]),y.value?(E(),M("div",OE,"Chargement...")):(E(),M("div",TE,[m("table",PE,[g[2]||(g[2]=m("thead",{class:"bg-gray-50"},[m("tr",null,[m("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Catégorie "),m("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Jour prévu "),m("th",{class:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Montant prévu "),m("th",{class:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Statut ")])],-1)),m("tbody",EE,[(E(!0),M(ke,null,ht(c.value,x=>(E(),M("tr",{key:x.id},[m("td",ME,[m("div",AE,[re(b,{class:"text-indigo-600 hover:underline flex-shrink-0",title:"Voir le détail",to:{name:"category-detail",params:{id:x.id}}},{default:Se(()=>[re(mg,{class:"inline w-5 h-5 align-text-bottom"})]),_:2},1032,["to"]),m("span",RE,q(x.label),1)])]),m("td",$E,[x.estimate?(E(),M("span",DE,q(x.estimate.estimatedDay),1)):(E(),M("span",LE,"-"))]),m("td",{class:et(["px-4 py-2 text-right",{"text-red-600":x.estimate&&x.estimate.nextAmount<0,"text-green-600":x.estimate&&x.estimate.nextAmount>0}])},[x.estimate?(E(),M("span",IE,q(x.estimate.nextAmount.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})),1)):(E(),M("span",FE,"-"))],2),m("td",jE,[x.txThisMonth.length>0?(E(),M(ke,{key:0},[g[1]||(g[1]=m("span",{class:"text-green-700 font-bold"},"Déjà en base",-1)),m("ul",BE,[(E(!0),M(ke,null,ht(x.txThisMonth,k=>(E(),M("li",{key:k.id},[ue(q(new Date(k.transaction_date).toLocaleDateString("fr-FR"))+" : ",1),m("span",{class:et(k.amount<0?"text-red-600":"text-green-600")},q(k.amount.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})),3)]))),128))])],64)):x.estimate?(E(),M("span",NE," Prévu le "+q(x.estimate.estimatedDay)+"/"+q((s.value+1).toString().padStart(2,"0")),1)):(E(),M("span",UE,"Pas de données"))])]))),128))])])]))])])}}}),HE=Ot(VE,[["__scopeId","data-v-e889160a"]]),zE=[{path:"/",name:"home",component:Hx,meta:{public:!0}},{path:"/login",name:"login",component:tw,meta:{public:!0}},{path:"/register",name:"register",component:fw,meta:{public:!0}},{path:"/categories",name:"categories",component:Vw},{path:"/categories/:id",name:"category-detail",component:TO,props:!0},{path:"/user",name:"user",component:NO},{path:"/transactions",name:"transactions",component:XT},{path:"/transactions/new",name:"transaction-create",component:oP},{path:"/transactions/:id/edit",name:"transaction-edit",component:LP,props:!0},{path:"/tags",name:"tags",component:QP},{path:"/assign-category",name:"assign-category",component:gE},{path:"/monthly-recurring-summary",name:"monthly-recurring-summary",component:HE}],hm=W0({history:w0("/"),routes:zE});hm.beforeEach(async t=>{if(t.meta.public||t.matched.some(s=>s.meta.public))return!0;const{data:{session:e}}=await Le.auth.getSession();return e!=null&&e.user?!0:{name:"login"}});const ou=Hb(Fx);ou.use(hm);const qE=new Yp;ou.use(bv,{queryClient:qE});ou.mount("#app");export{Pv as g};
